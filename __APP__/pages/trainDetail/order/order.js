!(function () {
  "use strict";
  require("../sub-vendors.js"),
    require("../sub-common/efd0f73c48edfb2f4cf806204cb23544.js"),
    require("../sub-common/e006cce71bea1c38395fdd39436a77c2.js"),
    require("../sub-common/d89ce578031072031f3fc29a11a827dc.js"),
    require("../sub-common/51797e256fe5d32eb00654f03ad3a427.js"),
    require("../sub-common/fecc9c60875b710a8101d0d50626beef.js"),
    require("../sub-common/849af97262623a3a03a4c9ba6f8707d6.js"),
    require("../sub-common/dc0cfe7c36c66175a01e7585a0cfebf3.js"),
    require("../sub-common/9cf383cff2ba8ce0456965e69ba11b63.js"),
    require("../sub-common/023c833735f89bfd8e4bfa6050ae7715.js"),
    require("../sub-common/3edb2b96731d94d93a96699eab306b50.js"),
    require("../sub-common/b3c2309a95e8a51ddd777bd490fa43e7.js"),
    require("../sub-common/19f27d7cebe94aa1035a5e0048e105a3.js"),
    require("../sub-common/df4e17a6370f960d660d521bbd32cf3a.js"),
    require("../sub-common/7a64e02088e78e12a60f5110f7cf05f1.js"),
    require("../sub-common/2134ee5804fe59fe466b0b63fc7acddc.js"),
    require("../sub-common/88207e971f98eff8a3e10f6ee2b5063b.js"),
    require("../sub-common/e5d3d1be4be16b526d43188e1b24d26e.js"),
    require("../sub-common/d3422b412cb888582adccda3ed6c55c4.js"),
    require("../sub-common/30e2515ebd297ee708f98fe67f15a40b.js"),
    require("../sub-common/789d0e61f3340fac4da62181ad8a5446.js"),
    require("../sub-common/40f2b7bd8efebebc05ab739cbbb4a01d.js"),
    require("../sub-common/8e7fedfd866fcd380b23fd0a31b6f284.js"),
    require("../sub-common/3cd35e0ae0d34a9b944389e4550448dd.js"),
    require("../sub-common/0e7f26768e9d25a41ca9ec04be52b877.js"),
    require("../sub-common/2d18c756eb2859b6a32b31f23cfa2e33.js"),
    require("../sub-common/580faf134c1c3cc47a839c0faf698ee0.js"),
    require("../sub-common/96d8eb90504c9d56b897fa852d4b3d57.js"),
    require("../sub-common/b1d98ac3cac0489744b471740be24b38.js"),
    require("../sub-common/556f080ea118d062032d822e87821523.js"),
    require("../sub-common/0c9797aa251d43f43145ab2d45e4a48b.js"),
    require("../sub-common/0c39378aae0ca231220273f5d3cdbf79.js"),
    require("../sub-common/ec3ca716e90bc4e14da1e7766b2b038d.js"),
    require("../sub-common/9a331a48172fb12634a44451f9d453dd.js"),
    require("../sub-common/0fe6dbf848482e14c8c75a1306d43d89.js"),
    require("../sub-common/e7b20424ff0b9e8dc0703854964a056e.js"),
    require("../sub-common/65ce5d264830c3d1e459d8c647c137d0.js"),
    require("../sub-common/9a9d51767ad829cabf4abeb8dadc881f.js"),
    require("../sub-common/86f59da4a97c930d38003a6df12530ed.js"),
    require("../sub-common/ddfd7b03545a7b34a24d4f4b3f57887f.js"),
    require("../sub-common/7b8f0a0a7a87c7a59205a94d6feafde5.js"),
    require("../sub-common/2183a65ee8b33cb31f807fe6c300e374.js"),
    require("../sub-common/5ab7860032c7e24a4cea38de75b4d44e.js"),
    require("../sub-common/eb393c6b4ec96aa37c882bf265b5f0e3.js"),
    require("../sub-common/f74766735f415f1ee0b2a563a6e641e0.js"),
    require("../sub-common/01e9d2595839abcf7ae11c5d8e410df9.js"),
    require("../sub-common/06da63d43ec51bd594f418aac8b2d05f.js"),
    require("../sub-common/ab2fa7545e6121a2a6169982b3f71304.js"),
    require("../sub-common/09aa6290e731a15e4672f1e105aee948.js"),
    require("../sub-common/262942292aeddab6d86214964fedcb9a.js"),
    require("../sub-common/2f4258ed5a4ca32b95d250730b3c6637.js"),
    (wx.webpackJsonp = wx.webpackJsonp || []).push([
      [965],
      {
        45322: function (e, t, n) {
          var r,
            a,
            i,
            o,
            c,
            s,
            l,
            u,
            d,
            f = n(32180),
            m = n(79301),
            p = n(95308),
            h = n(57042),
            g = n(24460),
            v = n(81876),
            T = n(21867),
            Z = n(86066),
            w = n(52500),
            N = n(81957),
            b = n(92954),
            x = n.n(b),
            k = n(22672),
            y = n(45742),
            C = n(33410),
            S = n(79792),
            _ = n(65573),
            I = n(71515),
            V = n(70142),
            R = n(298),
            D = n(74921),
            P = n(4102),
            A = n(49120),
            B = n(74867),
            O = n(79910),
            F = n(8271),
            M = n.n(F),
            E = n(21294),
            L = n(13025),
            X = n(10741),
            z = n(3106),
            U = n(59076),
            j = n(45023),
            G = n(41991),
            H = n(40852),
            W = function (e) {
              var t = e.fromStation,
                n = void 0 === t ? "" : t,
                r = e.fromTime,
                a = void 0 === r ? "" : r,
                i = e.fromDate,
                o = void 0 === i ? "" : i,
                c = e.toStation,
                s = void 0 === c ? "" : c,
                l = e.toTime,
                u = void 0 === l ? "" : l,
                d = e.toDate,
                f = void 0 === d ? "" : d,
                m = e.trainNo,
                p = void 0 === m ? "" : m,
                h = (function () {
                  try {
                    var e = M()("".concat(f || o, " ").concat(u)).diff(
                        "".concat(o, " ").concat(a),
                        "day"
                      ),
                      t =
                        M()("".concat(f || o, " ").concat(u)).diff(
                          "".concat(o, " ").concat(a),
                          "hour"
                        ) -
                        24 * e,
                      n =
                        M()("".concat(f || o, " ").concat(u)).diff(
                          "".concat(o, " ").concat(a),
                          "minute"
                        ) -
                        24 * e * 60 -
                        60 * t;
                    return ""
                      .concat(e > 0 ? "".concat(e, "天") : "")
                      .concat(t > 0 ? "".concat(t, "时") : "")
                      .concat(n > 0 ? "".concat(n, "分") : "");
                  } catch (e) {
                    return "";
                  }
                })();
              return {
                fromStation: n,
                fromTime: a,
                fromDate: o,
                toStation: s,
                toTime: u,
                toDate: f || o,
                trainNo: p,
                fromDateStr: ""
                  .concat(M()(o).format("MM月DD号"), " ")
                  .concat(P.Z.getWeekDayDesc(o)),
                toDateStr: ""
                  .concat(M()(f || o).format("MM月DD号"), " ")
                  .concat(P.Z.getWeekDayDesc(f || o)),
                travelInfoStr: "".concat(p).concat(h ? "·".concat(h) : ""),
              };
            },
            J = function (e) {
              var t = e.orderTicketList,
                n = e.orderStatus,
                r = [100, 103, 104, 105, 106, 111, 400, 102],
                a = [101, 402, 107, 300, 200];
              return t.map(function (i) {
                var o,
                  c =
                    null === (o = i.ticketInfoList) || void 0 === o
                      ? void 0
                      : o.map(function (e) {
                          return (0,
                          R.Z)((0, R.Z)({}, e), {}, { _isUseless: a.includes(null == e ? void 0 : e.ticketStatusCode) });
                        });
                return (0, R.Z)(
                  (0, R.Z)({}, i),
                  {},
                  {
                    ticketInfoList: c,
                    ticketInfos: c,
                    _trainView: W(i),
                    _rescheduleFlag: 2 == i.orderTicketType,
                    _tag: 2 == i.orderTicketType ? "改签" : "",
                    _routeTag:
                      t.some(function (e) {
                        return 2 === e.routeSequence;
                      }) &&
                      "".concat(1 === i.routeSequence ? "第一程" : "第二程"),
                    _isUselessOrder:
                      !r.includes(null == n ? void 0 : n.code) ||
                      !(
                        null == c ||
                        !c.every(function (e) {
                          return e._isUseless;
                        })
                      ),
                    _orderStr: i.electronicNum
                      ? "取票号：".concat(i.electronicNum)
                      : e.tyOrderNo
                      ? "订单号：".concat(e.tyOrderNo)
                      : "",
                  }
                );
              });
            },
            K = function () {
              var e,
                t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                n =
                  null === (e = t.orderDetailItems) || void 0 === e
                    ? void 0
                    : e
                        .filter(function (e) {
                          var t;
                          return (
                            e.name &&
                            (null === (t = e.productValues) || void 0 === t
                              ? void 0
                              : t.length) > 0
                          );
                        })
                        .map(function (e) {
                          var t, n, r, a;
                          return {
                            name: e.name,
                            desc:
                              (null === (t = e.productValues) ||
                              void 0 === t ||
                              null === (n = t[0]) ||
                              void 0 === n
                                ? void 0
                                : n.key) || "",
                            url:
                              (null === (r = e.productValues) ||
                              void 0 === r ||
                              null === (a = r[0]) ||
                              void 0 === a
                                ? void 0
                                : a.value) || "",
                            receiveDidiCouponText:
                              e.receiveDidiCouponText || "",
                            receiveDidiCouponIcon:
                              e.receiveDidiCouponIcon || "",
                            insuranceState: e.insuranceState || 0,
                            productId: e.productId || 0,
                          };
                        });
              return n;
            },
            q = function (e) {
              var t = e.code,
                n = {};
              return (
                (n.isTicketSuccess = 100 == t),
                (n.isRescheduledSuccess = 103 == t),
                (n.isPartRescheduled = 104 == t),
                (n.isRescheduling = 201 == t),
                (n.isTicketingAfterPay = 203 == t),
                (n.isPartReturned = 102 == t),
                (n.isRefunded = 101 == t),
                (n.isGrabPayWait = 301 == t),
                (n.isReschedulePayWait = 302 == t),
                (n.isRescheduleBeConfirmed = 303 == t),
                (n.isHouBu = 214 == t || 215 == t),
                (0, R.Z)((0, R.Z)({}, e), {}, { _orderFlags: n })
              );
            },
            Y = {
              state: {
                orderInfo: null,
                orderTicketList: [],
                orderStatusInfo: null,
                orginalOrder: null,
                rescheduleOrders: [],
                orginalOrderRoute2: null,
                shouldSubscribeMsg: !1,
                refundInsuranceList: [],
                isCrossBorderTrain: !1,
                isHkTrain: !1,
                isMtr: !1,
                isSelfTicket: !1,
              },
              reducers: {
                setOrderInfo: function (e, t) {
                  var n = t.orderStatus,
                    r = (function (e) {
                      var t = ["香港"];
                      return !!e.orderTicketList.find(function (e) {
                        return t.some(function (t) {
                          return (
                            e.toStation.indexOf(t) > -1 ||
                            e.fromStation.indexOf(t) > -1
                          );
                        });
                      });
                    })(t);
                  return (0, R.Z)(
                    (0, R.Z)({}, e),
                    {},
                    {
                      orderInfo: t,
                      orderStatusInfo: q(n),
                      orderTicketList: J(t),
                      orderDetailList: K(t),
                      isHkTrain: r,
                      isCrossBorderTrain: r,
                      isMtr: r,
                      isSelfTicket: 10 == t.orderCenterOrderType,
                    }
                  );
                },
                setOriginalOrder: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { orginalOrder: t });
                },
                setRescheduleOrders: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { rescheduleOrders: t });
                },
                setOriginalSecondOrder: function (e, t) {
                  return (0, R.Z)(
                    (0, R.Z)({}, e),
                    {},
                    { orginalOrderRoute2: t }
                  );
                },
                setShouldSubscribeMsg: function (e, t) {
                  return (0, R.Z)(
                    (0, R.Z)({}, e),
                    {},
                    { shouldSubscribeMsg: t }
                  );
                },
                setRefundInsuranceList: function (e, t) {
                  return (0, R.Z)(
                    (0, R.Z)({}, e),
                    {},
                    { refundInsuranceList: t }
                  );
                },
              },
            },
            Q = {
              state: { toasts: [], notice: null, areas: [], extras: null },
              reducers: {
                setOctopus: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), t);
                },
              },
            },
            $ = {
              state: {
                totalPrice: 0,
                payBtnText: "立即支付",
                isShowPriceDetail: !1,
                priceDetails: [],
                isShowPriceDeskView: !1,
                allDiscountPrice: 0,
                desc: "",
                couponDesc: "",
              },
              reducers: {
                setPriceDeskViewIsShow: function (e, t) {
                  return (0, R.Z)(
                    (0, R.Z)({}, e),
                    {},
                    { isShowPriceDeskView: t }
                  );
                },
                updateTotalPrice: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { totalPrice: t });
                },
                setPayBtnText: function (e) {
                  var t =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : "立即支付";
                  return (0, R.Z)((0, R.Z)({}, e), {}, { payBtnText: t });
                },
                togglePriceDetail: function (e, t) {
                  return (0, R.Z)(
                    (0, R.Z)({}, e),
                    {},
                    {
                      isShowPriceDetail:
                        "boolean" == typeof t ? t : !e.isShowPriceDetail,
                    }
                  );
                },
                updatePriceDetail: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { priceDetails: t });
                },
                updatePriceDesc: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { desc: t });
                },
                updateCouponDesc: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { couponDesc: t });
                },
              },
            };
          (function (e) {
            (e.SpecifySeatFailInterceptToast =
              "mini@/SpecifySeatFailInterceptToast"),
              (e.REFUND = "mini@refund"),
              (e.REFUND_ASK = "mini@refund_ask"),
              (e.RESIGN_ASK = "mini@resign_ask"),
              (e.TRAIN_LATE_QUERY = "mini@LateQuery"),
              (e.VIP_RIGHTS_INFO_TOAST = "mini@vip_rights_info_toast"),
              (e.smartHoldSeatToast = "mini@smartHoldSeatToast"),
              (e.smartHoldSeatDetain = "mini@smartHoldSeatDetain"),
              (e.childAdder = "mini@childAdder"),
              (e.commonTipDrawer = "mini@commonTipDrawer"),
              (e.cashPayOrderRefundToast = "mini@cashPayOrderRefundToast"),
              (e.addTrainTicketToast = "mini@addTrainTicketToast"),
              (e.ticketCollectionShareModal =
                "mini@ticketCollectionShareModal"),
              (e.crossCommonCanlendar = "mini@crossCommonCanlendar"),
              (e.REFUND_INSURANCE = "mini@refund_insurance"),
              (e.smartOrderAutoTicketArea = "smartOrderAutoTicketArea"),
              (e.riskControl43003Toast = "riskControl43003Toast"),
              (e.orderRiskInterceptToast = "orderRiskInterceptToast"),
              (e.giftCounponToast = "giftCounponToast"),
              (e.wxBigCouponToast = "wxBigCouponToast"),
              (e.wxRouteNoticeToast = "wxRouteNoticeToast"),
              (e.smartAutoTicketToast = "smartAutoTicketToast"),
              (e.smartRescheduleStraightToast = "smartRescheduleStraightToast"),
              (e.smartRescheduleRemindToast = "smartRescheduleRemindToast"),
              (e.smartServicePayToast = "smartServicePayToast"),
              (e.WechatFriendToast = "WechatFriendToast"),
              (e.newGiftPakcage = "json-newGiftPakcage"),
              (e.exchangeToast = "exchangeToast"),
              (e.smartRSPeaceRefundToast = "smartRSPeaceRefundToast"),
              (e.smartCSTripInfoToast = "multiAndOverArriveAutoTicketToast"),
              (e.smartApplyServiceFeeRefundToast =
                "smartApplyServiceFeeRefundToast"),
              (e.CommonTipsDialog = "CommonTipsDialog"),
              (e.ticketRecommendSystem = "ticketRecommendSystemToast"),
              (e.smartBookSecondTripDrawer =
                "SmartTripRescheduleTransferBuyGuideToast"),
              (e.smartCouponRemindToast = "smartRescheduleCouponRemindToast"),
              (e.flightCouponRemindToast = "FlightCouponRemindToast"),
              (e.smartRescheduleSaveTripToast = "SmartRescheduleSaveTripToast"),
              (e.AssigneeInfoToast = "AssigneeInfoToast"),
              (e.Login12306ToastV2 = "Login12306ToastV2"),
              (e.LeftOverTicketToast = "LeftOverTicketToast"),
              (e.publicStuGaCardsActivity = "publicStuGaCardsActivity");
          })(r || (r = {})),
            (function (e) {
              (e.TravelServiceArea = "travelServiceArea"),
                (e.wxBigCouponArea = "wxBigCouponArea"),
                (e.multiRouteRefundArea = "multiRouteRefundArea"),
                (e.freeRescheduleGrabRecommendArea =
                  "freeRescheduleGrabRecommendArea"),
                (e.smartOrderAutoTicketArea = "smartOrderAutoTicketArea"),
                (e.smartMultiRouteArea = "smartMultiRouteArea"),
                (e.newGiftPackageArea = "newGiftPackageArea"),
                (e.smartRescheduleStraightArea = "smartRescheduleStraightArea"),
                (e.smartRescheduleRemindArea = "smartRescheduleRemindArea"),
                (e.grabExchangeArea = "grabExchangeArea"),
                (e.delayTicket2EleArea = "delayTicket2EleArea"),
                (e.privateDomainArea = "privateDomainArea"),
                (e.inviteFriendFreeArea = "json-inviteFriendFreeBanner"),
                (e.smartSafeRefundOrderDetailArea =
                  "smartSafeRefundOrderDetailArea"),
                (e.hotelTagCashBackArea = "HotelTagCashBackArea"),
                (e.smartApplyServiceFeeRefundArea =
                  "hotelReturnSmartServiceFeeArea"),
                (e.smartSeatRecommendArea = "smartSeatRecommendArea"),
                (e.ticketUpgradeEntryArea = "ticketUpgradeOrderDetailArea"),
                (e.smartBookSecondTripBanner =
                  "SmartTripRescheduleTransferBuyGuideArea"),
                (e.smartRescheduleSaveTripArea = "SmartRescheduleSaveTripArea"),
                (e.WechatRedPaper = "WechatRedPaper"),
                (e.commonArea = "commonArea"),
                (e.ticketFreeLotteryArea = "ticketFreeLotteryArea"),
                (e.ExclusiveCrowdArea = "ExclusiveCrowdArea");
            })(a || (a = {})),
            (function (e) {
              (e.notLoginNotice = "notLoginNotice"),
                (e.StudentQualificationFailNotice =
                  "StudentQualificationFailNotice");
            })(i || (i = {})),
            (function (e) {
              (e.originalTicketInfo = "mini@originalTicketInfo"),
                (e.officialGuidTipsInfo = "mini@officialGuidTipsInfo"),
                (e.smartHoldSeatData = "mini@smartHoldSeatData");
            })(o || (o = {})),
            (function (e) {
              e.WechatPartnerInterceptToast = "186";
            })(c || (c = {})),
            (function (e) {
              (e.FACE = "f"),
                (e.RESET = "s"),
                (e.MESSAGE = "m"),
                (e.REGISTER = "a"),
                (e.MSG_OR_FACE = "m|f"),
                (e.FACE_OR_MSG = "f|m"),
                (e.SELF_TICKET = "j"),
                (e.PC_RESET_PASSWORD = "resetPsw"),
                (e.QUICK_REFUND = "af"),
                (e.RISK_FACE = "f43"),
                (e.ACCOUNT_LOCK = "g"),
                (e.ACCOUNT_SIGN_OUT = "sp"),
                (e.PASSWORD_ERROR = "l");
            })(s || (s = {})),
            (function (e) {
              (e.BOOK = "book"), (e.REFUND = "refund"), (e.RESIGN = "resign");
            })(l || (l = {})),
            (function (e) {
              (e.book = "买票"), (e.refund = "退票"), (e.resign = "改签");
            })(u || (u = {})),
            (function (e) {
              (e[(e.NORMAL_RESIGN = 0)] = "NORMAL_RESIGN"),
                (e[(e.SELF_RESIGN = 1)] = "SELF_RESIGN");
            })(d || (d = {}));
          var ee,
            te,
            ne = [5, 7, 8, 9, 51, 71, 81, 91, 10],
            re = {
              ty: [
                "wIBbFH__8nnot_4Icg9TnQRZQ7U04TzBYQUZPMrn4l4",
                "muocyLZx1NR1G9CoPkuqF8hV1jkEZ-oyDgSgRQFAsog",
                "82vMbNYEbw10qlFsOq0jOH1dc-xEZM-fgLu0GVuWfwg",
              ],
              zx: [
                "ERy2PU4SwkITeWnNvHgqpijPC-c_4vRVRLU0NvhzNdU",
                "H3N8J1b3pO9FDkTAivEMJA03pgQksXmr04Ut8DA25Ao",
                "kXLnac15BL5LAygKgVCeA1F7-kxEwRlsz5BD3fQcwAw",
              ],
            },
            ae = 35;
          (function (e) {
            (e.REGISTER = "register"),
              (e.RESET = "reset"),
              (e.SIGN_OUT = "signOut"),
              (e.MSG_VERIFY = "MSG_VERIFY"),
              (e.SIGN_OUT_THEN_MSG_VERIFY = "SIGN_OUT_THEN_MSG_VERIFY"),
              (e.FACE_RESET_OR_SIGN_OUT = "FACE_RESET_OR_SIGN_OUT"),
              (e.CALL_SIGN_OUT = "CALL_SIGN_OUT"),
              (e.NEW_ACCOUNT_FACE = "NEW_ACCOUNT_FACE"),
              (e.NEW_ACCOUNT_MSG_VERIFY = "NEW_ACCOUNT_MSG_VERIFY"),
              (e.FACE_VERIFY = "FACE_VERIFY"),
              (e.MESSAGE = "MESSAGE"),
              (e.TICKET_WAIT = "TICKET_WAIT"),
              (e.FACE_SIGN_OUT = "FACE_SIGN_OUT"),
              (e.GET_PASSENGER_INFO = "GET_PASSENGER_INFO"),
              (e.VERIFY_NAME = "VERIFY_NAME"),
              (e.LOGIN_ACCOUNT = "LOGIN_ACCOUNT"),
              (e.PC_RESET_PASSWORD = "PC_RESET_PASSWORD"),
              (e.PASS_RETRIEVE = "PASS_RETRIEVE"),
              (e.CHECK_FACE_VERIFY = "CHECK_FACE_VERIFY"),
              (e.ACCOUNT_MASK = "ACCOUNT_MASK");
          })(ee || (ee = {})),
            (function (e) {
              (e.trnTimeCheck = "trnTimeCheck"),
                (e.stationScreen = "stationScreen"),
                (e.childAdder = "freeChild"),
                (e.ticketUpgrade = "ticketUpgrade"),
                (e.studentQualification = "studentQualification"),
                (e.dynamicTrainRoute = "dynamicTrainRoute"),
                (e.recallLostItem = "recallLostItem"),
                (e.trainTicketHolder = "trainTicketHolder"),
                (e.priorityPassenger = "priorityPassenger"),
                (e.trainStatus = "trainStatus"),
                (e.ticketingInstructions = "ticketingInstructions"),
                (e.transferInquiry = "transferInquiry"),
                (e.outageInquiry = "outageInquiry"),
                (e.informationForChildren = "informationForChildren"),
                (e.informationForStudent = "informationForStudent"),
                (e.officialPoint = "12306Point"),
                (e.QAExpert = "QAExpert");
            })(te || (te = {}));
          var ie,
            oe,
            ce = {
              0: "",
              1: "待申报",
              2: "申报中",
              3: "申报成功",
              4: "申报失败",
              5: "取消申报",
            };
          (function (e) {
            e.ApplyFreeChild = "applyFreeChild";
          })(ie || (ie = {})),
            (function (e) {
              (e.WECHAT = "WEIXIN"),
                (e.FRIEND_CIRCLE = "WEIXIN_CIRCLE"),
                (e.SAVE_TO_LOCAL = "SAVE_TO_LOCAL");
            })(oe || (oe = {}));
          var se,
            le,
            ue = [
              {
                name: "微信好友",
                iconSource:
                  "https://images3.c-ctrip.com/ztrip/train_xie/2022-08/icon_fx_1.png",
                type: oe.WECHAT,
              },
              {
                name: "保存到相册",
                iconSource:
                  "https://images3.c-ctrip.com/ztrip/train_xie/2022-08/icon_fx_4.png",
                type: oe.SAVE_TO_LOCAL,
              },
            ];
          (function (e) {
            (e[(e.HOTEL = 1)] = "HOTEL"),
              (e[(e.TICKET = 2)] = "TICKET"),
              (e[(e.BUS = 4)] = "BUS"),
              (e[(e.FLIGHT = 6)] = "FLIGHT");
          })(se || (se = {})),
            (function (e) {
              (e[(e.STUDENT_TICKET_FAIL_DISCOUNT_TIMES_LOST = 1)] =
                "STUDENT_TICKET_FAIL_DISCOUNT_TIMES_LOST"),
                (e[(e.STUDENT_TICKET_FAIL_DISCOUNT_RANGE_WRONG = 2)] =
                  "STUDENT_TICKET_FAIL_DISCOUNT_RANGE_WRONG");
            })(le || (le = {}));
          var de = [a.commonArea, a.ticketFreeLotteryArea],
            fe = {
              failCode: "",
              loginPassenger: void 0,
              userMobileNumber: "",
              userAccount: "",
              userName: "",
              sceneType: l.BOOK,
              isSelfResign: !1,
            },
            me = {
              state: fe,
              reducers: {
                setAccountHelper: function (e, t) {
                  return (0, R.Z)(
                    (0, R.Z)((0, R.Z)({}, fe), t),
                    {},
                    { sceneTypeName: u[t.sceneType] }
                  );
                },
              },
            },
            pe = {
              state: {
                hotelInfo: null,
                scenicSpot: null,
                vipInfo: null,
                canAddCountTicketAmount: 0,
                productLineRecommendList: null,
                busSelectDate: "",
                flightSelectDate: "",
              },
              reducers: {
                setCanShowPushHotel: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { canShowPushHotel: t });
                },
                setHotelInfo: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { hotelInfo: t });
                },
                setScenicSpotInfo: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { scenicSpot: t });
                },
                setVipRightsInfo: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { vipInfo: t });
                },
                setCanAddCountTicketAmount: function (e, t) {
                  return (0, R.Z)(
                    (0, R.Z)({}, e),
                    {},
                    { canAddCountTicketAmount: t }
                  );
                },
                setProductLineRecommendList: function (e, t) {
                  return (0, R.Z)(
                    (0, R.Z)({}, e),
                    {},
                    { productLineRecommendList: t }
                  );
                },
                setBusSelectDate: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { busSelectDate: t });
                },
                setFlightSelectDate: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { flightSelectDate: t });
                },
              },
            },
            he = {
              state: {
                canAddCountTicketAmount: 0,
                isShowAddTrainTicketAlert: !1,
                shareORCodeImage: "",
                userTicketCollections: null,
                isShowTipsDotInStationServer: !1,
                checkedTicketType: "",
                shareTicket: null,
                hasClickedTicketFloat: !1,
                userTicketCovers: null,
                flipResult: null,
                pageIndex: 1,
                ticketsInfo: [],
                paidScrollRadio: 0,
                addTicket: null,
                userSelectCoverInfo: null,
              },
              reducers: {
                setCanAddCountTicketAmount: function (e, t) {
                  return (0, R.Z)(
                    (0, R.Z)({}, e),
                    {},
                    { canAddCountTicketAmount: t }
                  );
                },
                setIsShowAddTrainTicketAlert: function (e, t) {
                  return (0, R.Z)(
                    (0, R.Z)({}, e),
                    {},
                    { isShowAddTrainTicketAlert: t }
                  );
                },
                setShareORCodeImage: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { shareORCodeImage: t });
                },
                setUserTicketCollections: function (e, t) {
                  return (0, R.Z)(
                    (0, R.Z)({}, e),
                    {},
                    { userTicketCollections: t }
                  );
                },
                setIsShowTipsDotInStationServer: function (e, t) {
                  return (0, R.Z)(
                    (0, R.Z)({}, e),
                    {},
                    { isShowTipsDotInStationServer: t }
                  );
                },
                setCheckedTicketType: function (e, t) {
                  return (0, R.Z)(
                    (0, R.Z)({}, e),
                    {},
                    { checkedTicketType: t }
                  );
                },
                setShareTicket: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { shareTicket: t });
                },
                setHasClickedTicketFloat: function (e, t) {
                  return (0, R.Z)(
                    (0, R.Z)({}, e),
                    {},
                    { hasClickedTicketFloat: t }
                  );
                },
                setUserTicketCovers: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { userTicketCovers: t });
                },
                setFlipResult: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { flipResult: t });
                },
                setPageIndex: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { pageIndex: t });
                },
                setTicketsInfo: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { ticketsInfo: t });
                },
                setPaidScrollRadio: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { paidScrollRadio: t });
                },
                setAddTicket: function (e, t) {
                  return (0, R.Z)((0, R.Z)({}, e), {}, { addTicket: t });
                },
                setUserSelectCoverInfo: function (e, t) {
                  return (0, R.Z)(
                    (0, R.Z)({}, e),
                    {},
                    { userSelectCoverInfo: t }
                  );
                },
              },
            },
            ge = (function (e) {
              (0, T.Z)(n, e);
              var t = (0, Z.Z)(n);
              function n() {
                return (0, h.Z)(this, n), t.apply(this, arguments);
              }
              return (0, g.Z)(n);
            })(G.Z);
          (0, j.Z)(ge, "store", {
            models: {
              my12306Model: H.Z,
              orderModel: Y,
              octopusModel: Q,
              paymentModel: $,
              accountHelperModel: me,
              crossModel: pe,
              ticketCollectionModel: he,
            },
          });
          var ve = function () {
              var e;
              Ze(),
                we(),
                (null === (e = ge.getState().orderModel) || void 0 === e
                  ? void 0
                  : e.isSelfTicket) || Ne();
            },
            Te = function () {
              var e,
                t =
                  null === (e = ge.getState().orderModel.orderTicketList) ||
                  void 0 === e
                    ? void 0
                    : e.find(function (e) {
                        return !e._isUselessOrder;
                      });
              return new Promise(function (e, n) {
                var r = t.toStation,
                  a = void 0 === r ? "" : r;
                (0, X.RZY)({ StationName: a })
                  .then(function (t) {
                    var n = t.CtripCityID,
                      r = void 0 === n ? "" : n,
                      a = t.CityName;
                    e({ cityName: void 0 === a ? "" : a, cityId: r });
                  })
                  .catch(function (e) {
                    console.log(e), n(e);
                  });
              });
            },
            Ze = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n, r, a, i, o, c, s, l, u;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            if (
                              ((e.prev = 0),
                              (r =
                                null ===
                                  (n =
                                    ge.getState().orderModel.orderTicketList) ||
                                void 0 === n
                                  ? void 0
                                  : n.find(function (e) {
                                      return !e._isUselessOrder;
                                    })))
                            ) {
                              e.next = 6;
                              break;
                            }
                            return (
                              ge
                                .getDispatch()
                                .crossModel.setCanShowPushHotel(!1),
                              ge.getDispatch().crossModel.setHotelInfo(t),
                              e.abrupt("return")
                            );
                          case 6:
                            return (
                              (a = r.toDate),
                              (i = void 0 === a ? "" : a),
                              (o = M()(
                                "".concat(i, " ").concat(r.toTime)
                              ).valueOf()),
                              (c = Date.now()),
                              o < c && (i = M()().format("YYYY-MM-DD")),
                              (e.next = 12),
                              Te()
                            );
                          case 12:
                            (s = e.sent),
                              (l = s.cityName),
                              (u = s.cityId),
                              (t = { checkInDate: i, cityName: l, cityId: u }),
                              (e.next = 21);
                            break;
                          case 18:
                            (e.prev = 18),
                              (e.t0 = e.catch(0)),
                              console.log(e.t0);
                          case 21:
                            ge
                              .getDispatch()
                              .crossModel.setCanShowPushHotel(!!t),
                              ge.getDispatch().crossModel.setHotelInfo(t);
                          case 23:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[0, 18]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            we = function () {
              var e, t;
              if (S.default.isWechat) {
                var n =
                  null === (e = ge.getState().orderModel) ||
                  void 0 === e ||
                  null === (t = e.orderTicketList) ||
                  void 0 === t
                    ? void 0
                    : t.find(function (e) {
                        return !e._isUselessOrder;
                      });
                Promise.all([
                  (0, L.h3)({
                    destinationName: (null == n ? void 0 : n.toStation) || "",
                    businessType: 2,
                    orderNumber: ge.getPage().oid,
                  }),
                  (0, L.wu)(),
                ]).then(
                  function (e) {
                    var t = {};
                    if (e[0] && 1 === e[0].resultCode) {
                      var n = e[0],
                        r = n.title,
                        a = void 0 === r ? "" : r,
                        i = n.couponTotalPrice,
                        o = void 0 === i ? 0 : i,
                        c = n.cityId,
                        s = void 0 === c ? "" : c,
                        l = n.cityName,
                        u = void 0 === l ? "" : l,
                        d = n.scenicSpotList,
                        f = void 0 === d ? [] : d;
                      (null == f ? void 0 : f.length) > 0 &&
                        ((t.scenicSpotInfo = {
                          title: a,
                          couponTotalPrice: o,
                          scenicSpotCityId: s,
                          scenicSpotCityName: u,
                        }),
                        ge.ubtTrace("s_trn_z_trace_10650060639", {
                          bizKey: "z_mini_ordDetail_tripTicket_show",
                        }));
                    }
                    if (e[1] && 1 === e[1].resultCode) {
                      var m = e[1].labels || [];
                      t.isScenicSpotOldUser = m.some(function (e) {
                        return 161041 == e.labelCode && "1" == e.labelValue;
                      });
                    }
                    ge.getDispatch().crossModel.setScenicSpotInfo(t);
                  },
                  function (e) {
                    console.log(e);
                  }
                );
              }
            },
            Ne = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (e.prev = 0),
                              (e.next = 3),
                              new Promise(function (e, t) {
                                (0, U.l8)({
                                  orderNumber: ge.getPage().oid,
                                  orderType: 1,
                                  sourceType: 1,
                                })
                                  .then(function (t) {
                                    if (1 === t.resultCode) {
                                      var n = t.showVipEntity,
                                        r = t.showVipInfoEntity;
                                      n &&
                                        n.title &&
                                        ((n.title = n.title.split("，")[0]),
                                        (n.newTitle = O.Z.convertStr(n.title)),
                                        ge.ubtTrace(
                                          "s_trn_z_trace_10650060639",
                                          {
                                            bizKey:
                                              "z_mini_ordDetail_member_show",
                                          }
                                        )),
                                        r &&
                                          r.showVipRightList &&
                                          r.showVipRightList.length > 0 &&
                                          r.showVipRightList.forEach(function (
                                            e
                                          ) {
                                            e.specialRightList &&
                                              e.specialRightList.length > 0 &&
                                              e.specialRightList.forEach(
                                                function (e) {
                                                  (e.newTitle = O.Z.convertStr(
                                                    e.title
                                                  )),
                                                    e.showVipRightDetailList &&
                                                      e.showVipRightDetailList
                                                        .length > 0 &&
                                                      e.showVipRightDetailList.forEach(
                                                        function (e) {
                                                          e.saveValue &&
                                                            (e.newSaveValue =
                                                              O.Z.convertStr(
                                                                e.saveValue
                                                              ));
                                                        }
                                                      );
                                                }
                                              );
                                          }),
                                        e({
                                          vipInfo: {
                                            showVipEntity: n,
                                            showVipInfoEntity: r,
                                          },
                                        });
                                    }
                                  })
                                  .catch(function (e) {
                                    console.log(e), t(e);
                                  });
                              })
                            );
                          case 3:
                            (t = e.sent),
                              (n = t.vipInfo) &&
                                ge.getDispatch().crossModel.setVipRightsInfo(n),
                              (e.next = 11);
                            break;
                          case 8:
                            (e.prev = 8),
                              (e.t0 = e.catch(0)),
                              console.log(e.t0);
                          case 11:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[0, 8]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            be = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n, r, a, i, o, c, s, l, u, d;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            if (
                              ((e.prev = 0),
                              (r =
                                null === (t = ge.getState().orderModel) ||
                                void 0 === t ||
                                null === (n = t.orderTicketList) ||
                                void 0 === n
                                  ? void 0
                                  : n.find(function (e) {
                                      return !e._isUselessOrder;
                                    })) &&
                                null != r &&
                                r.fromStation &&
                                null != r &&
                                r.toStation)
                            ) {
                              e.next = 4;
                              break;
                            }
                            return e.abrupt("return", null);
                          case 4:
                            return (
                              (a = r.fromStation),
                              (i = r.toStation),
                              (o = r.fromDate),
                              (c = r.fromTime),
                              (s = r.toDate),
                              (l = r.toTime),
                              (u = {
                                orderNumber: ge.getPage().oid,
                                departStation: a,
                                arriveStation: i,
                                departDateTime: ""
                                  .concat(o, " ")
                                  .concat(c, ":00"),
                                arriveDateTime: ""
                                  .concat(s, " ")
                                  .concat(l, ":00"),
                                clientInfos: [
                                  { name: "pageSource", value: "train_detail" },
                                ],
                              }),
                              (e.next = 8),
                              (0, X.CVp)(u)
                            );
                          case 8:
                            if (!(d = e.sent) || !d.resultCode) {
                              e.next = 13;
                              break;
                            }
                            return e.abrupt(
                              "return",
                              d.productLineRecommendList
                            );
                          case 13:
                            return e.abrupt("return", null);
                          case 14:
                            e.next = 19;
                            break;
                          case 16:
                            return (
                              (e.prev = 16),
                              (e.t0 = e.catch(0)),
                              e.abrupt("return", null)
                            );
                          case 19:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[0, 16]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            xe = function (e) {
              if (e) {
                var t = e;
                t.map(function (e) {
                  return (e._recommend = JSON.parse(e.recommendJson));
                }),
                  ge.getDispatch().crossModel.setProductLineRecommendList(t);
              } else
                ge.getDispatch().crossModel.setProductLineRecommendList(null);
            },
            ke = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t, n) {
                  var a, i, o, c, s;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (a = M()().format("YYYY-MM-DD")),
                            (i = M()()
                              .add(z.J8 - 1, "day")
                              .format("YYYY-MM-DD")),
                            (e.next = 4),
                            Yn({
                              toast: {
                                toastCode: r.crossCommonCanlendar,
                                data: {
                                  beginDate: a,
                                  endDate: i,
                                  selectedDate: t || "",
                                },
                              },
                            })
                          );
                        case 4:
                          (o = e.sent),
                            (c = o.data),
                            (s = void 0 === c ? [] : c).length > 0 &&
                              s[0] &&
                              ("bus" === n
                                ? ge
                                    .getDispatch()
                                    .crossModel.setBusSelectDate(s[0])
                                : ge
                                    .getDispatch()
                                    .crossModel.setFlightSelectDate(s[0]));
                        case 8:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t, n) {
                return e.apply(this, arguments);
              };
            })(),
            ye = function () {
              var e,
                t =
                  null === (e = ge.getState().orderModel.orderInfo) ||
                  void 0 === e
                    ? void 0
                    : e.tupJumpUrl;
              t && ge.navigateTo({ url: t });
            },
            Ce = n(90129),
            Se = n(18783),
            _e = n(25391),
            Ie = n(97939),
            Ve = n(76290),
            Re = n(22276),
            De = n(96158),
            Pe = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n, i, o, c, s, l, u, d, f, p, h, g, v, T;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (
                            ((o =
                              null ===
                                (t = Ve.ZP.parseOctopusAreaV2(
                                  null ===
                                    (n = ge.getState().octopusModel.areas) ||
                                    void 0 === n
                                    ? void 0
                                    : n.find(function (e) {
                                        return (
                                          e.areaCode === a.TravelServiceArea
                                        );
                                      })
                                )) || void 0 === t
                                ? void 0
                                : t._jsonInfo),
                            null ==
                              (c =
                                null == o
                                  ? void 0
                                  : o.find(function (e) {
                                      return e.type === te.childAdder;
                                    })) ||
                              null === (i = c.ext) ||
                              void 0 === i ||
                              !i.eleTicket)
                          ) {
                            e.next = 5;
                            break;
                          }
                          return (
                            ge.showCommonDialog(
                              '当前订单暂不支持在线申报免费乘车儿童，您可<font color="#198CFF">发车前在售票窗口办理申报手续</font>。'
                            ),
                            e.abrupt("return")
                          );
                        case 5:
                          if (
                            ((s = Ae()),
                            (l = Be()),
                            !((null == s ? void 0 : s.length) <= 0))
                          ) {
                            e.next = 10;
                            break;
                          }
                          return (
                            ge.showCommonDialog(
                              "一位成人旅客只能免费携带一名免费儿童"
                            ),
                            e.abrupt("return")
                          );
                        case 10:
                          return (
                            (e.next = 12),
                            Yn({
                              toast: {
                                toastCode: r.childAdder,
                                data: {
                                  validPassengers: s,
                                  freedPassengers: l,
                                },
                              },
                            })
                          );
                        case 12:
                          if (
                            ((u = e.sent),
                            (d = u.code),
                            (f = u.data),
                            1 === d && null != f && f[0])
                          ) {
                            e.next = 18;
                            break;
                          }
                          return (
                            B.Z.commonDebugTrace("handleChildAdder cancel..."),
                            e.abrupt("return")
                          );
                        case 18:
                          return (
                            B.Z.commonDebugTrace(
                              "handleChildAdder submit:  ".concat(
                                JSON.stringify(f[0])
                              )
                            ),
                            (p = f[0]),
                            (h = p.choosenKid),
                            (g = p.choosenPas),
                            (0, A.showLoading)(),
                            (e.next = 23),
                            (0, De.M9)({
                              orderNumber: ge.getPage().oid,
                              childInfo: {
                                name: h.pasName,
                                idType: De.PJ[h.cardType],
                                idNumber: h.IdentityNo,
                                mobile: h.Mobile,
                              },
                              passengerName: g,
                            })
                          );
                        case 23:
                          (v = e.sent),
                            (T = v.message),
                            (0, A.hideLoading)(),
                            ge.showCommonDialog(T),
                            Kn();
                        case 28:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            Ae = function () {
              var e = ge.getState().orderModel,
                t = e.rescheduleOrders,
                n = e.orginalOrder,
                r = e.orginalOrderRoute2,
                a = e.orderInfo,
                i = [];
              a.orderTicketList.forEach(function (e) {
                var t = e.ticketInfoList.filter(function (e) {
                  var t;
                  return (
                    !!e.freePassenger &&
                    ![4, 5].includes(
                      null === (t = e.freePassenger) || void 0 === t
                        ? void 0
                        : t.declareStatus
                    )
                  );
                });
                i = i.concat(
                  t.map(function (e) {
                    return e.passengerName;
                  })
                );
              });
              var o = new Set();
              return (
                [].concat((0, Re.Z)(t), [n, r]).forEach(function (e) {
                  e &&
                    e.ticketInfoList.forEach(function (e) {
                      var t = E.Z.tripleDESDecrypt(e.idMark).substring(6, 14),
                        n = M()(t).format("YYYY-MM-DD"),
                        r = (M()().valueOf() - M()(n).valueOf()) / 864e5;
                      !e._isUseless &&
                        r >= 6570 &&
                        !i.includes(e.passengerName) &&
                        o.add(e.passengerName);
                    });
                }),
                (0, Re.Z)(o)
              );
            },
            Be = function () {
              var e = ge.getState().orderModel.orderInfo,
                t = [];
              return (
                e.orderTicketList.forEach(function (e) {
                  var n = e.ticketInfoList.filter(function (e) {
                    var t;
                    return (
                      !!e.freePassenger &&
                      ![4, 5].includes(
                        null === (t = e.freePassenger) || void 0 === t
                          ? void 0
                          : t.declareStatus
                      )
                    );
                  });
                  t = t.concat(
                    n.map(function (e) {
                      return e.freePassenger.passportName;
                    })
                  );
                }),
                (0, Re.Z)(t)
              );
            },
            Oe = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r, a, i;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (e.next = 2),
                            ar({
                              title: "确认删除随行儿童?",
                              content:
                                '删除乘客后，您可通订单详情的<font color="#1A8CFF">「行程服务-免费儿童」</font>重新申报免费儿童。',
                            })
                          );
                        case 2:
                          if (((r = e.sent), 1 === r.code)) {
                            e.next = 6;
                            break;
                          }
                          return e.abrupt("return");
                        case 6:
                          return (
                            console.log("ticket", t),
                            (0, A.showLoading)(),
                            (e.next = 10),
                            (0, De.br)({
                              orderNumber: ge.getPage().oid,
                              passengerName: t.passengerName,
                              childName:
                                null === (n = t.freePassenger) || void 0 === n
                                  ? void 0
                                  : n.passportName,
                            })
                          );
                        case 10:
                          (a = e.sent),
                            (i = a.message),
                            (0, A.hideLoading)(),
                            ge.showCommonDialog(i),
                            Kn();
                        case 15:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            Fe = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (null != t && t.freePassenger) {
                            e.next = 3;
                            break;
                          }
                          return (
                            ge.showCommonDialog(
                              "随行儿童数据不正确，无法申报~"
                            ),
                            e.abrupt("return")
                          );
                        case 3:
                          return (
                            (0, A.showLoading)(),
                            (e.next = 6),
                            (0, De.M9)({
                              orderNumber: ge.getPage().oid,
                              childInfo: {
                                name: t.freePassenger.passportName,
                                idType: t.freePassenger.passportType,
                                idNumber: t.freePassenger.passportNumber,
                                mobile: t.freePassenger.contactMobile,
                              },
                              passengerName: t.passengerName,
                            })
                          );
                        case 6:
                          (n = e.sent),
                            (r = n.message),
                            (0, A.hideLoading)(),
                            ge.showCommonDialog(r),
                            Kn();
                        case 11:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            Me = ["toastCode"],
            Ee = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n, r, a;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            if (((e.prev = 0), Se.ZP.isLogin)) {
                              e.next = 3;
                              break;
                            }
                            return e.abrupt("return", null);
                          case 3:
                            return (
                              (t = ge.getPage().oid),
                              (n = ge.getState().my12306Model),
                              (r = _e.ZP.encode12306Account({
                                login12306Name: n.login12306Name,
                                login12306Pas: n.login12306Pas,
                              })),
                              (e.next = 8),
                              Promise.all([
                                (0, X.SON)({
                                  orderNumber: t,
                                  fromSource: 1,
                                  clientUserInfo: {
                                    userAuth12306Status:
                                      n.auth12306Status || -1,
                                    user12306Name: r.login12306Name,
                                    loginMobile:
                                      Se.ZP.userName ||
                                      x().getStorageSync("userName") ||
                                      "",
                                    user12306Error: 0,
                                  },
                                }),
                                (0, X.uLe)({ orderNumber: t, fromSource: 1 }),
                              ])
                            );
                          case 8:
                            return (a = e.sent), e.abrupt("return", a);
                          case 12:
                            return (
                              (e.prev = 12),
                              (e.t0 = e.catch(0)),
                              e.abrupt("return", null)
                            );
                          case 15:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[0, 12]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            Le = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r, a, i, c, s, l, u, d, f, p, h, g, v, T, Z;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          (n = t || []),
                            (r = (0, Ce.Z)(n, 2)),
                            (a = r[0]),
                            (i = r[1]),
                            (s = (c = a || {}).notices),
                            (l = void 0 === s ? [] : s),
                            (u = c.toasts),
                            (d = void 0 === u ? [] : u),
                            (f = c.areas),
                            (p = void 0 === f ? [] : f),
                            (h = i.smartHoldSeatState),
                            (g = i.officialGuidTips),
                            (v = i.originalTicketInfo),
                            (T = i.orderFlagInfo),
                            (Z = []).push({
                              extraCode: o.originalTicketInfo,
                              data: v,
                            }),
                            Z.push({
                              extraCode: o.officialGuidTipsInfo,
                              data: g,
                            }),
                            ge
                              .getDispatch()
                              .octopusModel.setOctopus({
                                notices: l,
                                toasts: d,
                                areas: p,
                                extras: Z,
                              }),
                            2 == h && ze(),
                            [1, 2].includes(
                              null == T ? void 0 : T.bookTicketByStep
                            ) && Xe();
                        case 9:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            Xe = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t,
                    n,
                    a,
                    i,
                    o,
                    c,
                    s = arguments;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            if (
                              ((t = s.length > 0 && void 0 !== s[0] ? s[0] : 0),
                              !ge.getPage()._isUnmout)
                            ) {
                              e.next = 3;
                              break;
                            }
                            return e.abrupt("return");
                          case 3:
                            return (
                              (e.prev = 3),
                              (e.next = 6),
                              (0, U.ff)({ orderNumber: ge.getPage().oid })
                            );
                          case 6:
                            if (
                              3 !=
                              (null == (n = e.sent) ? void 0 : n.resultCode)
                            ) {
                              e.next = 18;
                              break;
                            }
                            if (((a = n.totalPollingTime || 20), !(t > a))) {
                              e.next = 13;
                              break;
                            }
                            return e.abrupt("return");
                          case 13:
                            return (
                              (e.next = 15),
                              O.Z.awaitTime(1e3 * n.pollingInterval)
                            );
                          case 15:
                            return e.abrupt("return", Xe(t + 1));
                          case 16:
                            e.next = 19;
                            break;
                          case 18:
                            1 == (null == n ? void 0 : n.resultCode) &&
                              (o = n.bookTicketByStepToast) &&
                              !or() &&
                              M()(
                                null == o ||
                                  null === (i = o.button) ||
                                  void 0 === i
                                  ? void 0
                                  : i.payTimeLimit
                              ).isAfter(M()()) &&
                              (Yn({
                                toast: {
                                  toastCode: r.SpecifySeatFailInterceptToast,
                                  data: n.bookTicketByStepToast,
                                },
                                onConfirm: function (e) {
                                  return (0, p.Z)(
                                    (0, m.Z)().mark(function t() {
                                      var n, r;
                                      return (0, m.Z)().wrap(function (t) {
                                        for (;;)
                                          switch ((t.prev = t.next)) {
                                            case 0:
                                              return (
                                                (t.next = 2),
                                                (0, U.SU)({
                                                  orderNumber: ge.getPage().oid,
                                                  confirmCode: e,
                                                })
                                              );
                                            case 2:
                                              return (
                                                (0, A.showLoading)(),
                                                (t.next = 5),
                                                O.Z.awaitTime(1e3)
                                              );
                                            case 5:
                                              (0, A.hideLoading)(),
                                                Kn(),
                                                1 == e
                                                  ? ge.ubtTrace(
                                                      "TZWBuyOrderDetail_ZDFailRetailPop_Accept_click",
                                                      {
                                                        PageId:
                                                          ge.getPage().pageId,
                                                        orderid:
                                                          ge.getPage().oid,
                                                        Type:
                                                          null == o ||
                                                          null ===
                                                            (n = o.ext) ||
                                                          void 0 === n
                                                            ? void 0
                                                            : n.seatType,
                                                      }
                                                    )
                                                  : ge.ubtTrace(
                                                      "TZWBuyOrderDetail_ZDFailRetailPop_Reject_click",
                                                      {
                                                        PageId:
                                                          ge.getPage().pageId,
                                                        orderid:
                                                          ge.getPage().oid,
                                                        Type:
                                                          null == o ||
                                                          null ===
                                                            (r = o.ext) ||
                                                          void 0 === r
                                                            ? void 0
                                                            : r.seatType,
                                                      }
                                                    );
                                            case 8:
                                            case "end":
                                              return t.stop();
                                          }
                                      }, t);
                                    })
                                  )();
                                },
                                onCancel: function () {
                                  Kn();
                                },
                              }),
                              ge.ubtTrace(
                                "TZWBuyOrderDetail_ZDFailRetailPop_exposure",
                                {
                                  PageId: ge.getPage().pageId,
                                  orderid: ge.getPage().oid,
                                  Type:
                                    null == o ||
                                    null === (c = o.ext) ||
                                    void 0 === c
                                      ? void 0
                                      : c.seatType,
                                }
                              ));
                          case 19:
                            e.next = 24;
                            break;
                          case 21:
                            (e.prev = 21),
                              (e.t0 = e.catch(3)),
                              console.error(e.t0);
                          case 24:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[3, 21]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            ze = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (e.next = 2), Je();
                        case 2:
                          (t = e.sent),
                            (n = ge.getState().octopusModel.extras).push({
                              extraCode: o.smartHoldSeatData,
                              data: t,
                            }),
                            ge
                              .getDispatch()
                              .octopusModel.setOctopus({ extras: n });
                        case 6:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            Ue = function (e) {
              var t,
                n = ge.getPage().oid;
              return (
                (t = {}),
                (0, j.Z)(t, r.wxBigCouponToast, { id: n, maxTime: 1 }),
                (0, j.Z)(t, r.exchangeToast, { id: n, maxTime: 1 }),
                (0, j.Z)(t, r.smartRescheduleRemindToast, {
                  id: (null == e ? void 0 : e.rescheduleOrderNumber) || n,
                  maxTime: 3,
                }),
                (0, j.Z)(t, r.smartServicePayToast, { id: n, maxTime: 1 }),
                (0, j.Z)(t, r.wxRouteNoticeToast, { id: n, maxTime: 1 }),
                (0, j.Z)(t, r.smartAutoTicketToast, { id: n, maxTime: 1 }),
                (0, j.Z)(t, r.WechatFriendToast, { id: n, maxTime: 1 }),
                (0, j.Z)(t, r.smartHoldSeatToast, { id: n, maxTime: 1 }),
                (0, j.Z)(t, r.smartCSTripInfoToast, { id: n, maxTime: 1 }),
                (0, j.Z)(t, r.CommonTipsDialog, { id: n, maxTime: 1 }),
                (0, j.Z)(t, r.smartBookSecondTripDrawer, { id: n, maxTime: 1 }),
                (0, j.Z)(t, r.smartCouponRemindToast, { id: n, maxTime: 1 }),
                (0, j.Z)(t, r.flightCouponRemindToast, { id: n, maxTime: 2 }),
                (0, j.Z)(t, r.Login12306ToastV2, { id: n, maxTime: 1 }),
                t
              );
            },
            je = function (e) {
              var t;
              return (
                (null == e ? void 0 : e.toastCode) !== r.smartServicePayToast ||
                -1 !==
                  ne.indexOf(
                    null == e || null === (t = e._jsonInfo) || void 0 === t
                      ? void 0
                      : t.rescheduleType
                  )
              );
            },
            Ge = function (e) {
              var t, n;
              if (null == e || !e.toastCode) return !1;
              var r = Ue(e),
                a =
                  (null === (t = r[e.toastCode]) || void 0 === t
                    ? void 0
                    : t.maxTime) || 1e3,
                i = [];
              Object.keys(r).forEach(function (e) {
                r[e].id && (i[e] = r[e].id);
              });
              var o =
                (null ===
                  (n = Ve.ZP.getTrainCrossToastCountInStore4Service(
                    i,
                    Ve.y3.orderDetail
                  ).find(function (t) {
                    return t.ruleCode === e.toastCode;
                  })) || void 0 === n
                  ? void 0
                  : n.showCount) || 0;
              return (
                console.log(
                  "toast：",
                  e.toastCode,
                  "历史已弹出：",
                  o,
                  "最多可弹出：",
                  a
                ),
                o < a && je(e)
              );
            },
            He = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n, a, i, c, s, l, u;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (i = null), (e.next = 3), Ke();
                        case 3:
                          if (!e.sent) {
                            e.next = 6;
                            break;
                          }
                          return e.abrupt("return");
                        case 6:
                          (c =
                            null === (t = ge.getState().octopusModel.extras) ||
                            void 0 === t ||
                            null ===
                              (n = t.find(function (e) {
                                return e.extraCode === o.smartHoldSeatData;
                              })) ||
                            void 0 === n
                              ? void 0
                              : n.data)
                            ? (i = { toastCode: r.smartHoldSeatToast, data: c })
                            : ((s = ge.getState().octopusModel.toasts),
                              (i = Ve.ZP.parseOctopusToast(
                                s.find(function (e) {
                                  return 1 === e.toastType;
                                })
                              ))),
                            (l = Ge(i)),
                            null !== (a = i) &&
                              void 0 !== a &&
                              a.toastCode &&
                              l &&
                              (Yn({ toast: i }),
                              Ve.ZP.countTrainCrossToastInStore({
                                codeName: i.toastCode,
                                fromPage: Ve.y3.orderDetail,
                                uniqueCountId:
                                  null === (u = Ue(i)[i.toastCode]) ||
                                  void 0 === u
                                    ? void 0
                                    : u.id,
                              }));
                        case 10:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            We = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r, a, i, o;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (n = t.toastCode),
                            (r = (0, D.Z)(t, Me)),
                            (a = ge.getState().octopusModel.toasts || []),
                            (i =
                              null == a
                                ? void 0
                                : a.find(function (e) {
                                    return e.toastCode === n;
                                  })),
                            (o = Ve.ZP.parseOctopusToast(i)),
                            e.abrupt(
                              "return",
                              Yn(
                                (0, R.Z)(
                                  { toast: (0, R.Z)({ toastCode: n }, o) },
                                  r
                                )
                              )
                            )
                          );
                        case 5:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            Je = function () {
              return (
                (0, A.showLoading)(),
                (0, X.ZBM)({ orderNumber: ge.getPage().oid })
                  .then(function (e) {
                    if (1 == e.resultCode && e.tripType)
                      return {
                        tripType: e.tripType,
                        headInfo: e.headInfo,
                        originTicketInfo: e.originTicketInfo,
                        holdSeatTrip: e.holdSeatTrip,
                        recommendTrip: e.recommendTrip,
                        tipList: e.tipList,
                        travelFlagIconUrl: e.travelFlagIconUrl,
                      };
                  })
                  .catch(console.log)
                  .finally(function () {
                    return (0, A.hideLoading)();
                  })
              );
            },
            Ke = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          (t = !1),
                            (n = ge.getPage().operateType),
                            (e.t0 = n),
                            (e.next = e.t0 === ie.ApplyFreeChild ? 5 : 8);
                          break;
                        case 5:
                          return (
                            ge.getPage().isAutoShowFreeChildDrawer ||
                              ((t = !0),
                              Pe(),
                              (ge.getPage().isAutoShowFreeChildDrawer = !0)),
                            e.abrupt("break", 9)
                          );
                        case 8:
                          return e.abrupt("break", 9);
                        case 9:
                          return e.abrupt("return", t);
                        case 10:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            qe = n(93761),
            Ye = n(88424),
            Qe = n(86977),
            $e = n(20592),
            et = n(9153),
            tt = n(48813),
            nt = function (e) {
              return new Promise(function (t, n) {
                (function (e) {
                  var t = { param: e, scene: et.I5 };
                  return new Promise(function (e, n) {
                    (0, L.OJ)(t)
                      .then(function (t) {
                        1 === t.resultCode ? e(t.key) : n();
                      })
                      .catch(function () {
                        return n();
                      });
                  });
                })(e).then(
                  function (e) {
                    var r = {
                      width: "430",
                      scene: e,
                      page: "pages/market/unlimitQRCode/index",
                    };
                    (0, L.a2)(r)
                      .then(function (e) {
                        1 === e.resultCode && e.url ? t(e.url) : n();
                      })
                      .catch(function () {
                        return n();
                      });
                  },
                  function () {
                    n();
                  }
                );
              });
            },
            rt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r, a, i, o, c;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (a = t.scene),
                            (i =
                              a === l.REFUND
                                ? null === (n = $n()) || void 0 === n
                                  ? void 0
                                  : n.path
                                : null === (r = er()) || void 0 === r
                                ? void 0
                                : r.path),
                            (o = a === l.REFUND ? "退票" : "改签"),
                            (0, A.showLoading)(),
                            (e.next = 6),
                            nt(i)
                          );
                        case 6:
                          if (((c = e.sent), (0, A.hideLoading)(), c)) {
                            e.next = 10;
                            break;
                          }
                          return e.abrupt("return");
                        case 10:
                          return e.abrupt(
                            "return",
                            ge.commonDrawerAlert({
                              title: "保存二维码 转发好友完成".concat(o),
                              content: function () {
                                return (0, tt.tZ)(I.Image, {
                                  src: c,
                                  style: {
                                    width: (0, b.pxTransform)(250),
                                    borderRadius: "50%",
                                  },
                                  mode: "widthFix",
                                  showMenuByLongPress: !0,
                                });
                              },
                              renderButtonView: function () {
                                return (0, tt.tZ)(tt.HY, {});
                              },
                            })
                          );
                        case 11:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            at = function () {
              var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = e,
                n = t.fromStation,
                r = void 0 === n ? "" : n,
                a = t.fromDate,
                i = void 0 === a ? "" : a,
                o = t.fromTime,
                c = void 0 === o ? "" : o;
              if (!r.includes("香港西九龙")) return !1;
              var s = M()(i + " " + c).valueOf(),
                l = Math.floor((s - Date.now()) / 6e4),
                u = l < 60;
              return u;
            };
          function it(e, t) {
            var n = "",
              r = ge.getState().my12306Model;
            if ((null == e ? void 0 : e.rescheduleType) === d.SELF_RESIGN)
              n = null == t ? void 0 : t.passengerName;
            else {
              var a,
                i = (function (e, t) {
                  return (
                    e.account12306Name === t.login ||
                    e.account12306Name === (t.real_mobile || t.mobile)
                  );
                })(e, r);
              n =
                e.accountUserRealName ||
                (i && (null == r ? void 0 : r.name)) ||
                (null == e ||
                null === (a = e.currentOrderAccountInfo) ||
                void 0 === a
                  ? void 0
                  : a.accountPassportName) ||
                (null == t ? void 0 : t.passengerName);
            }
            return n;
          }
          var ot = function (e) {
              var t = e.reScheduleFailReason,
                n = e.account12306Name,
                r = e._ticket,
                a = it(e, r),
                i = E.Z.tripleDESDecrypt(r.idMark),
                o = null == e ? void 0 : e.currentOrderAccountInfo;
              It({
                failCode: t,
                sceneType: l.RESIGN,
                isSelfResign:
                  (null == e ? void 0 : e.rescheduleType) === d.SELF_RESIGN,
                loginPassenger:
                  (null == e ? void 0 : e.rescheduleType) === d.SELF_RESIGN
                    ? {
                        mobileNumber: r.mobile,
                        passengerName: r.passengerName,
                        passportCode: i,
                        passportType: r.passportType,
                      }
                    : {
                        mobileNumber: null == o ? void 0 : o.accountMobile,
                        passengerName:
                          (null == o ? void 0 : o.accountPassportName) ||
                          e.accountUserRealName ||
                          "",
                        passportCode:
                          null == o ? void 0 : o.accountPassportNumber,
                        passportType:
                          De.PJ[
                            (null == o ? void 0 : o.accountPassportType) || ""
                          ] || "身份证",
                      },
                userAccount: n,
                userName: a,
                userMobileNumber: r.mobile,
                targetTicketInfo: { ticket: r, order: e._order },
                originalErrorInfo: e,
              });
            },
            ct = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, a;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          (n = t._ticket),
                            (a = it(t, n)),
                            (t.personalTicketReScheduleToastInfo.desc =
                              (null == t ? void 0 : t.rescheduleType) ===
                              d.SELF_RESIGN
                                ? '请确认是否是乘车人本人：<span style="color:#198CFF">'.concat(
                                    a,
                                    "</span>"
                                  )
                                : '请确认是否是12306账号本人：<span style="color:#198CFF">'.concat(
                                    a,
                                    "</span>"
                                  )),
                            ot(t),
                            Yn({
                              toast: {
                                toastCode: r.RESIGN_ASK,
                                data: t.personalTicketReScheduleToastInfo,
                              },
                              onConfirm: function (e) {
                                if (1 !== e)
                                  return (
                                    ge.ubtTrace(
                                      "c_trn_z_10650060639",
                                      (0, R.Z)(
                                        (0, R.Z)({}, Gt()),
                                        {},
                                        {
                                          bizKey:
                                            "d_refund_pop_nonPersonal_click",
                                        }
                                      )
                                    ),
                                    void (
                                      (0, Qe.JO)() ||
                                      (Qn(), rt({ scene: l.RESIGN }))
                                    )
                                  );
                                jt(),
                                  ge.ubtTrace(
                                    "c_trn_z_10650060639",
                                    (0, R.Z)(
                                      (0, R.Z)({}, Gt()),
                                      {},
                                      { bizKey: "d_refund_pop_personal_click" }
                                    )
                                  );
                              },
                            }),
                            ge.ubtTrace(
                              "s_trn_z_trace_10650060639",
                              (0, R.Z)(
                                (0, R.Z)({}, Gt()),
                                {},
                                { bizKey: "d_refund_pop_show" }
                              )
                            );
                        case 6:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            st = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r, a, i, o, c;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (
                            ((n = t.detailFailReason),
                            (r = t.reScheduleFailReason),
                            !["t", "g"].includes(r))
                          ) {
                            e.next = 6;
                            break;
                          }
                          a = {
                            title: "您的用户已经被锁定",
                            content:
                              "您当前账号状态异常，为防止个人利益损失，12306已暂时冻结您的账号20分钟，请稍后再来尝试改签吧~",
                          };
                          try {
                            (i = JSON.parse(n)),
                              (o = i.failReason),
                              (c = i.failSceneTitle),
                              (a.title = c || a.title),
                              (a.content = o || a.content);
                          } catch (e) {}
                          return ge.showCommonDialog(a), e.abrupt("return");
                        case 6:
                          return e.abrupt("return", ct(t));
                        case 7:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            lt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n,
                    r,
                    a,
                    i,
                    o,
                    c,
                    s,
                    l,
                    u,
                    d,
                    f,
                    p,
                    h,
                    g,
                    v,
                    T,
                    Z,
                    w,
                    N,
                    b;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (n = t.orderNumber),
                              (r = void 0 === n ? "" : n),
                              (a = t.longEleNumber),
                              (i = void 0 === a ? "" : a),
                              (o = t.requestKey),
                              (c = t.time),
                              (s = void 0 === c ? 0 : c),
                              (l = t.ticket),
                              (u = t.order),
                              (e.prev = 1),
                              (e.next = 4),
                              (0, X.Jrt)({
                                orderNumber: r,
                                longEleNumber: i,
                                requestKey: o,
                              })
                            );
                          case 4:
                            if (
                              ((d = e.sent),
                              (f = d.resultCode),
                              (p = d.resultStatusCode),
                              (h = d.requestKey),
                              (g = d.resultMessage),
                              (v = d.retryIntervalSeconds),
                              (T = void 0 === v ? 2 : v),
                              (Z = d.retryMaxTimes),
                              (w = void 0 === Z ? 25 : Z),
                              (N = d.rescheduleType),
                              (b = 1 === N),
                              1 === f)
                            ) {
                              e.next = 11;
                              break;
                            }
                            return (
                              (e.next = 10),
                              (0, A.showToastAsync)(
                                g || "暂时无法改签，请稍后重试哦~"
                              )
                            );
                          case 10:
                            return e.abrupt("return", {
                              canReschedule: !1,
                              isSelfResign: b,
                            });
                          case 11:
                            if (2 !== p) {
                              e.next = 13;
                              break;
                            }
                            return e.abrupt("return", {
                              canReschedule: !0,
                              isSelfResign: b,
                            });
                          case 13:
                            if (3 !== p) {
                              e.next = 16;
                              break;
                            }
                            return (
                              st(
                                (0, R.Z)(
                                  (0, R.Z)({}, d),
                                  {},
                                  { _ticket: l, _order: u }
                                )
                              ),
                              e.abrupt("return", {
                                canReschedule: !1,
                                isSelfResign: b,
                              })
                            );
                          case 16:
                            if (!(w && s + 1 > w)) {
                              e.next = 20;
                              break;
                            }
                            return (
                              (e.next = 19),
                              (0, A.showToastAsync)("网络异常，请稍后重试哦~")
                            );
                          case 19:
                            return e.abrupt("return", {
                              canReschedule: !1,
                              isSelfResign: b,
                            });
                          case 20:
                            return (e.next = 22), O.Z.awaitTime(1e3 * T);
                          case 22:
                            return e.abrupt(
                              "return",
                              lt(
                                (0, R.Z)(
                                  (0, R.Z)({}, t),
                                  {},
                                  { requestKey: h, time: s + 1 }
                                )
                              )
                            );
                          case 25:
                            return (
                              (e.prev = 25),
                              (e.t0 = e.catch(1)),
                              (e.next = 29),
                              (0, A.showToastAsync)(
                                "暂时无法改签，请稍后重试哦~"
                              )
                            );
                          case 29:
                            return e.abrupt("return", { canReschedule: !1 });
                          case 30:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[1, 25]]
                  );
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            ut = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r, a, i, o, c, s, l, u, d;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (
                            ((n = t.ticket),
                            (r = t.order),
                            console.log({ ticket: n, order: r }),
                            n.reScheduleBtnColorType)
                          ) {
                            e.next = 5;
                            break;
                          }
                          return (
                            ge.showCommonDialog(n.reScheduleDesc),
                            e.abrupt("return")
                          );
                        case 5:
                          if (!at(r)) {
                            e.next = 9;
                            break;
                          }
                          return (
                            ge.showCommonDialog(
                              "当前距离发车不足60分钟，不支持在线改签"
                            ),
                            e.abrupt("return")
                          );
                        case 9:
                          if (
                            (((a = (0, R.Z)(
                              {},
                              ge.getState().orderModel.orderInfo
                            )).ticketInfos = r.ticketInfoList
                              .map(function (e) {
                                return (0,
                                R.Z)((0, R.Z)({}, e), {}, { selected: e.ticketId === n.ticketId, _realPassportCode: E.Z.tripleDESDecrypt(e.idMark || "") });
                              })
                              .filter(function (e) {
                                return e.reScheduleFlag > 0;
                              })),
                            (a.trainInfo = r),
                            (i = !0),
                            (o = !1),
                            (0, A.showLoading)("获取改签信息"),
                            5 !== (null == n ? void 0 : n.reScheduleFlag))
                          ) {
                            e.next = 26;
                            break;
                          }
                          return (
                            (e.next = 18),
                            lt({
                              orderNumber: a.tyOrderNo,
                              longEleNumber:
                                null ===
                                  (c = a.ticketInfos.find(function (e) {
                                    return e.selected;
                                  })) || void 0 === c
                                  ? void 0
                                  : c.electronicLongNum,
                              tickectId:
                                null ===
                                  (s = a.ticketInfos.find(function (e) {
                                    return e.selected;
                                  })) || void 0 === s
                                  ? void 0
                                  : s.ticketId,
                              order: r,
                              ticket: n,
                            })
                          );
                        case 18:
                          if (((e.t0 = e.sent), e.t0)) {
                            e.next = 21;
                            break;
                          }
                          e.t0 = {};
                        case 21:
                          (l = e.t0),
                            (u = l.canReschedule),
                            (d = l.isSelfResign),
                            (i = u),
                            (o = d);
                        case 26:
                          if (((0, A.hideLoading)(), i)) {
                            e.next = 29;
                            break;
                          }
                          return e.abrupt("return", { _isIntercept: !0 });
                        case 29:
                          ($e.ET.rescheduleInfo = {
                            orderInfo: a,
                            isReschedule: !0,
                            isSelfResign: o,
                          }),
                            ge
                              .getPage()
                              .navigateTo({
                                url: "/pages/train/gaiqian/gaiqian",
                                data: {
                                  fromStation: r.fromStation,
                                  toStation: r.toStation,
                                  fromDate: r.fromDate,
                                  fromTime: r.fromTime,
                                  canChangeStation: n.canChangeStation,
                                  changeStationDesc: n.changeStationDesc,
                                  isPointReschedule:
                                    1 == a.specialOrderTypeFlag,
                                },
                              });
                        case 31:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            dt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t, n) {
                  var r, a, i, o;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (0, A.showLoading)(),
                            (e.next = 3),
                            (0, X.SON)({
                              orderNumber: t,
                              fromSource: 1,
                              clientExtInfoList: [
                                {
                                  key: "ruleId",
                                  value: c.WechatPartnerInterceptToast,
                                },
                              ],
                            }).catch(function (e) {
                              B.Z.commonDebugTrace(
                                "check4GuideToQW err : ".concat(
                                  JSON.stringify(e)
                                )
                              );
                            })
                          );
                        case 3:
                          if (
                            ((i = e.sent),
                            (o = Ve.ZP.parseOctopusToast(
                              null == i ||
                                null === (r = i.toasts) ||
                                void 0 === r
                                ? void 0
                                : r[0]
                            )),
                            1 !== (null == i ? void 0 : i.resultCode) ||
                              null == o ||
                              null === (a = o._jsonInfo) ||
                              void 0 === a ||
                              !a.jumpUrl)
                          ) {
                            e.next = 10;
                            break;
                          }
                          return (
                            (0, A.hideLoading)(),
                            ft({
                              refundOpts: n,
                              toastData: null == o ? void 0 : o._jsonInfo,
                            }),
                            (ge.getPage()._hasShownQWGuide = !0),
                            e.abrupt("return", { showGuideSuccess: !0 })
                          );
                        case 10:
                          if (!ge.getPage()._hasShownQWGuide) {
                            e.next = 14;
                            break;
                          }
                          return (e.next = 13), O.Z.awaitTime(2e3);
                        case 13:
                          ge.getPage()._hasShownQWGuide = !1;
                        case 14:
                          return (
                            (0, A.hideLoading)(),
                            e.abrupt("return", { showGuideSuccess: !1 })
                          );
                        case 16:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t, n) {
                return e.apply(this, arguments);
              };
            })(),
            ft = function (e) {
              var t = e.refundOpts,
                n = e.toastData,
                r = n.cancelButtonText,
                a = void 0 === r ? "稍后重试" : r,
                i = n.confirmButtonText,
                o = void 0 === i ? "立即退票" : i,
                c = n.confirmSubIcon,
                s = n.subTitle,
                l =
                  void 0 === s
                    ? "当前退票人数较多，12306系统拥挤，请稍等或添加出行管家人工退票"
                    : s,
                u = n.title,
                d = void 0 === u ? "系统提示" : u,
                f = n.jumpUrl,
                m = void 0 === f ? "" : f,
                p = function () {
                  ge.ubtTrace("TZWBuyOrderDetail_RefundPop_LaterRetry_click", {
                    PageId: ge.getPage().pageId,
                    orderId: ge.getPage().oid,
                  });
                },
                h = function () {
                  ge.ubtTrace(
                    "TZWBuyOrderDetail_RefundPop_ImmediateRefund_click",
                    { PageId: ge.getPage().pageId, orderId: ge.getPage().oid }
                  ),
                    (0, A.showLoading)(),
                    (0, X.yzp)(
                      (0, R.Z)(
                        { orderNumber: ge.getPage().oid, popType: 2 },
                        t || {}
                      )
                    ).catch(B.Z.commonDebugTrace),
                    (0, A.hideLoading)(),
                    O.Z.commonNavigator(m);
                };
              ge.showCommonDialogWithoutButton({
                title: d,
                content: function (e) {
                  var t = e.onClose;
                  return (0, tt.BX)(I.View, {
                    className: "td-refund2qw-dialog",
                    children: [
                      (0, tt.tZ)(I.View, { className: "desc", children: l }),
                      (0, tt.BX)(I.View, {
                        className: "multi-box",
                        children: [
                          (0, tt.tZ)(I.Button, {
                            className: "left",
                            id: "AJGa",
                            onClick: function () {
                              null == t || t(), null == p || p();
                            },
                            children: a,
                          }),
                          (0, tt.BX)(I.Button, {
                            className: "right ".concat(S.default.zxTyStr),
                            id: "AJGb",
                            onClick: function () {
                              null == t || t(), null == h || h();
                            },
                            children: [
                              (null == c ? void 0 : c.startsWith("https")) &&
                                (0, tt.tZ)(I.Image, {
                                  className: "sub-tag",
                                  src: c,
                                  mode: "heightFix",
                                  lazyLoad: !0,
                                }),
                              o,
                            ],
                          }),
                        ],
                      }),
                    ],
                  });
                },
                onClose: p,
              }),
                ge.ubtTrace("TZWBuyOrderDetail_RefundPop_exposure", {
                  PageId: ge.getPage().pageId,
                  orderId: ge.getPage().oid,
                }),
                (0, X.yzp)(
                  (0, R.Z)(
                    { orderNumber: ge.getPage().oid, popType: 1 },
                    t || {}
                  )
                );
            },
            mt = dt;
          function pt(e) {
            var t = null == e ? void 0 : e.accountType,
              n = (null == e ? void 0 : e.refundFailReason) || "";
            return "user" === t && n.includes("f");
          }
          function ht(e, t) {
            var n = "",
              r = ge.getState().my12306Model;
            if (pt(e)) {
              var a = (function (e, t) {
                return (
                  e.account12306Name === t.login12306Name ||
                  e.account12306Name === (t.real_mobile || t.mobile)
                );
              })(e, r);
              n =
                e.accountUserRealName ||
                (a && r.name) ||
                (null == t ? void 0 : t.passengerName);
            } else n = null == t ? void 0 : t.passengerName;
            return n;
          }
          var gt,
            vt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, a, i, o, c, s, u;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          (n = t._ticket),
                            (a = ht(t, n)),
                            (i = t.personalTicketRefundToastInfo || {}),
                            pt(t)
                              ? ((o = "退票前请账号本人确认"),
                                (c =
                                  '为保障乘客个人信息安全，退票需账号本人：<span style="color:#FC6E51">'.concat(
                                    a,
                                    "</span>确认"
                                  )),
                                (s = "我是".concat(a, "，我选择退票")),
                                (u = "我不是，去通知他确认"))
                              : ((o = i.title || "退票前请车票本人确认"),
                                (c =
                                  i.desc ||
                                  '为保障乘客个人信息安全，退票需乘车人本人：<span style="color:#FC6E51">'.concat(
                                    a,
                                    "</span>确认"
                                  )),
                                (s =
                                  i.firstButton ||
                                  "我是".concat(a, "，我选择退票")),
                                (u = i.secondButton || "我不是，去通知他确认")),
                            Tt(t),
                            Yn({
                              toast: {
                                toastCode: r.REFUND_ASK,
                                data: (0, R.Z)(
                                  (0, R.Z)({}, i),
                                  {},
                                  {
                                    _ticket: n,
                                    title: o,
                                    desc: c,
                                    firstButton: s,
                                    secondtButton: u,
                                  }
                                ),
                              },
                              onConfirm: function (e) {
                                if (1 !== e)
                                  return (
                                    ge.ubtTrace(
                                      "c_trn_z_10650060639",
                                      (0, R.Z)(
                                        (0, R.Z)({}, Gt()),
                                        {},
                                        {
                                          bizKey:
                                            "d_refund_pop_nonPersonal_click",
                                        }
                                      )
                                    ),
                                    void (
                                      (0, Qe.JO)() ||
                                      (Qn(), rt({ scene: l.REFUND }))
                                    )
                                  );
                                jt(),
                                  ge.ubtTrace(
                                    "c_trn_z_10650060639",
                                    (0, R.Z)(
                                      (0, R.Z)({}, Gt()),
                                      {},
                                      { bizKey: "d_refund_pop_personal_click" }
                                    )
                                  );
                              },
                            }),
                            ge.ubtTrace(
                              "s_trn_z_trace_10650060639",
                              (0, R.Z)(
                                (0, R.Z)({}, Gt()),
                                {},
                                { bizKey: "d_refund_pop_show" }
                              )
                            );
                        case 7:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            Tt = function (e) {
              var t = e.refundFailReason,
                n = e.account12306Name,
                r = e._ticket,
                a = ht(e, r),
                i = E.Z.tripleDESDecrypt(r.idMark),
                o = ge.getState().orderModel.orderInfo.mobileNumber,
                c = r.mobile;
              "af" === t && o && /^[\d]+$/.test(o) && (c = o),
                It({
                  failCode: t,
                  sceneType: l.REFUND,
                  loginPassenger: {
                    mobileNumber: c,
                    passengerName: r.passengerName,
                    passportCode: i,
                    passportType: r.passportType,
                  },
                  userAccount: n,
                  userName: a,
                  userMobileNumber: r.mobile,
                  targetTicketInfo: { ticket: r, order: e._order },
                  refundWayInfo: e.refundWayInfo || {},
                });
            },
            Zt = function (e) {
              var t = e.refundFailReason,
                n = void 0 === t ? "" : t,
                r = e.errorRefundToast,
                a = void 0 === r ? null : r;
              if ("t" != n)
                return n == s.ACCOUNT_SIGN_OUT
                  ? _t(e)
                  : n == s.PASSWORD_ERROR
                  ? (Tt(e), Ut())
                  : void vt(e);
              var i,
                o = {};
              try {
                o = JSON.parse(null == a ? void 0 : a.desc);
              } catch (e) {}
              ge.showCommonDialog(
                (null === (i = o) || void 0 === i ? void 0 : i.failMsg) ||
                  "您当前账号状态异常，为防止个人利益损失，12306已暂时冻结您的账号20分钟，请稍后再来尝试退票吧~"
              );
            },
            wt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r, a, i, o, c, s, l, u, d, f, p, h, g, v, T;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (e.prev = 0),
                              (n = t.ticket),
                              (r = t.order),
                              (a = t.requestKey),
                              (i = t.time),
                              (o = void 0 === i ? 1 : i),
                              (c = n.electronicLongNum),
                              (s = void 0 === c ? "" : c),
                              (l = {
                                orderNumber: ge.getPage().oid || "",
                                longEleNumber: s,
                              }),
                              a && Object.assign(l, { requestKey: a }),
                              (e.next = 7),
                              (0, X.pZr)(l)
                            );
                          case 7:
                            if (1 === (u = e.sent).resultCode) {
                              e.next = 10;
                              break;
                            }
                            throw "暂时无法退票，请稍候重试~";
                          case 10:
                            if (
                              ((d = u.requestKey),
                              (f = u.resultStatusCode),
                              (p = u.retryMaxTimes),
                              (h = void 0 === p ? 10 : p),
                              (g = u.retryIntervalSeconds),
                              (v = void 0 === g ? 1 : g),
                              (T = u.ticketRefundToastInfo),
                              1 !== f)
                            ) {
                              e.next = 17;
                              break;
                            }
                            if (!(o > h)) {
                              e.next = 14;
                              break;
                            }
                            throw "尝试退票超时，请重试~";
                          case 14:
                            return (e.next = 16), O.Z.awaitTime(1e3 * v);
                          case 16:
                            return e.abrupt(
                              "return",
                              wt(
                                (0, R.Z)(
                                  (0, R.Z)({}, t),
                                  {},
                                  { time: o + 1, requestKey: d }
                                )
                              )
                            );
                          case 17:
                            if (3 !== f) {
                              e.next = 20;
                              break;
                            }
                            return (
                              Zt(
                                (0, R.Z)(
                                  (0, R.Z)({}, u),
                                  {},
                                  { _ticket: n, _order: r }
                                )
                              ),
                              e.abrupt("return", { continueRefund: !1 })
                            );
                          case 20:
                            return e.abrupt("return", {
                              continueRefund: !0,
                              ticketRefundToastInfo: T,
                            });
                          case 23:
                            return (
                              (e.prev = 23),
                              (e.t0 = e.catch(0)),
                              ge.showCommonDialog(
                                e.t0.message || "暂时无法退票，请稍候重试~"
                              ),
                              e.abrupt("return", { continueRefund: !1 })
                            );
                          case 27:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[0, 23]]
                  );
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            Nt = function (e) {
              var t = e.refundInfo,
                n = e.isReschedule,
                r = e.productIds,
                a = e.noRefundInsurance,
                i = t;
              return {
                orderNumber: ge.getPage().oid,
                tickectId: "" + i.ticketId,
                productIds: r || "",
                partnerName: S.default.partner,
                isRescheduleTicket: n ? 1 : 0,
                refundType: t._refundType,
                noRefundInsurance: a,
              };
            },
            bt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (0, A.showLoading)(), (e.next = 3), (0, X.IM9)(t)
                          );
                        case 3:
                          if (
                            ((n = e.sent),
                            (0, A.hideLoading)(),
                            1 === n.resultCode)
                          ) {
                            e.next = 7;
                            break;
                          }
                          throw n.resultMessage;
                        case 7:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            xt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, a, i, o, c;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            ge.ubtTrace(
                              "TZWBuyOrderDetail_RefundExplain_exposure",
                              {
                                PageId: ge.getPage().pageId,
                                orderid: ge.getPage().oid,
                              }
                            ),
                            (e.next = 3),
                            Yn({ toast: (0, R.Z)({ toastCode: r.REFUND }, t) })
                          );
                        case 3:
                          if (
                            ((n = e.sent), (a = n.code), (i = n.data), 1 === a)
                          ) {
                            e.next = 9;
                            break;
                          }
                          throw (
                            (ge.ubtTrace(
                              "TZWBuyOrderDetail_RefundExplain_Cancel_click",
                              {
                                PageId: ge.getPage().pageId,
                                orderid: ge.getPage().oid,
                              }
                            ),
                            { _isCancel: !0, message: "退票已取消" })
                          );
                        case 9:
                          return (
                            (o = Nt(null == i ? void 0 : i[0])),
                            ge.ubtTrace(
                              "TZWBuyOrderDetail_RefundExplain_Confirm_click",
                              {
                                PageId: ge.getPage().pageId,
                                orderid: ge.getPage().oid,
                                clickType: o.noRefundInsurance ? "0" : "1",
                              }
                            ),
                            (e.next = 13),
                            mt(ge.getPage().oid, o)
                          );
                        case 13:
                          if (((c = e.sent), !c.showGuideSuccess)) {
                            e.next = 17;
                            break;
                          }
                          throw { _isCancel: !0, message: "导流企微中断退票" };
                        case 17:
                          return (
                            B.Z.commonDebugTrace("apply refund..."),
                            e.abrupt("return", bt(o))
                          );
                        case 19:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            kt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r, a, i;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (n = ge.getState().accountHelperModel || {}),
                              "af" === (r = n.failCode) &&
                                ge.ubtTrace("c_trn_z_10650060639", {
                                  bizKey: "d_refund_pop_applyErrand_click",
                                  failCode: r,
                                }),
                              (e.prev = 2),
                              (e.next = 5),
                              ge.navigateToAsync({
                                url: "/pages/train/refund/artificialRefund/index?oid="
                                  .concat(
                                    encodeURIComponent(ge.getPage().oid),
                                    "&ticketId="
                                  )
                                  .concat(encodeURIComponent(t.ticketId)),
                                data: "fromRefundButton",
                              })
                            );
                          case 5:
                            (a = e.sent),
                              null != (i = a.res) &&
                                i.applyRefundSuccess &&
                                ge.showCommonDialog({
                                  content: "退票申请成功~",
                                  onButtonClick: Kn,
                                  onClose: Kn,
                                }),
                              (e.next = 12);
                            break;
                          case 10:
                            (e.prev = 10), (e.t0 = e.catch(2));
                          case 12:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[2, 10]]
                  );
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            yt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t, n) {
                  var a, i, o, c, s, l, u, d, f, h, g, v, T;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            if (
                              ((a = t.ticket),
                              (i = t.order),
                              B.Z.commonDebugTrace("step: start refund"),
                              a.reBtnColorType)
                            ) {
                              e.next = 7;
                              break;
                            }
                            return (
                              ge.ubtTrace(
                                "TZWBuyOrderDetail_TimeOutPop_exposure",
                                {
                                  PageId: ge.getPage().pageId,
                                  orderid: ge.getPage().oid,
                                }
                              ),
                              ge.showMultiButtonDialog({
                                content: a.returnDesc,
                                leftButtonName: "知道了",
                                rightButtonName: "退票须知",
                                onRightButtonClick: function () {
                                  ge.ubtTrace(
                                    "TZWBuyOrderDetail_TimeOutPop_RefundNotice_click",
                                    {
                                      PageId: ge.getPage().pageId,
                                      orderid: ge.getPage().oid,
                                    }
                                  );
                                  var e = "https://m.".concat(
                                    S.default.isTieyou ? "tieyou" : "suanya",
                                    ".com/webapp/train/activity/ztrip-train-buy-ticket-rule?isHideNavBar=YES&type=refund"
                                  );
                                  O.Z.commonNavigator(e);
                                },
                              }),
                              B.Z.commonDebugTrace(
                                "refund fail: ".concat(a.returnDesc)
                              ),
                              e.abrupt("return")
                            );
                          case 7:
                            if (
                              (((o = (0, R.Z)(
                                {},
                                ge.getState().orderModel.orderInfo
                              )).ticketInfos = i.ticketInfoList
                                .map(function (e) {
                                  return (0,
                                  R.Z)((0, R.Z)({}, e), {}, { selected: e.ticketId === a.ticketId });
                                })
                                .filter(function (e) {
                                  return e.reScheduleFlag > 0;
                                })),
                              (o.trainInfo = i),
                              2 !== a.returnFlag)
                            ) {
                              e.next = 13;
                              break;
                            }
                            return kt(a), e.abrupt("return");
                          case 13:
                            if (3 !== a.returnFlag) {
                              e.next = 16;
                              break;
                            }
                            return (
                              ge.navigateTo({
                                url: "/pages/train/refund/refundResult/index?oid="
                                  .concat(
                                    encodeURIComponent(ge.getPage().oid),
                                    "&ticketId="
                                  )
                                  .concat(encodeURIComponent(a.ticketId)),
                              }),
                              e.abrupt("return")
                            );
                          case 16:
                            if (((c = !0), (s = {}), 5 !== a.returnFlag)) {
                              e.next = 46;
                              break;
                            }
                            if (!a.cashPayOrderRefundWayInfo) {
                              e.next = 35;
                              break;
                            }
                            return (
                              ge.ubtTrace(
                                "TZWBuyOrderDetail_RefundChoosePop_exposure",
                                {
                                  PageId: ge.getPage().pageId,
                                  orderid: ge.getPage().oid,
                                  Type: "1",
                                }
                              ),
                              (e.next = 23),
                              Yn({
                                toast: {
                                  toastCode: r.cashPayOrderRefundToast,
                                  data: a.cashPayOrderRefundWayInfo,
                                },
                              })
                            );
                          case 23:
                            if (
                              ((l = e.sent),
                              (u = l.code),
                              (d = l.data),
                              1 !== u || 1 !== (null == d ? void 0 : d[0]))
                            ) {
                              e.next = 32;
                              break;
                            }
                            return (
                              kt(a),
                              ge.ubtTrace(
                                "TZWBuyOrderDetail_RefundChoosePop_Offline_click",
                                {
                                  PageId: ge.getPage().pageId,
                                  orderid: ge.getPage().oid,
                                  Type: "1",
                                }
                              ),
                              e.abrupt("return")
                            );
                          case 32:
                            if (0 !== u) {
                              e.next = 34;
                              break;
                            }
                            return e.abrupt("return");
                          case 34:
                            ge.ubtTrace(
                              "TZWBuyOrderDetail_RefundChoosePop_Online_click",
                              {
                                PageId: ge.getPage().pageId,
                                orderid: ge.getPage().oid,
                                Type: "1",
                              }
                            );
                          case 35:
                            return (
                              (0, A.showLoading)("获取退票信息"),
                              (e.next = 38),
                              wt({ ticket: a, order: i })
                            );
                          case 38:
                            (f = e.sent),
                              (h = f.continueRefund),
                              (g = void 0 !== h && h),
                              (v = f.ticketRefundToastInfo),
                              (T = void 0 === v ? {} : v),
                              (0, A.hideLoading)(),
                              (c = g),
                              (s = T);
                          case 46:
                            if (c) {
                              e.next = 48;
                              break;
                            }
                            return e.abrupt("return", { _isIntercept: !0 });
                          case 48:
                            return (
                              (e.prev = 48),
                              (e.next = 51),
                              xt(
                                (0, R.Z)(
                                  (0, R.Z)((0, R.Z)({}, a.refundDesc || {}), s),
                                  {},
                                  {
                                    ticketId: a.ticketId,
                                    isReschedule: i._rescheduleFlag,
                                    _refundType:
                                      null == n ? void 0 : n.refundType,
                                  }
                                )
                              )
                            );
                          case 51:
                            ge.showCommonDialog({
                              content: "退票申请成功~",
                              onButtonClick: (function () {
                                var e = (0, p.Z)(
                                  (0, m.Z)().mark(function e() {
                                    return (0, m.Z)().wrap(function (e) {
                                      for (;;)
                                        switch ((e.prev = e.next)) {
                                          case 0:
                                            return (
                                              (e.next = 2), rr("applyRefund")
                                            );
                                          case 2:
                                            Kn();
                                          case 3:
                                          case "end":
                                            return e.stop();
                                        }
                                    }, e);
                                  })
                                );
                                return function () {
                                  return e.apply(this, arguments);
                                };
                              })(),
                              onClose: (function () {
                                var e = (0, p.Z)(
                                  (0, m.Z)().mark(function e() {
                                    return (0, m.Z)().wrap(function (e) {
                                      for (;;)
                                        switch ((e.prev = e.next)) {
                                          case 0:
                                            return (
                                              (e.next = 2), rr("applyRefund")
                                            );
                                          case 2:
                                            Kn();
                                          case 3:
                                          case "end":
                                            return e.stop();
                                        }
                                    }, e);
                                  })
                                );
                                return function () {
                                  return e.apply(this, arguments);
                                };
                              })(),
                            }),
                              (e.next = 59);
                            break;
                          case 54:
                            if (
                              ((e.prev = 54),
                              (e.t0 = e.catch(48)),
                              null === e.t0 ||
                                void 0 === e.t0 ||
                                !e.t0._isCancel)
                            ) {
                              e.next = 58;
                              break;
                            }
                            return e.abrupt("return");
                          case 58:
                            ge.showCommonDialog(
                              (null === e.t0 || void 0 === e.t0
                                ? void 0
                                : e.t0.message) ||
                                ("string" == typeof e.t0 && e.t0
                                  ? e.t0
                                  : "退票失败，请稍候再试!")
                            );
                          case 59:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[48, 54]]
                  );
                })
              );
              return function (t, n) {
                return e.apply(this, arguments);
              };
            })(),
            Ct = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r, a, i;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (n = []),
                              (r = []),
                              t.map(function (e) {
                                n.push(e.insuranceNos), r.push(e.longTrainNo);
                              }),
                              (a = {
                                orderNumber: ge.getPage().oid,
                                insuranceNos: n,
                                operator: Se.ZP.uid || "",
                                backInsuranceAddress: "",
                                longTrainNo: r,
                              }),
                              (e.prev = 4),
                              (e.next = 7),
                              (0, X.zy_)(a)
                            );
                          case 7:
                            if (!(i = e.sent) || 1 !== i.resultCode) {
                              e.next = 14;
                              break;
                            }
                            return (
                              (e.next = 11),
                              (0, A.showToastAsync)("申请退保成功", 2e3)
                            );
                          case 11:
                            Kn(), (e.next = 15);
                            break;
                          case 14:
                            (0, A.showToast)("申请退保失败，请稍后再试~");
                          case 15:
                            e.next = 20;
                            break;
                          case 17:
                            (e.prev = 17),
                              (e.t0 = e.catch(4)),
                              (0, A.showToast)("申请退保失败，请稍后再试~");
                          case 20:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[4, 17]]
                  );
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            St = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, a, i, o;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            ge.ubtTrace(
                              "TZWBuyOrderDetail_AttachService_Cancel_click",
                              {
                                PageId: ge.getPage().pageId,
                                orderid: ge.getPage().oid,
                              }
                            ),
                            (e.next = 3),
                            Yn({
                              toast: { toastCode: r.REFUND_INSURANCE, data: t },
                            })
                          );
                        case 3:
                          if (
                            ((n = e.sent),
                            (a = n.code),
                            (i = n.data),
                            1 !== a || null == i || !i.length)
                          ) {
                            e.next = 9;
                            break;
                          }
                          return (o = i[0]), e.abrupt("return", Ct(o));
                        case 9:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            _t = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, a, i, o, c, s, l;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (
                            (B.Z.commonDebugTrace("refund ShowOtherRefundWay"),
                            !(
                              (a =
                                (null == t ? void 0 : t.refundWayInfo) || {}) &&
                              (null == a ||
                              null === (n = a.refundWays) ||
                              void 0 === n
                                ? void 0
                                : n.length) > 1
                            ))
                          ) {
                            e.next = 21;
                            break;
                          }
                          return (
                            ge.ubtTrace(
                              "TZWBuyOrderDetail_RefundChoosePop_exposure",
                              {
                                PageId: ge.getPage().pageId,
                                orderid: ge.getPage().oid,
                                Type: "2",
                              }
                            ),
                            (e.next = 6),
                            Yn({
                              toast: {
                                toastCode: r.cashPayOrderRefundToast,
                                data: a,
                              },
                            })
                          );
                        case 6:
                          if (
                            ((i = e.sent),
                            (o = i.code),
                            (c = i.data),
                            1 !== o || 1 !== (null == c ? void 0 : c[0]))
                          ) {
                            e.next = 16;
                            break;
                          }
                          return (
                            ge.ubtTrace(
                              "TZWBuyOrderDetail_RefundChoosePop_Offline_click",
                              {
                                PageId: ge.getPage().pageId,
                                orderid: ge.getPage().oid,
                                Type: "2",
                              }
                            ),
                            (l =
                              (null == t ? void 0 : t._ticket) ||
                              (null == t ||
                              null === (s = t.targetTicketInfo) ||
                              void 0 === s
                                ? void 0
                                : s.ticket)),
                            kt(l),
                            e.abrupt("return")
                          );
                        case 16:
                          if (0 !== o) {
                            e.next = 18;
                            break;
                          }
                          return e.abrupt("return");
                        case 18:
                          ge.ubtTrace(
                            "TZWBuyOrderDetail_RefundChoosePop_Online_click",
                            {
                              PageId: ge.getPage().pageId,
                              orderid: ge.getPage().oid,
                              Type: "2",
                            }
                          ),
                            (e.next = 22);
                          break;
                        case 21:
                          ge.showCommonDialog({
                            title: (null == a ? void 0 : a.title) || "温馨提示",
                            content: (null == a ? void 0 : a.titleDesc) || "",
                            buttonName: "我知道了",
                          });
                        case 22:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            It = function (e) {
              (ge.getPage().workFlow = ""),
                ge.getDispatch().accountHelperModel.setAccountHelper(e);
            },
            Vt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r, a, i, o, c, s, u;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (n = t.UserName),
                              (r = t.Password),
                              (a = ge.getState().accountHelperModel),
                              (e.prev = 2),
                              B.Z.commonDebugTrace(
                                "handleLogin12306 : ".concat(
                                  JSON.stringify({ UserName: n, Password: r })
                                )
                              ),
                              (e.next = 6),
                              (0, De.Mm)(n, r)
                            );
                          case 6:
                            B.Z.commonDebugTrace("handleLogin12306 success"),
                              ge.ubtTrace(
                                "c_trn_z_10650060639",
                                (0, R.Z)(
                                  (0, R.Z)({}, Gt()),
                                  {},
                                  {
                                    bizKey: "d_silent_sign_result",
                                    result: "1",
                                    failReason: "",
                                    errorInfo: "",
                                  }
                                )
                              ),
                              (e.next = 37);
                            break;
                          case 10:
                            if (
                              ((e.prev = 10),
                              (e.t0 = e.catch(2)),
                              (0, A.hideLoading)(),
                              B.Z.commonDebugTrace(
                                "handleLogin12306 err: "
                                  .concat(
                                    null === e.t0 || void 0 === e.t0
                                      ? void 0
                                      : e.t0.Code,
                                    " "
                                  )
                                  .concat(JSON.stringify(e.t0))
                              ),
                              ge.ubtTrace(
                                "c_trn_z_10650060639",
                                (0, R.Z)(
                                  (0, R.Z)({}, Gt()),
                                  {},
                                  {
                                    bizKey: "d_silent_sign_result",
                                    result: "0",
                                    failReason:
                                      null === e.t0 || void 0 === e.t0
                                        ? void 0
                                        : e.t0.Code,
                                    errorInfo: e.t0,
                                  }
                                )
                              ),
                              7 !==
                                (null === e.t0 || void 0 === e.t0
                                  ? void 0
                                  : e.t0.Code))
                            ) {
                              e.next = 22;
                              break;
                            }
                            return (e.next = 18), Xt();
                          case 18:
                            return (
                              (e.next = 20), Vt({ UserName: n, Password: r })
                            );
                          case 20:
                            e.next = 37;
                            break;
                          case 22:
                            if (
                              ![8, 9].includes(
                                null === e.t0 || void 0 === e.t0
                                  ? void 0
                                  : e.t0.Code
                              )
                            ) {
                              e.next = 35;
                              break;
                            }
                            return (
                              (c = [l.REFUND, l.RESIGN].includes(a.sceneType)),
                              (e.next = 26),
                              (0, Ie.kx)({
                                faceInfo: {
                                  fromType: c ? 6 : 4,
                                  userName: n,
                                  certificationInfo: JSON.stringify({
                                    name: a.userName,
                                    passportType: _e.ZP.getRealType(
                                      (null === (i = a.loginPassenger) ||
                                      void 0 === i
                                        ? void 0
                                        : i.passportType) || ""
                                    ),
                                    passportNumber:
                                      null === (o = a.loginPassenger) ||
                                      void 0 === o
                                        ? void 0
                                        : o.passportCode,
                                    mobile: a.userMobileNumber,
                                  }),
                                  password: r,
                                },
                              })
                            );
                          case 26:
                            if (
                              ((s = e.sent),
                              1 === (u = s.res).certificationResultCode)
                            ) {
                              e.next = 30;
                              break;
                            }
                            throw u;
                          case 30:
                            return (
                              (e.next = 32), Vt({ UserName: n, Password: r })
                            );
                          case 32:
                            c &&
                              Pt({
                                resultCode: 1,
                                failMsg: "本人车票解封成功",
                              }),
                              (e.next = 37);
                            break;
                          case 35:
                            throw (
                              (Pt({
                                resultCode: 2,
                                failMsg: "静默登录异常".concat(
                                  e.t0 && e.t0.Message
                                    ? "_" + e.t0.Message
                                    : JSON.stringify(e.t0)
                                ),
                              }),
                              e.t0)
                            );
                          case 37:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[2, 10]]
                  );
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            Rt = function () {
              var e = ge.getState().accountHelperModel;
              return new Promise(function (t) {
                var n, r, a;
                (0, A.showLoading)(),
                  (0, Ie.$q)({
                    passportType:
                      null === (n = e.loginPassenger) || void 0 === n
                        ? void 0
                        : n.passportType,
                    passportNumber:
                      null === (r = e.loginPassenger) || void 0 === r
                        ? void 0
                        : r.passportCode,
                    passportName:
                      null === (a = e.loginPassenger) || void 0 === a
                        ? void 0
                        : a.passengerName,
                  })
                    .then(
                      (function () {
                        var e = (0, p.Z)(
                          (0, m.Z)().mark(function e(n) {
                            return (0, m.Z)().wrap(function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    (0, A.hideLoading)(), t(!n);
                                  case 2:
                                  case "end":
                                    return e.stop();
                                }
                            }, e);
                          })
                        );
                        return function (t) {
                          return e.apply(this, arguments);
                        };
                      })()
                    )
                    .catch(function () {
                      (0, A.hideLoading)(), t(!1);
                    });
              }).then(
                (function () {
                  var t = (0, p.Z)(
                    (0, m.Z)().mark(function t(n) {
                      var r, a, i, o;
                      return (0, m.Z)().wrap(
                        function (t) {
                          for (;;)
                            switch ((t.prev = t.next)) {
                              case 0:
                                if (n) {
                                  t.next = 3;
                                  break;
                                }
                                return (
                                  Pt({
                                    resultCode: 2,
                                    failMsg: "无法引导注销",
                                  }),
                                  t.abrupt("return")
                                );
                              case 3:
                                return (
                                  (ge.getPage().workFlow = ee.SIGN_OUT),
                                  ge.ubtTrace(
                                    "s_trn_z_trace_10650060639",
                                    (0, R.Z)(
                                      (0, R.Z)({}, Gt()),
                                      {},
                                      { bizKey: "d_text_signOut_pop_show" }
                                    )
                                  ),
                                  (t.next = 7),
                                  ge.showMultiButtonDialogWithPromise({
                                    content:
                                      "操作失败，可以尝试注销账号 重新注册",
                                    leftButtonName: "再想想",
                                    rightButtonName: "立即注销",
                                  })
                                );
                              case 7:
                                if ("left" !== t.sent) {
                                  t.next = 12;
                                  break;
                                }
                                return (
                                  B.Z.commonDebugTrace(
                                    "引导注销失败，用户取消了操作~"
                                  ),
                                  ge.ubtTrace(
                                    "c_trn_z_10650060639",
                                    (0, R.Z)(
                                      (0, R.Z)({}, Gt()),
                                      {},
                                      {
                                        bizKey: "d_text_signOut_click_result",
                                        result: 0,
                                      }
                                    )
                                  ),
                                  t.abrupt("return")
                                );
                              case 12:
                                return (
                                  ge.ubtTrace(
                                    "c_trn_z_10650060639",
                                    (0, R.Z)(
                                      (0, R.Z)({}, Gt()),
                                      {},
                                      {
                                        bizKey: "d_text_signOut_click_result",
                                        result: 1,
                                      }
                                    )
                                  ),
                                  (t.prev = 13),
                                  (t.next = 16),
                                  (0, Ie.kx)({
                                    faceInfo: {
                                      fromType: 3,
                                      userName: e.userAccount || e.userName,
                                      certificationInfo: JSON.stringify({
                                        name: e.userName,
                                        passportType: _e.ZP.getRealType(
                                          (null === (r = e.loginPassenger) ||
                                          void 0 === r
                                            ? void 0
                                            : r.passportType) || ""
                                        ),
                                        passportNumber:
                                          null === (a = e.loginPassenger) ||
                                          void 0 === a
                                            ? void 0
                                            : a.passportCode,
                                        mobile: e.userMobileNumber,
                                      }),
                                      failAction: "return",
                                      password: "",
                                    },
                                    title: "".concat(
                                      e.sceneTypeName,
                                      "获取信息异常"
                                    ),
                                    subTitle:
                                      "建议您重新绑定本人常用手机号 该操作可能会注销您原有的账号",
                                  })
                                );
                              case 16:
                                if (
                                  ((i = t.sent),
                                  1 === (o = i.res).certificationResultCode)
                                ) {
                                  t.next = 20;
                                  break;
                                }
                                throw o;
                              case 20:
                                return (
                                  Pt({ resultCode: 1, failMsg: "注销成功" }),
                                  (t.next = 23),
                                  Dt()
                                );
                              case 23:
                                t.next = 32;
                                break;
                              case 25:
                                if (
                                  ((t.prev = 25),
                                  (t.t0 = t.catch(13)),
                                  null === t.t0 ||
                                    void 0 === t.t0 ||
                                    !t.t0.isCancelFace)
                                ) {
                                  t.next = 29;
                                  break;
                                }
                                return t.abrupt("return");
                              case 29:
                                Pt({
                                  resultCode: 1,
                                  failMsg: JSON.stringify(t.t0),
                                }),
                                  (0, A.hideLoading)(),
                                  ge.showCommonDialog(
                                    "暂不可注销，请稍后重试~"
                                  );
                              case 32:
                              case "end":
                                return t.stop();
                            }
                        },
                        t,
                        null,
                        [[13, 25]]
                      );
                    })
                  );
                  return function (e) {
                    return t.apply(this, arguments);
                  };
                })()
              );
            },
            Dt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t,
                    n,
                    r,
                    a,
                    i,
                    o,
                    c,
                    u,
                    d,
                    f,
                    p,
                    h,
                    g,
                    v,
                    T = arguments;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (
                            ((t = T.length > 0 && void 0 !== T[0] ? T[0] : {}),
                            (n = t.needLogin),
                            (r = void 0 !== n && n),
                            (a = t.loginName),
                            (i = void 0 === a ? "" : a),
                            (o = ge.getState().accountHelperModel),
                            (0, A.showLoading)(),
                            !r)
                          ) {
                            e.next = 10;
                            break;
                          }
                          return (
                            (c = x().getStorageSync("userInfo") || {}),
                            (u = c.Password),
                            (e.next = 8),
                            Vt({
                              UserName: i || o.userMobileNumber,
                              Password: u,
                            })
                          );
                        case 8:
                          (0, A.hideLoading)(),
                            ge.getDispatch().my12306Model.refresh();
                        case 10:
                          if (o.targetTicketInfo && o.sceneType !== l.BOOK) {
                            e.next = 12;
                            break;
                          }
                          return e.abrupt(
                            "return",
                            ge.showCommonDialog(
                              "核验完成，请继续操作".concat(o.sceneTypeName)
                            )
                          );
                        case 12:
                          if (o.sceneType !== l.REFUND) {
                            e.next = 23;
                            break;
                          }
                          return (
                            (e.next = 15),
                            yt(o.targetTicketInfo, {
                              refundType:
                                o.failCode === s.QUICK_REFUND ? 1 : void 0,
                            })
                          );
                        case 15:
                          if (((e.t0 = e.sent), e.t0)) {
                            e.next = 18;
                            break;
                          }
                          e.t0 = {};
                        case 18:
                          return (
                            (d = e.t0),
                            (f = d._isIntercept),
                            (p = void 0 !== f && f),
                            ge.ubtTrace(
                              "c_trn_z_10650060639",
                              (0, R.Z)(
                                (0, R.Z)({}, Gt()),
                                {},
                                {
                                  bizKey: "d_refund_pop_inspect_click",
                                  result: p ? "0" : "1",
                                }
                              )
                            ),
                            e.abrupt("return")
                          );
                        case 23:
                          if (o.sceneType !== l.RESIGN) {
                            e.next = 33;
                            break;
                          }
                          return (e.next = 26), ut(o.targetTicketInfo);
                        case 26:
                          if (((e.t1 = e.sent), e.t1)) {
                            e.next = 29;
                            break;
                          }
                          e.t1 = {};
                        case 29:
                          (h = e.t1),
                            (g = h._isIntercept),
                            (v = void 0 !== g && g),
                            ge.ubtTrace(
                              "c_trn_z_10650060639",
                              (0, R.Z)(
                                (0, R.Z)({}, Gt()),
                                {},
                                {
                                  bizKey: "d_refund_pop_inspect_click",
                                  result: v ? "0" : "1",
                                }
                              )
                            );
                        case 33:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            Pt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n,
                    r,
                    a,
                    i,
                    o,
                    c,
                    s,
                    u,
                    d,
                    f,
                    p,
                    h,
                    g,
                    v,
                    T,
                    Z,
                    w,
                    N,
                    b,
                    k,
                    y,
                    C;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (
                            ((n = t.resultCode),
                            (r = void 0 === n ? 1 : n),
                            (a = t.failMsg),
                            (i = void 0 === a ? "" : a),
                            (o = t.notifyUser),
                            (c = void 0 === o ? "" : o),
                            (s = t.failAction),
                            (u = void 0 === s ? function () {} : s),
                            B.Z.commonDebugTrace(
                              "notifyUserAccountResumeForNormal: ".concat(
                                JSON.stringify({
                                  resultCode: r,
                                  failMsg: i,
                                  notifyUser: c,
                                })
                              )
                            ),
                            (d = ge.getState().accountHelperModel),
                            (f = d.sceneType),
                            (p = d.failCode),
                            (h = d.targetTicketInfo),
                            (g = d.userAccount),
                            2 !== r)
                          ) {
                            e.next = 6;
                            break;
                          }
                          return null == u || u(), e.abrupt("return");
                        case 6:
                          v = "";
                          try {
                            (T = f === l.REFUND),
                              (Z = !(null == h || !h.order._rescheduleFlag)),
                              T
                                ? T && Z
                                  ? (v = "RRT")
                                  : T && !Z && (v = "ORT")
                                : (v = "OT");
                          } catch (e) {
                            console.log(e);
                          }
                          try {
                            (w = x().getStorageSync("userInfo") || {}),
                              (N = w.UserName),
                              (b = w.Password),
                              (k = p),
                              {},
                              (C = b
                                ? _e.ZP.encode12306Account({
                                    login12306Name: c || g,
                                    login12306Pas: b,
                                  })
                                : {}),
                              (y = {
                                orderNumber: ge.getPage().oid,
                                loginName: N,
                                password: null == C ? void 0 : C.login12306Pas,
                                operateType: k,
                                operateSceneType: v,
                                operateResult: r,
                                failMsg: i,
                              }),
                              (0, X.BWQ)(y);
                          } catch (e) {
                            B.Z.commonDebugTrace(
                              "notify user error: ".concat(JSON.stringify(e))
                            );
                          }
                        case 9:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            At = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (e.prev = 0), (e.next = 3), (0, Ie.rG)();
                          case 3:
                            return (t = e.sent), e.abrupt("return", t);
                          case 7:
                            return (
                              (e.prev = 7),
                              (e.t0 = e.catch(0)),
                              console.log(e.t0),
                              e.abrupt("return", 0)
                            );
                          case 11:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[0, 7]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            Bt = function () {
              var e = ge.getState().accountHelperModel,
                t = e.sceneTypeName,
                n = e.loginPassenger;
              return new Promise(
                (function () {
                  var e = (0, p.Z)(
                    (0, m.Z)().mark(function e(r) {
                      var a, i, o, c, s, l, u, d;
                      return (0, m.Z)().wrap(
                        function (e) {
                          for (;;)
                            switch ((e.prev = e.next)) {
                              case 0:
                                return (
                                  (e.prev = 0),
                                  (a = "正在为您".concat(t, "，请稍候")),
                                  (0, A.showLoading)(a),
                                  (o = (i = n || {}).passengerName),
                                  (c = i.passportCode),
                                  (s = i.passportType),
                                  (l = i.mobileNumber),
                                  (u = _e.ZP.getRealType(s || "")),
                                  (e.next = 7),
                                  (0, Ie.Cg)({
                                    type: u,
                                    userName: o,
                                    idNumber: c,
                                    mobile: l,
                                  })
                                );
                              case 7:
                                (d = e.sent), r(d), (e.next = 15);
                                break;
                              case 11:
                                (e.prev = 11),
                                  (e.t0 = e.catch(0)),
                                  console.log(e.t0),
                                  r({});
                              case 15:
                                return (
                                  (e.prev = 15),
                                  (0, A.hideLoading)(),
                                  e.finish(15)
                                );
                              case 18:
                              case "end":
                                return e.stop();
                            }
                        },
                        e,
                        null,
                        [[0, 11, 15, 18]]
                      );
                    })
                  );
                  return function (t) {
                    return e.apply(this, arguments);
                  };
                })()
              );
            },
            Ot = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n, r, a, i, o;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            (r = ge.getState().accountHelperModel),
                              (a = {
                                fromType: 6,
                                userName: r.userAccount,
                                certificationInfo: JSON.stringify({
                                  name: r.userName,
                                  passportType: _e.ZP.getRealType(
                                    (null === (t = r.loginPassenger) ||
                                    void 0 === t
                                      ? void 0
                                      : t.passportType) || ""
                                  ),
                                  passportNumber:
                                    null === (n = r.loginPassenger) ||
                                    void 0 === n
                                      ? void 0
                                      : n.passportCode,
                                  mobile: r.userMobileNumber,
                                }),
                                failAction: "return",
                                passWord: "",
                              }),
                              (e.t0 = r.failCode),
                              (e.next =
                                e.t0 === s.FACE ||
                                e.t0 === s.FACE_OR_MSG ||
                                e.t0 === s.SELF_TICKET
                                  ? 5
                                  : e.t0 === s.QUICK_REFUND
                                  ? 7
                                  : e.t0 === s.RISK_FACE
                                  ? 9
                                  : 11);
                            break;
                          case 5:
                            return (a.fromType = 6), e.abrupt("break", 11);
                          case 7:
                            return (a.fromType = 7), e.abrupt("break", 11);
                          case 9:
                            return (a.fromType = 8), e.abrupt("break", 11);
                          case 11:
                            return (
                              (ge.getPage().workFlow = ee.FACE_VERIFY),
                              (e.prev = 12),
                              ge.ubtTrace(
                                "s_trn_z_trace_10650060639",
                                (0, R.Z)(
                                  (0, R.Z)({}, Gt()),
                                  {},
                                  { bizKey: "d_face_pop_show" }
                                )
                              ),
                              (e.next = 16),
                              (0, Ie.kx)({ faceInfo: a })
                            );
                          case 16:
                            if (
                              ((i = e.sent),
                              (o = i.res),
                              ge.ubtTrace(
                                "s_trn_z_trace_10650060639",
                                (0, R.Z)(
                                  (0, R.Z)({}, Gt()),
                                  {},
                                  { bizKey: "d_face_pop_click" }
                                )
                              ),
                              ge.ubtTrace(
                                "s_trn_z_trace_10650060639",
                                (0, R.Z)(
                                  (0, R.Z)({}, Gt()),
                                  {},
                                  {
                                    bizKey: "d_face_pop_click_result",
                                    result:
                                      1 == o.certificationResultCode
                                        ? "1"
                                        : "0",
                                    failReason: o.retMessage || "",
                                    faceType: a.fromType,
                                  }
                                )
                              ),
                              Pt({
                                resultCode:
                                  1 === o.certificationResultCode ? 1 : 2,
                                failMsg:
                                  o.retMessage ||
                                  (1 === o.certificationResultCode
                                    ? "".concat(r.failCode, "扫脸成功")
                                    : "".concat(r.failCode, "扫脸失败")),
                              }),
                              1 === o.certificationResultCode)
                            ) {
                              e.next = 23;
                              break;
                            }
                            throw o;
                          case 23:
                            return (e.next = 25), Dt();
                          case 25:
                            e.next = 32;
                            break;
                          case 27:
                            (e.prev = 27),
                              (e.t1 = e.catch(12)),
                              (0, A.hideLoading)(),
                              B.Z.commonDebugTrace(
                                "扫脸解决问题失败：".concat(
                                  JSON.stringify(e.t1)
                                )
                              ),
                              "退票" !== r.sceneTypeName ||
                              (r.failCode !== s.QUICK_REFUND &&
                                !(
                                  (null === e.t1 || void 0 === e.t1
                                    ? void 0
                                    : e.t1.retMessage) || ""
                                ).includes("未查询到人口信息"))
                                ? ge.showMultiButtonDialog({
                                    title: "扫脸失败",
                                    content:
                                      (null === e.t1 || void 0 === e.t1
                                        ? void 0
                                        : e.t1.retMessage) ||
                                      "您的操作环境异常，暂不可进行".concat(
                                        r.sceneTypeName,
                                        "，请稍后重试~"
                                      ),
                                    leftButtonName: "取消",
                                    rightButtonName: "继续尝试",
                                    onLeftButtonClick: function () {},
                                    onRightButtonClick: Ot,
                                  })
                                : _t(r);
                          case 32:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[12, 27]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            Ft = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (n = ge.getState().accountHelperModel),
                              (e.prev = 1),
                              (e.next = 4),
                              (0, Ye.nQ)(
                                {
                                  registerKey: t.registerKey,
                                  mobile: t.mobile,
                                },
                                ge.getPage()
                              )
                            );
                          case 4:
                            return (
                              Pt({ resultCode: 1, failMsg: "注册成功" }),
                              (e.next = 7),
                              Dt({ needLogin: !0 })
                            );
                          case 7:
                            e.next = 16;
                            break;
                          case 9:
                            if (
                              ((e.prev = 9),
                              (e.t0 = e.catch(1)),
                              (0, A.hideLoading)(),
                              e.t0.code !== Ye.z0.cancel)
                            ) {
                              e.next = 14;
                              break;
                            }
                            return e.abrupt("return");
                          case 14:
                            Pt({
                              resultCode: 2,
                              failMsg:
                                e.t0.Message ||
                                e.t0.message ||
                                "注册第二步失败",
                            }),
                              ge.showCommonDialog(
                                "您的操作环境异常，暂不可进行".concat(
                                  n.sceneTypeName,
                                  "，请稍后重试~"
                                )
                              );
                          case 16:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[1, 9]]
                  );
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            Mt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n, r, a, i, o, c, s, l, u, d, f, p, h;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (t = ge.getState().accountHelperModel),
                              (e.prev = 1),
                              (e.next = 4),
                              (0, Ie.kx)({
                                faceInfo: {
                                  fromType: 5,
                                  userName: t.userName,
                                  certificationInfo: JSON.stringify({
                                    name: t.userName,
                                    passportType: _e.ZP.getRealType(
                                      (null === (n = t.loginPassenger) ||
                                      void 0 === n
                                        ? void 0
                                        : n.passportType) || ""
                                    ),
                                    passportNumber:
                                      null === (r = t.loginPassenger) ||
                                      void 0 === r
                                        ? void 0
                                        : r.passportCode,
                                    mobile: t.userMobileNumber,
                                  }),
                                  failAction: "return",
                                  password: "",
                                },
                                title: "".concat(
                                  t.sceneTypeName,
                                  "获取信息异常"
                                ),
                                subTitle:
                                  "需要您重置账号密码 点击确认将进行重置密码流程",
                              })
                            );
                          case 4:
                            if (
                              ((a = e.sent),
                              (i = a.res),
                              (o = i.callbackData),
                              (c = i.cheackFacePollingKey),
                              (s = i.certificationResultCode),
                              (l = i.RetMessage),
                              1 === s)
                            ) {
                              e.next = 9;
                              break;
                            }
                            return e.abrupt(
                              "return",
                              Pt({
                                resultCode: 2,
                                failMsg:
                                  l ||
                                  "".concat(t.failCode, "重置密码扫脸失败"),
                                failAction: Rt,
                              })
                            );
                          case 9:
                            return (
                              (u = x().getStorageSync("userInfo") || {}),
                              (d = u.Password),
                              o &&
                                ((p = JSON.parse(o)),
                                (f = {}),
                                p.forEach(function (e) {
                                  Object.assign(f, (0, R.Z)({}, e));
                                })),
                              (0, A.showLoading)(),
                              (e.next = 15),
                              (0, Ie.Fn)({
                                Channel: "ctripwx",
                                Username: f.user_name,
                                MobileNo: t.userMobileNumber,
                                NewPassword: d,
                                ConfirmPassword: d,
                                CheackFacePollingKey: c,
                                SecretStr: f.secret_str,
                              })
                            );
                          case 15:
                            if (
                              ((h = e.sent),
                              Pt({
                                resultCode: 1 === h.pollingResult ? 1 : 2,
                                failMsg:
                                  1 === h.pollingResult
                                    ? "找回密码成功"
                                    : "找回密码失败",
                                notifyUser: f.user_name,
                                failAction:
                                  1 !== h.pollingResult ? Rt : function () {},
                              }),
                              (0, A.hideLoading)(),
                              1 === h.pollingResult)
                            ) {
                              e.next = 20;
                              break;
                            }
                            throw "扫脸重置密码第二步失败 : ".concat(
                              JSON.stringify(h)
                            );
                          case 20:
                            return (
                              (0, A.showLoading)("请稍候..."),
                              (e.next = 23),
                              Dt({ needLogin: !0, loginName: f.user_name })
                            );
                          case 23:
                            e.next = 30;
                            break;
                          case 25:
                            (e.prev = 25),
                              (e.t0 = e.catch(1)),
                              (0, A.hideLoading)(),
                              B.Z.commonDebugTrace(
                                "尝试注册-修改密码失败: ".concat(
                                  JSON.stringify(e.t0)
                                )
                              ),
                              -77777 !== e.t0.code &&
                                ge.showCommonDialog(
                                  "您的操作环境异常，暂不可进行".concat(
                                    t.sceneTypeName,
                                    "，请稍后重试~"
                                  )
                                );
                          case 30:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[1, 25]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            Et = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          (t = ge.getState().accountHelperModel),
                            ge.showCommonDialog({
                              title: "您的手机号已经被占用",
                              content: "手机号".concat(
                                t.userMobileNumber,
                                "已被其他注册用户使用，请确认是否为本人注册"
                              ),
                              buttonName: "非本人，拨打12306解绑",
                              onButtonClick: function () {
                                x().makePhoneCall({ phoneNumber: "12306" });
                                var e = ge.getPage(),
                                  t = e.componentDidShow;
                                (e.componentDidShow = (0, p.Z)(
                                  (0, m.Z)().mark(function n() {
                                    return (0, m.Z)().wrap(function (n) {
                                      for (;;)
                                        switch ((n.prev = n.next)) {
                                          case 0:
                                            null == t || t.call(e),
                                              (e.componentDidShow = t.bind(e)),
                                              Dt();
                                          case 3:
                                          case "end":
                                            return n.stop();
                                        }
                                    }, n);
                                  })
                                )),
                                  ge.ubtTrace(
                                    "s_trn_z_trace_10650060639",
                                    (0, R.Z)(
                                      (0, R.Z)({}, Gt()),
                                      {},
                                      {
                                        bizKey: "d_call_sign_out_click_result",
                                        result: "go_to_login",
                                      }
                                    )
                                  );
                              },
                            }),
                            ge.ubtTrace(
                              "s_trn_z_trace_10650060639",
                              (0, R.Z)(
                                (0, R.Z)({}, Gt()),
                                {},
                                { bizKey: "d_call_sign_out_pop_show" }
                              )
                            );
                        case 3:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            Lt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t,
                    n,
                    r,
                    a,
                    i,
                    o = arguments;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (t = o.length > 0 && void 0 !== o[0] ? o[0] : {}),
                            (n = t.canFaceFlag),
                            (r = void 0 === n ? 0 : n),
                            (a = ge.getState().accountHelperModel),
                            (e.next = 4),
                            Bt()
                          );
                        case 4:
                          if (((e.t0 = e.sent), e.t0)) {
                            e.next = 7;
                            break;
                          }
                          e.t0 = {};
                        case 7:
                          if (
                            ((i = e.t0),
                            ge.ubtTrace(
                              "c_trn_z_10650060639",
                              (0, R.Z)(
                                (0, R.Z)({}, Gt()),
                                {},
                                {
                                  bizKey: "d_register_result",
                                  result:
                                    2 ===
                                    (null == i ? void 0 : i.registerStatus)
                                      ? "1"
                                      : "0",
                                  failReason: null == i ? void 0 : i.failCode,
                                  errorInfo: i,
                                }
                              )
                            ),
                            2 !== i.registerStatus)
                          ) {
                            e.next = 12;
                            break;
                          }
                          return (
                            (ge.getPage().workFlow = ee.REGISTER),
                            e.abrupt("return", Ft(i))
                          );
                        case 12:
                          if (3 !== i.registerStatus || 1 !== i.failCode) {
                            e.next = 19;
                            break;
                          }
                          if (r) {
                            e.next = 17;
                            break;
                          }
                          return (
                            B.Z.commonDebugTrace(
                              "用户名中扫脸封控，无法找回密码"
                            ),
                            ge.showCommonDialog(
                              "您的操作环境异常，暂不可进行".concat(
                                a.sceneTypeName,
                                "，请稍后重试~"
                              )
                            ),
                            e.abrupt("return")
                          );
                        case 17:
                          return (
                            (ge.getPage().workFlow = ee.RESET),
                            e.abrupt("return", Mt())
                          );
                        case 19:
                          if (3 !== i.registerStatus || 2 !== i.failCode) {
                            e.next = 22;
                            break;
                          }
                          return (
                            (ge.getPage().workFlow = ee.CALL_SIGN_OUT),
                            e.abrupt("return", Et())
                          );
                        case 22:
                          ge.showCommonDialog(
                            "您的操作环境异常，暂不可进行".concat(
                              a.sceneTypeName,
                              "，请稍后重试~"
                            )
                          ),
                            ge.ubtTrace(
                              "c_trn_z_10650060639",
                              (0, R.Z)(
                                (0, R.Z)({}, Gt()),
                                {},
                                {
                                  bizKey: "d_register_error_ignore",
                                  result:
                                    2 ===
                                    (null == i ? void 0 : i.registerStatus)
                                      ? "1"
                                      : "0",
                                  failReason: null == i ? void 0 : i.failCode,
                                  errorInfo: i,
                                }
                              )
                            );
                        case 24:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            Xt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (t = ge.getState().accountHelperModel),
                              (n = x().getStorageSync("userInfo") || {}),
                              (ge.getPage().workFlow = ee.MSG_VERIFY),
                              ge.ubtTrace(
                                "s_trn_z_trace_10650060639",
                                (0, R.Z)(
                                  (0, R.Z)({}, Gt()),
                                  {},
                                  { bizKey: "d_text_pop_show" }
                                )
                              ),
                              (e.prev = 4),
                              (e.next = 7),
                              (0, Ye.pS)(
                                {
                                  userName: t.userAccount || t.userMobileNumber,
                                  mobile: t.userMobileNumber,
                                  password: n.Password,
                                },
                                ge.getPage()
                              )
                            );
                          case 7:
                            return (
                              Pt({ resultCode: 1, failMsg: "短信核验成功" }),
                              (e.next = 10),
                              Dt()
                            );
                          case 10:
                            ge.ubtTrace(
                              "c_trn_z_10650060639",
                              (0, R.Z)(
                                (0, R.Z)({}, Gt()),
                                {},
                                { bizKey: "d_text_pop_click_result", result: 1 }
                              )
                            ),
                              (e.next = 18);
                            break;
                          case 13:
                            (e.prev = 13),
                              (e.t0 = e.catch(4)),
                              (0, A.hideLoading)(),
                              Pt({
                                resultCode: 2,
                                failMsg: e.t0.message || "短信核验失败",
                              }),
                              ge.ubtTrace(
                                "c_trn_z_10650060639",
                                (0, R.Z)(
                                  (0, R.Z)({}, Gt()),
                                  {},
                                  {
                                    bizKey: "d_text_pop_click_result",
                                    result: 0,
                                    failReason: e.t0.message,
                                  }
                                )
                              );
                          case 18:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[4, 13]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            zt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (t = ge.getState().accountHelperModel),
                              (ge.getPage().workFlow = ee.PC_RESET_PASSWORD),
                              ge.ubtTrace(
                                "s_trn_z_trace_10650060639",
                                (0, R.Z)(
                                  (0, R.Z)({}, Gt()),
                                  {},
                                  { bizKey: "d_retrieve_password_pop_show" }
                                )
                              ),
                              (e.prev = 3),
                              (e.next = 6),
                              ge.navigateToAsync({
                                url: "/pages/12306/retrievePassWord/retrievePassWord",
                                data: {
                                  resetType: "pc",
                                  mobile: t.userMobileNumber,
                                },
                              })
                            );
                          case 6:
                            return (
                              ge.ubtTrace(
                                "s_trn_z_trace_10650060639",
                                (0, R.Z)(
                                  (0, R.Z)({}, Gt()),
                                  {},
                                  {
                                    bizKey: "d_retrieve_password_click_result",
                                    result: 1,
                                  }
                                )
                              ),
                              (e.next = 9),
                              (0, A.showToastAsync)("请重新登录~")
                            );
                          case 9:
                            return (
                              (e.next = 11),
                              ge.navigateToAsync({
                                url: "/pages/12306/login/login",
                                data: { mobile: t.userMobileNumber },
                              })
                            );
                          case 11:
                            return (
                              Pt({
                                resultCode: 1,
                                failMsg: "短信找回密码成功",
                              }),
                              (e.next = 14),
                              Dt()
                            );
                          case 14:
                            e.next = 20;
                            break;
                          case 16:
                            (e.prev = 16),
                              (e.t0 = e.catch(3)),
                              (0, A.hideLoading)(),
                              B.Z.commonDebugTrace(
                                "短信找回密码失败: ".concat(
                                  JSON.stringify(e.t0)
                                )
                              );
                          case 20:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[3, 16]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            Ut = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (e.prev = 0),
                              (e.next = 3),
                              (0, A.showToastAsync)("请重新登录~")
                            );
                          case 3:
                            return (
                              (e.next = 5),
                              ge.navigateToAsync({
                                url: "/pages/12306/login/login",
                              })
                            );
                          case 5:
                            return (
                              Pt({
                                resultCode: 1,
                                failMsg: "密码错误时重新登录成功",
                              }),
                              (e.next = 8),
                              Dt()
                            );
                          case 8:
                            e.next = 14;
                            break;
                          case 10:
                            (e.prev = 10),
                              (e.t0 = e.catch(0)),
                              (0, A.hideLoading)(),
                              B.Z.commonDebugTrace(
                                "密码错误时重新登录失败: ".concat(
                                  JSON.stringify(e.t0)
                                )
                              );
                          case 14:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[0, 10]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            jt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (t = ge.getState().accountHelperModel),
                            (n = 1),
                            (e.next = 4),
                            At()
                          );
                        case 4:
                          (n = e.sent),
                            (e.t0 = t.failCode),
                            (e.next =
                              e.t0 === s.FACE ||
                              e.t0 === s.FACE_OR_MSG ||
                              e.t0 === s.SELF_TICKET ||
                              e.t0 === s.QUICK_REFUND ||
                              e.t0 === s.RISK_FACE
                                ? 8
                                : e.t0 === s.REGISTER
                                ? 12
                                : e.t0 === s.MESSAGE
                                ? 13
                                : e.t0 === s.RESET ||
                                  e.t0 === s.PC_RESET_PASSWORD
                                ? 14
                                : 15);
                          break;
                        case 8:
                          if (n) {
                            e.next = 11;
                            break;
                          }
                          return (
                            ge.showCommonDialog(
                              "您的操作环境异常，暂不可进行".concat(
                                t.sceneTypeName,
                                "，请稍后重试~"
                              )
                            ),
                            e.abrupt("return")
                          );
                        case 11:
                          return e.abrupt("return", Ot());
                        case 12:
                          return e.abrupt("return", Lt({ canFaceFlag: n }));
                        case 13:
                          return e.abrupt("return", Xt());
                        case 14:
                          return e.abrupt("return", zt());
                        case 15:
                          ge.showCommonDialog(
                            "您的操作环境异常，暂不可进行".concat(
                              t.sceneTypeName,
                              "，请稍后重试~"
                            )
                          );
                        case 16:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            Gt = function () {
              var e = ge.getState().accountHelperModel,
                t = e.failCode,
                n = e.sceneType,
                r = e.isSelfResign;
              return {
                orderid: ge.getPage().oid,
                sceneType: n,
                failCode: t,
                isSelfResign: r ? 1 : 0,
                realFailCode: ge.getPage().workFlow,
              };
            },
            Ht = n(81437),
            Wt = function (e) {
              var t = S.default.isTieyou;
              if (-1 === e.resultCode && "订单不存在" === e.resultMessage)
                throw (
                  (ge.showCommonDialog({
                    content: "暂时找不到该订单，请前往APP查看~",
                    onButtonClick: function () {
                      O.Z.relaunchHome();
                    },
                  }),
                  new Error("该订单不存在"))
                );
              51e3 === e.resultCode && "未授权" === e.resultMessage
                ? x().showModal({
                    title: "温馨提示",
                    content: "当前登录账号与订单号不一致，请切换账号~",
                    confirmText: "切换账号",
                    showCancel: !0,
                    confirmColor: t ? "#fc6e51" : "#0080FF",
                    cancelText: "不切换",
                    success: function (e) {
                      e.confirm
                        ? Se.ZP.doLogin()
                            .then(Kn)
                            .catch(function () {
                              x().showToast({
                                title: "取消登录",
                                icon: "none",
                                duration: 1500,
                              });
                            })
                        : O.Z.relaunchHome();
                    },
                  })
                : x().showModal({
                    title: "温馨提示",
                    content:
                      (e && e.resultMessage) ||
                      "无法获取当前订单信息，请在".concat(
                        t ? "铁友" : "智行",
                        "APP查看"
                      ),
                    confirmText: "知道了",
                    showCancel: !1,
                    confirmColor: t ? "#fc6e51" : "#0080FF",
                    success: function () {
                      O.Z.relaunchHome();
                    },
                  });
            },
            Jt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (e.prev = 0),
                              (t = { orderNumber: ge.getPage().oid }),
                              (e.next = 4),
                              (0, X.Rqp)(t)
                            );
                          case 4:
                            if (1 === (n = e.sent).resultCode) {
                              e.next = 8;
                              break;
                            }
                            throw (Wt(n), "获取信息失败~");
                          case 8:
                            return e.abrupt("return", n);
                          case 11:
                            return (
                              (e.prev = 11),
                              (e.t0 = e.catch(0)),
                              e.abrupt("return", null)
                            );
                          case 14:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[0, 11]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            Kt = function (e) {
              ge.getDispatch().orderModel.setOrderInfo(e),
                (function () {
                  var e = ge.getState().orderModel.orderTicketList,
                    t = e.find(function (e) {
                      return 1 == e.orderTicketType && 1 === e.routeSequence;
                    });
                  ge.getDispatch().orderModel.setOriginalOrder(t);
                  var n = e.find(function (e) {
                    return 1 == e.orderTicketType && 2 === e.routeSequence;
                  });
                  ge.getDispatch().orderModel.setOriginalSecondOrder(n);
                })(),
                (function () {
                  var e = ge
                    .getState()
                    .orderModel.orderTicketList.filter(function (e) {
                      return 2 == e.orderTicketType;
                    });
                  ge.getDispatch().orderModel.setRescheduleOrders(e);
                })(),
                (function (e) {
                  var t = ((null == e ? void 0 : e.insuranceList) || []).filter(
                    function (e) {
                      return 202 === e.insuranceState;
                    }
                  );
                  ge.getDispatch().orderModel.setRefundInsuranceList(t);
                })(e);
            },
            qt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n, r;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (e.prev = 0),
                              (0, A.showLoading)(),
                              (t = ge.getState().orderModel.orderInfo),
                              (n = {
                                orderNumber:
                                  t.reschedulePayOrderNo || ge.getPage().oid,
                                partnerName: S.default.partner,
                              }),
                              (e.next = 6),
                              (0, X.FHX)(n)
                            );
                          case 6:
                            if (
                              ((r = e.sent),
                              (0, A.hideLoading)(),
                              1 === r.resultCode)
                            ) {
                              e.next = 10;
                              break;
                            }
                            throw { message: r.resultMessage };
                          case 10:
                            ge.showCommonDialog({
                              content: r.resultMessage || "取消成功~",
                              onButtonClick: Kn,
                            }),
                              (e.next = 16);
                            break;
                          case 13:
                            (e.prev = 13),
                              (e.t0 = e.catch(0)),
                              ge.showCommonDialog(e.t0.message || "取消失败~");
                          case 16:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[0, 13]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            Yt = function () {
              return ge.showMultiButtonDialog({
                title: "温馨提示",
                content:
                  "当前订单正在排队出票，购票高峰重新下单可能需要重新排队，确定取消订单吗？(当天订单取消超过三次将不能购票)",
                leftButtonName: "继续等待",
                rightButtonName: "确认取消",
                maskClose: !1,
                onLeftButtonClick: function () {},
                onRightButtonClick: function () {
                  qt();
                },
              });
            },
            Qt = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r, a, i;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (n = t.xOrderType),
                              (r = t.productId),
                              (e.prev = 1),
                              (a = ge.getPage().oid),
                              (e.next = 5),
                              (0, X.Auc)({
                                orderNumber: a,
                                convertType: n,
                                productId: String(r),
                              })
                            );
                          case 5:
                            (i = e.sent) && 1 === i.resultCode
                              ? Kn()
                              : x().showToast({
                                  title:
                                    i.resultMessage ||
                                    "网络开小差，请稍后再试～",
                                  icon: "none",
                                  duration: 2e3,
                                }),
                              (e.next = 13);
                            break;
                          case 9:
                            (e.prev = 9),
                              (e.t0 = e.catch(1)),
                              x().showToast({
                                title: "网络开小差，请稍后再试～",
                                icon: "none",
                                duration: 2e3,
                              }),
                              console.log(e.t0);
                          case 13:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[1, 9]]
                  );
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            $t = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (e.prev = 0),
                              (e.next = 3),
                              (0, X.Nec)({ xOrderNumber: t })
                            );
                          case 3:
                            (n = e.sent) && 1 === n.resultCode
                              ? ((r = n.paymentID),
                                qe.ZP.doPayment({
                                  business: "train",
                                  orderNumber: t,
                                  goodsId: r,
                                  title: "火车票订单",
                                })
                                  .then(function () {
                                    Pt({
                                      resultCode: 2,
                                      failMsg: "用户手动取消，进入强绑逻辑",
                                    });
                                  })
                                  .catch(function () {}))
                              : x().showToast({
                                  title:
                                    n.resultMessage ||
                                    "网络开小差，请稍后再试～",
                                  icon: "none",
                                  duration: 2e3,
                                }),
                              (e.next = 11);
                            break;
                          case 7:
                            (e.prev = 7),
                              (e.t0 = e.catch(0)),
                              x().showToast({
                                title: "网络开小差，请稍后再试～",
                                icon: "none",
                                duration: 2e3,
                              }),
                              console.log(e.t0);
                          case 11:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[0, 7]]
                  );
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            en = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r, a, i, o, c;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (n = t.xOrderType),
                              (r = t.productId),
                              (e.prev = 1),
                              (a = ge.getPage().oid),
                              (e.next = 5),
                              (0, X.unK)({
                                orderNumber: a,
                                xOrderType: n,
                                productId: String(r),
                              })
                            );
                          case 5:
                            if (!(i = e.sent) || 1 !== i.resultCode) {
                              e.next = 13;
                              break;
                            }
                            if (((o = i.needPay), (c = i.payOrderNumber), !o)) {
                              e.next = 11;
                              break;
                            }
                            return (e.next = 11), $t(c);
                          case 11:
                            e.next = 14;
                            break;
                          case 13:
                            x().showToast({
                              title:
                                i.resultMessage || "网络开小差，请稍后再试～",
                              icon: "none",
                              duration: 2e3,
                            });
                          case 14:
                            e.next = 20;
                            break;
                          case 16:
                            (e.prev = 16),
                              (e.t0 = e.catch(1)),
                              x().showToast({
                                title: "网络开小差，请稍后再试～",
                                icon: "none",
                                duration: 2e3,
                              }),
                              console.log(e.t0);
                          case 20:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[1, 16]]
                  );
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            tn = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (((n = t.productId), !(r = t.xOrderType) || !n)) {
                            e.next = 5;
                            break;
                          }
                          return (
                            ge.ubtTrace("c_trn_z_10650060639", {
                              bizKey: "z_mini_43003_urgentreport_rengong_click",
                              orderid: ge.getPage().oid,
                            }),
                            (e.next = 5),
                            en({ xOrderType: r, productId: n })
                          );
                        case 5:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            nn = function (e) {
              var t = e.DepartStation,
                n = e.ArriveStation,
                r = e.DepartDate,
                a = e.trainNo;
              ge.navigateTo({
                url: "/pages/trainRob/setgrab/setgrab",
                data: {
                  departStation: t || "",
                  departDate: r || "",
                  trainNumber: a || "",
                  arriveStation: n || "",
                },
              });
            },
            rn = function (e) {
              if (!e) return "";
              var t = null;
              return (
                (null == e ? void 0 : e.split("&")).forEach(function (e) {
                  var n;
                  e.startsWith("query") &&
                    (t = JSON.parse(
                      null == e || null === (n = e.split("=")) || void 0 === n
                        ? void 0
                        : n[1]
                    ));
                }),
                t
              );
            },
            an = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r, a, i, o, c, s, l, u, d, f, p;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (e.prev = 0),
                              (n = t.train),
                              (r = t.fromPage),
                              (a = t.smartTripFirstOrderNumber),
                              (i = t.smartSaveTripOrderNo),
                              (o = {
                                DepartStation: null == n ? void 0 : n.from_name,
                                ArriveStation: null == n ? void 0 : n.to_name,
                                DepartDate:
                                  null == n ? void 0 : n.departure_date,
                                TrainName: null == n ? void 0 : n.code,
                                fromPage: r,
                                firstTripOrderNumber: a || i,
                              }),
                              (e.next = 5),
                              _e.ZP.getTrainList(o)
                            );
                          case 5:
                            (null == (c = e.sent) ? void 0 : c.length) > 0 &&
                              ((s = Ht.Z.handleTrains(c, o.DepartDate) || []),
                              (l = s[0]),
                              (u = l.DepartStation),
                              (d = l.ArriveStation),
                              (f = l.DepartTimeStamp),
                              (p = l.TrainNumber),
                              ge.navigateTo({
                                url: "/pages/train/bookx/bookx",
                                data: {
                                  train: l,
                                  fromStation: u,
                                  toStation: d,
                                  departDate: M()(f).format("YYYY-MM-DD"),
                                  trainNo: p,
                                  smartMarkValue: o.fromPage,
                                  firstTripOrderNumber: o.firstTripOrderNumber,
                                  fromPage:
                                    "trainOrderDetail_bookingSecondTrip",
                                },
                              })),
                              (e.next = 13);
                            break;
                          case 9:
                            (e.prev = 9),
                              (e.t0 = e.catch(0)),
                              console.log(e.t0),
                              (0, A.showToast)("网络异常，请稍后再试!");
                          case 13:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[0, 9]]
                  );
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            on = n(69781),
            cn = function () {
              var e,
                t,
                n,
                r = ge.getState().orderModel.orderInfo;
              O.Z.isEmptyObject(r) ||
                (ge
                  .getDispatch()
                  .paymentModel.setPriceDeskViewIsShow(1 === r.payFlag),
                ge
                  .getDispatch()
                  .paymentModel.updateTotalPrice(
                    null === (e = r.priceDetail) || void 0 === e
                      ? void 0
                      : e.totalPrice
                  ),
                ge
                  .getDispatch()
                  .paymentModel.updatePriceDesc(
                    null === (t = r.priceDetail) || void 0 === t
                      ? void 0
                      : t.desc
                  ),
                ge
                  .getDispatch()
                  .paymentModel.updateCouponDesc(
                    null === (n = r.priceDetail) || void 0 === n
                      ? void 0
                      : n.couponDesc
                  ),
                sn(),
                ln());
            },
            sn = function () {
              var e,
                t = ge.getState().orderModel.isCrossBorderTrain,
                n = [],
                r = (
                  (null ===
                    (e = ge.getState().orderModel.orderInfo.priceDetail) ||
                  void 0 === e
                    ? void 0
                    : e.detail) || []
                ).map(function (e) {
                  return {
                    name: e.key,
                    desc: e.value,
                    link:
                      3 == e.priceType
                        ? "https://"
                            .concat(
                              S.default.h5domain,
                              "/webapp/train/activity/ztrip-train-buy-ticket-rule?isHideNavBar=YES&type="
                            )
                            .concat(t ? "exceed_boarder" : "rebook")
                        : "",
                  };
                });
              n.push({ typeName: "票价", priceType: 1, priceItem: r }),
                ge.getDispatch().paymentModel.updatePriceDetail(n);
            },
            ln = function () {
              var e,
                t = "立即支付";
              (null === (e = ge.getState().orderModel.orderStatusInfo) ||
              void 0 === e
                ? void 0
                : e._orderFlags
              ).isRescheduleBeConfirmed && (t = "确认改签"),
                ge.getDispatch().paymentModel.setPayBtnText(t);
            },
            un = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n, r, a, i, o, c, s, l, u;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (n = ge.getPage()),
                            (r = ge.getState().orderModel.orderInfo || {}),
                            (a = r.reschedulePayOrderNo),
                            (i = r.tyOrderNo),
                            (o = r.pointOrderReschedulePayInfo),
                            (c = r.specialOrderTypeFlag),
                            (s =
                              null ===
                                (t =
                                  ge.getState().orderModel.orderStatusInfo) ||
                              void 0 === t
                                ? void 0
                                : t._orderFlags),
                            (l = s.isReschedulePayWait),
                            (e.next = 5),
                            (0, on.ZP)({
                              page: n,
                              orderNumber: a || i,
                              pointPaymentInfo: o,
                              isPointReschedule: 1 == c && l,
                              originalOid: 1 == c && l ? n.oid : void 0,
                            })
                          );
                        case 5:
                          if (1 === (u = e.sent).code) {
                            e.next = 8;
                            break;
                          }
                          throw (0, R.Z)(
                            (0, R.Z)({}, u),
                            {},
                            { message: u.reason.msg }
                          );
                        case 8:
                          return e.abrupt(
                            "return",
                            (0, R.Z)(
                              (0, R.Z)({}, u),
                              {},
                              { message: u.reason.msg }
                            )
                          );
                        case 9:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            dn = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (t = ge.getPage()),
                            (e.next = 3),
                            (0, X.EeH)({ orderNumber: t.oid })
                          );
                        case 3:
                          if (1 === (n = e.sent).resultCode) {
                            e.next = 6;
                            break;
                          }
                          throw n.resultMessage;
                        case 6:
                          return e.abrupt("return", {
                            message: "改签确认成功！",
                          });
                        case 7:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            fn = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n, r, a;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            if (
                              ((n =
                                null ===
                                  (t =
                                    ge.getState().orderModel.orderStatusInfo) ||
                                void 0 === t
                                  ? void 0
                                  : t._orderFlags),
                              (e.prev = 1),
                              (0, A.showLoading)(),
                              (r = { message: "操作完成~" }),
                              !n.isRescheduleBeConfirmed)
                            ) {
                              e.next = 10;
                              break;
                            }
                            return (e.next = 7), dn();
                          case 7:
                            (r = e.sent), (e.next = 13);
                            break;
                          case 10:
                            return (e.next = 12), un();
                          case 12:
                            r = e.sent;
                          case 13:
                            (0, A.hideLoading)(),
                              ge.showCommonDialog({
                                content: r.message || "操作完成~",
                                onButtonClick: (function () {
                                  var e = (0, p.Z)(
                                    (0, m.Z)().mark(function e() {
                                      return (0, m.Z)().wrap(function (e) {
                                        for (;;)
                                          switch ((e.prev = e.next)) {
                                            case 0:
                                              if (
                                                !n.isReschedulePayWait &&
                                                !n.isRescheduleBeConfirmed
                                              ) {
                                                e.next = 3;
                                                break;
                                              }
                                              return (
                                                (e.next = 3), rr("resignPay")
                                              );
                                            case 3:
                                              Kn();
                                            case 4:
                                            case "end":
                                              return e.stop();
                                          }
                                      }, e);
                                    })
                                  );
                                  return function () {
                                    return e.apply(this, arguments);
                                  };
                                })(),
                              }),
                              (e.next = 25);
                            break;
                          case 17:
                            if (
                              ((e.prev = 17),
                              (e.t0 = e.catch(1)),
                              B.Z.commonDebugTrace(
                                "handleConfirmPay err: ".concat(
                                  JSON.stringify(e.t0)
                                )
                              ),
                              (0, A.hideLoading)(),
                              (null === (a = e.t0.reason) || void 0 === a
                                ? void 0
                                : a.reasonCode) != on.ZB.USER_CANCEL)
                            ) {
                              e.next = 24;
                              break;
                            }
                            return (
                              (0, A.showToast)(
                                (null === e.t0 || void 0 === e.t0
                                  ? void 0
                                  : e.t0.message) || "支付取消"
                              ),
                              e.abrupt("return")
                            );
                          case 24:
                            ge.showCommonDialog(
                              (null === e.t0 || void 0 === e.t0
                                ? void 0
                                : e.t0.message) ||
                                ("string" == typeof e.t0
                                  ? e.t0
                                  : "操作失败，请稍后重试~")
                            );
                          case 25:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[1, 17]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            mn = n(16832),
            pn = function () {
              var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : [];
              return e.some(function (e) {
                return (
                  "支付确认中" === e.orderStatus || 205 === e.ticketStatusCode
                );
              });
            },
            hn = function () {
              var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : [];
              return e.some(function (e) {
                return (
                  "购票中" === e.orderStatus ||
                  206 === e.ticketStatusCode ||
                  "支付成功待出票" === e.orderStatus ||
                  203 === e.ticketStatusCode
                );
              });
            },
            gn = function () {
              var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : [],
                t =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : [],
                n = e.some(function (e) {
                  return (
                    "退票处理中" === e.orderStatus || 200 === e.ticketStatusCode
                  );
                }),
                r = t.some(function (e) {
                  var t = e.ticketInfos;
                  return (void 0 === t ? [] : t).some(function (e) {
                    return (
                      "退票处理中" === e.orderStatus ||
                      200 === e.ticketStatusCode
                    );
                  });
                });
              return n || r;
            },
            vn = function () {
              var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : [],
                t =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 0;
              return e.some(function (e) {
                var n = e.ticketInfos,
                  r = void 0 === n ? [] : n,
                  a = r.some(function (e) {
                    return (
                      "改签中" === e.orderStatus ||
                      201 === e.ticketStatusCode ||
                      "支付成功待出票" === e.orderStatus ||
                      203 === e.ticketStatusCode ||
                      "" === e.orderStatus
                    );
                  }),
                  i = r.some(function (e) {
                    return (
                      "待支付" === e.orderStatus || 300 === e.ticketStatusCode
                    );
                  });
                return a || (i && 0 === t);
              });
            },
            Tn = function () {
              var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : [],
                t =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : [],
                n = e.every(function (e) {
                  return (
                    "退票成功" === e.orderStatus || 101 === e.ticketStatusCode
                  );
                }),
                r = e.every(function (e) {
                  return (
                    "退票成功" === e.orderStatus ||
                    101 === e.ticketStatusCode ||
                    "已改签" === e.orderStatus ||
                    107 === e.ticketStatusCode
                  );
                }),
                a = t.every(function (e) {
                  var t = e.ticketInfos;
                  return (void 0 === t ? [] : t).every(function (e) {
                    return (
                      "退票成功" === e.orderStatus || 101 === e.ticketStatusCode
                    );
                  });
                });
              return n || (r && a);
            },
            Zn = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n, r, a, i;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (e.prev = 0),
                              (e.next = 3),
                              Promise.all([Nn(), Dn(), xn()])
                            );
                          case 3:
                            return (
                              (t = e.sent),
                              (n = (0, Ce.Z)(t, 3)),
                              (r = n[0]),
                              (a = n[1]),
                              (i = n[2]),
                              e.abrupt("return", {
                                availableTicketResponse: r,
                                shareQRCodeImageUrlResponse: a,
                                userTicketCollectionResponse: i,
                              })
                            );
                          case 11:
                            return (
                              (e.prev = 11),
                              (e.t0 = e.catch(0)),
                              e.abrupt("return", null)
                            );
                          case 14:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[0, 11]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            wn = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r, a, i, o;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (t) {
                            e.next = 2;
                            break;
                          }
                          return e.abrupt("return");
                        case 2:
                          return (
                            (n = t.availableTicketResponse),
                            (r = void 0 === n ? {} : n),
                            (a = t.shareQRCodeImageUrlResponse),
                            (i = t.userTicketCollectionResponse),
                            bn(r),
                            Pn(a),
                            kn(i),
                            (e.next = 8),
                            yn()
                          );
                        case 8:
                          (o = e.sent), Cn(o), Sn(r);
                        case 11:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            Nn = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n, r;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (n = {
                                bizType: "TRAIN",
                                orderId: ge.getPage().oid,
                                account12306:
                                  (null === (t = ge.getState().my12306Model) ||
                                  void 0 === t
                                    ? void 0
                                    : t.login12306Name) || "",
                              }),
                              (e.prev = 1),
                              (e.next = 4),
                              (0, L.QO)(n)
                            );
                          case 4:
                            if ((r = e.sent) && 1 === r.resultCode) {
                              e.next = 9;
                              break;
                            }
                            return e.abrupt("return", null);
                          case 9:
                            return e.abrupt("return", (0, R.Z)({}, r));
                          case 10:
                            e.next = 16;
                            break;
                          case 12:
                            return (
                              (e.prev = 12),
                              (e.t0 = e.catch(1)),
                              console.log(e.t0),
                              e.abrupt("return", null)
                            );
                          case 16:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[1, 12]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            bn = function (e) {
              ge.getDispatch().ticketCollectionModel.setCanAddCountTicketAmount(
                (null == e ? void 0 : e.ticketAmount) || 0
              );
            },
            xn = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t,
                    n,
                    r,
                    a,
                    i = arguments;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (t = i.length > 0 && void 0 !== i[0] ? i[0] : 1),
                              (n =
                                ge.getState().ticketCollectionModel.pageIndex),
                              (r = {
                                bizType: "TRAIN",
                                pageIndex: 2 === t ? n + 1 : 1,
                                pageSize: 20,
                                showPaidTicketCover: 1,
                              }),
                              ge
                                .getDispatch()
                                .ticketCollectionModel.setPageIndex(
                                  2 === t ? n + 1 : 1
                                ),
                              (e.prev = 4),
                              (e.next = 7),
                              (0, L.QJ)(r)
                            );
                          case 7:
                            if (
                              (a = e.sent) &&
                              1 == a.resultCode &&
                              a.trainTicketCollection
                            ) {
                              e.next = 12;
                              break;
                            }
                            return e.abrupt("return", null);
                          case 12:
                            return e.abrupt(
                              "return",
                              (0, R.Z)({}, a.trainTicketCollection)
                            );
                          case 13:
                            e.next = 19;
                            break;
                          case 15:
                            return (
                              (e.prev = 15),
                              (e.t0 = e.catch(4)),
                              console.log(e.t0),
                              e.abrupt("return", null)
                            );
                          case 19:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[4, 15]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            kn = function (e) {
              ge.getDispatch().ticketCollectionModel.setUserTicketCollections(
                e
              );
              var t = x().getStorageSync(
                  "USERCENTER_SHARE_COLLECTION_TICKET_NUM"
                ),
                n = (null == e ? void 0 : e.ticketAmount) || 0;
              ge.getDispatch().ticketCollectionModel.setIsShowTipsDotInStationServer(
                n > t
              );
            },
            yn = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n, r, a, i;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (t = ge.getState().orderModel.orginalOrder),
                              (n =
                                ge.getState().ticketCollectionModel
                                  .ticketsInfo),
                              (r = []),
                              n.map(function (e) {
                                r.push(e.ticketLongNum);
                              }),
                              (a = {
                                ticketNums: r,
                                bizType: "TRAIN",
                                arrivalCity: t.toStation,
                                departureTime: ""
                                  .concat(t.fromDate, " ")
                                  .concat(t.fromTime, ":00"),
                              }),
                              (e.prev = 5),
                              (e.next = 8),
                              (0, L.qu)(a)
                            );
                          case 8:
                            if (
                              (i = e.sent) &&
                              1 === i.resultCode &&
                              i.ticketCovers
                            ) {
                              e.next = 13;
                              break;
                            }
                            return e.abrupt("return", null);
                          case 13:
                            return e.abrupt("return", i.ticketCovers);
                          case 14:
                            e.next = 20;
                            break;
                          case 16:
                            return (
                              (e.prev = 16),
                              (e.t0 = e.catch(5)),
                              console.log(e.t0),
                              e.abrupt("return", null)
                            );
                          case 20:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[5, 16]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            Cn = function (e) {
              ge.getDispatch().ticketCollectionModel.setUserTicketCovers(e);
            },
            Sn = function () {
              var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = (null == e ? void 0 : e.trainList) || [],
                n = ge.getState().orderModel.orginalOrder;
              if (n) {
                var r = Rn(n),
                  a = ge.getState().orderModel.rescheduleOrders || [],
                  i = [];
                a.map(function (e) {
                  i = i.concat(Rn(e));
                }),
                  i.length > 0 &&
                    r.map(function (e, t) {
                      if (107 === e.ticketStatusCode) {
                        var n = i.filter(function (t) {
                          return (
                            103 === t.ticketStatusCode &&
                            t.passengerName === e.passengerName
                          );
                        });
                        n.length > 0 && (r[t] = n[0]);
                      }
                    }),
                  (r = r.filter(function (e) {
                    return !e._isUseless;
                  })).map(function (e) {
                    return (e._isAvailable = t.some(function (t) {
                      return e.ticketLongNum === t.ticketLongNum;
                    }));
                  }),
                  ge.getDispatch().ticketCollectionModel.setTicketsInfo(r);
              }
            },
            _n = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n, r, a, i;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (t =
                                ge.getState().ticketCollectionModel
                                  .ticketsInfo),
                              (n = []),
                              (r = []),
                              t.map(function (e) {
                                n.push(e.ticketLongNum),
                                  r.push({
                                    ticketNumber: e.ticketLongNum,
                                    coverId: e.paidTicketCoverInfo
                                      ? e.paidTicketCoverInfo.coverId
                                      : 0,
                                  });
                              }),
                              (a = {
                                prizeVersion: 1,
                                ticketNumber: n,
                                ticketsInfo: r,
                                orderNumber: ge.getPage().oid,
                                source: "order_detail",
                              }),
                              (e.prev = 5),
                              (e.next = 8),
                              (0, L.Uc)(a)
                            );
                          case 8:
                            if ((i = e.sent) && 1 == i.resultCode && i.data) {
                              e.next = 13;
                              break;
                            }
                            return e.abrupt("return", []);
                          case 13:
                            return e.abrupt("return", i.data);
                          case 14:
                            e.next = 20;
                            break;
                          case 16:
                            return (
                              (e.prev = 16),
                              (e.t0 = e.catch(5)),
                              console.log(e.t0),
                              e.abrupt("return", [])
                            );
                          case 20:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[5, 16]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            In = function (e, t) {
              return (
                ge.getDispatch().ticketCollectionModel.setFlipResult(e),
                t.map(function (t) {
                  var n = [];
                  e &&
                    (n = e.filter(function (e) {
                      return e.ticketNumber === t.ticketLongNum;
                    })),
                    (t.canBeFlip = !(!e || !n.length) && n[0].canBeFlip),
                    (t.isGrantReward =
                      !(!e || !n.length) && n[0].isGrantReward),
                    (t._flipResult = e && n.length ? n[0] : null);
                }),
                t
              );
            },
            Vn = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n, a, i, o, c, s;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (t =
                              ge.getState().ticketCollectionModel.ticketsInfo),
                            (e.next = 3),
                            _n()
                          );
                        case 3:
                          return (
                            (n = e.sent),
                            (t = t.filter(function (e) {
                              return e._isAvailable;
                            })),
                            (t = In(n, t)),
                            (a = t[0] || {}),
                            ge
                              .getDispatch()
                              .ticketCollectionModel.setAddTicket(a),
                            (e.next = 10),
                            Yn({
                              toast: {
                                toastCode: r.addTrainTicketToast,
                                data: { tickets: t, onChangePasInfo: zn },
                              },
                            })
                          );
                        case 10:
                          if (
                            ((i = e.sent),
                            (o = i.code),
                            (c = i.data),
                            (s = void 0 === c ? [] : c),
                            1 !== o)
                          ) {
                            e.next = 24;
                            break;
                          }
                          if (!s[0].type) {
                            e.next = 23;
                            break;
                          }
                          return (e.next = 18), Bn(s[0].info);
                        case 18:
                          return (e.next = 20), An(s[0].info);
                        case 20:
                          Kn(), (e.next = 24);
                          break;
                        case 23:
                          Un(3);
                        case 24:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            Rn = function (e) {
              var t = [],
                n = e.fromStation,
                r = e.toStation,
                a = e.fromDate,
                i = e.fromTime,
                o = e.toDate,
                c = e.toTime,
                s = e.ticketInfoList,
                l = e.trainNo;
              return (
                s.map(function (e) {
                  var s = {
                    departure: n,
                    arrival: r,
                    departureTime: "".concat(a, " ").concat(i, ":00"),
                    arrivalTime: "".concat(o, " ").concat(c, ":00"),
                    ticketPrice: e.ticketPrice,
                    trainNum: l,
                    carriageNum: e.seatNo ? e.seatNo.split("厢")[0] : "",
                    seatNum: e.seatNo ? e.seatNo.split("厢")[1] : "",
                    seatType: e.seatType,
                    passengerName: e.passengerName,
                    ticketLongNum: e.electronicLongNum,
                    identificationNum: e.passportCode,
                    orderStatus: e.orderStatus,
                    ticketStatusCode: e.ticketStatusCode,
                    orderId: ge.getPage().oid,
                    _isUseless: e._isUseless,
                  };
                  t.push(s);
                }),
                t
              );
            },
            Dn = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            "/pages/usercenter/shareCollection/shareCollection?fromSource=AppletsQRcode",
                            (t = {
                              width: 280,
                              wxAppId: S.default.appId,
                              hyalineFlag: 1,
                              pagePath:
                                "/pages/usercenter/shareCollection/shareCollection?fromSource=AppletsQRcode",
                            }),
                            (e.next = 4),
                            O.Z.geNewtQRCodeImageUrl(t)
                          );
                        case 4:
                          if (((e.t0 = e.sent), e.t0)) {
                            e.next = 7;
                            break;
                          }
                          e.t0 = "";
                        case 7:
                          return (n = e.t0), e.abrupt("return", n);
                        case 9:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            Pn = function (e) {
              ge.getDispatch().ticketCollectionModel.setShareORCodeImage(e);
            },
            An = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r, a;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              t.map(function (e) {
                                return (e.orderId = ge.getPage().oid);
                              }),
                              (r = {
                                orderTicketList: t,
                                ticketType: 0,
                                account12306:
                                  (null === (n = ge.getState().my12306Model) ||
                                  void 0 === n
                                    ? void 0
                                    : n.login12306Name) || "",
                                actionType: "ADD",
                              }),
                              (e.prev = 2),
                              (e.next = 5),
                              (0, L.RM)(r)
                            );
                          case 5:
                            if ((a = e.sent) && 1 === a.resultCode) {
                              e.next = 11;
                              break;
                            }
                            return (
                              (e.next = 9),
                              (0, A.showToastAsync)("添加失败了，请稍后重试！")
                            );
                          case 9:
                            e.next = 13;
                            break;
                          case 11:
                            return (
                              (e.next = 13), (0, A.showToastAsync)("添加成功~")
                            );
                          case 13:
                            e.next = 19;
                            break;
                          case 15:
                            return (
                              (e.prev = 15),
                              (e.t0 = e.catch(2)),
                              (e.next = 19),
                              (0, A.showToastAsync)("添加失败了，请稍后重试！")
                            );
                          case 19:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[2, 15]]
                  );
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            Bn = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r, a, i;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              (n =
                                ge.getState().ticketCollectionModel
                                  .userSelectCoverInfo),
                              (r = JSON.parse(JSON.stringify(t))).map(function (
                                e
                              ) {
                                e.coverId =
                                  (null == n ? void 0 : n.coverId) || "";
                              }),
                              (a = {
                                bizOrderNum: ge.getPage().oid,
                                bizType: "TRAIN",
                                preSaleInfo: r,
                              }),
                              (e.prev = 4),
                              (e.next = 7),
                              (0, L.JN)(a)
                            );
                          case 7:
                            ((i = e.sent) && 1 === i.resultCode) ||
                              console.log("免费解锁失败", i),
                              (e.next = 14);
                            break;
                          case 11:
                            (e.prev = 11),
                              (e.t0 = e.catch(4)),
                              console.log(e.t0);
                          case 14:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[4, 11]]
                  );
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            On = function () {
              Vn();
              var e = x().getStorageSync(
                  "TRAIN_ORDERDETAIL_TICKET_FLOAT_CLICK_".concat(
                    ge.getPage().oid
                  )
                ),
                t =
                  x().getStorageSync(
                    "TRAIN_ORDERDETAIL_TICKET_FLOAT_SHOW_NUM"
                  ) || 0;
              e ||
                (x().setStorageSync(
                  "TRAIN_ORDERDETAIL_TICKET_FLOAT_SHOW_NUM",
                  t + 1
                ),
                x().setStorageSync(
                  "TRAIN_ORDERDETAIL_TICKET_FLOAT_CLICK_".concat(
                    ge.getPage().oid
                  ),
                  !0
                ),
                ge
                  .getDispatch()
                  .ticketCollectionModel.setHasClickedTicketFloat(!0));
            },
            Fn = function (e) {
              var t = ge.getState().ticketCollectionModel.userSelectCoverInfo,
                n = ge.getState().ticketCollectionModel.shareTicket;
              ge.ubtTrace("TZWBuyOrderDetail_MemoraTicket_exposure", {
                PageId: ge.getPage().pageId,
                orderId: ge.getPage().oid,
                CardType: ""
                  .concat(mn.ZZ[null == e ? void 0 : e.type])
                  .concat(t ? (null == t ? void 0 : t.coverName) : "默认"),
                TicketId: n.ticketLongNum,
              }),
                ge
                  .getDispatch()
                  .ticketCollectionModel.setCheckedTicketType(e.type);
            },
            Mn = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          x().downloadFile({
                            url: t,
                            success: function (e) {
                              if (200 === e.statusCode) {
                                var t = e.tempFilePath;
                                x().saveImageToPhotosAlbum({
                                  filePath: t,
                                  success: function () {
                                    x().showToast({ title: "已保存到相册" });
                                  },
                                  fail: function (e) {
                                    console.log("downloadNetFile err:", e),
                                      x().showToast({
                                        title: "图片保存失败, 请重试",
                                        icon: "none",
                                      });
                                  },
                                });
                              }
                            },
                          });
                        case 1:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            En = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t, n, r) {
                  var a,
                    i,
                    o,
                    c,
                    s,
                    l,
                    u,
                    d,
                    f,
                    p,
                    h,
                    g,
                    v,
                    T,
                    Z,
                    w,
                    N,
                    b,
                    x,
                    k,
                    y,
                    C,
                    _,
                    I,
                    V,
                    R,
                    D,
                    P,
                    A,
                    B,
                    F,
                    E,
                    X,
                    z;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (a = {
                              KTZ: S.default.isTieyou
                                ? "https://images3.c-ctrip.com/ztrip/train_xie/2022-12/img_ewm_ty_1.png"
                                : "https://images3.c-ctrip.com/ztrip/train_xie/2022-08/img_ewm_1.png",
                              GDC: S.default.isTieyou
                                ? "https://images3.c-ctrip.com/ztrip/train_xie/2022-12/img_ewm_ty_2.png"
                                : "https://images3.c-ctrip.com/ztrip/train_xie/2022-08/img_ewm_2.png",
                            }),
                            (i = t.departure),
                            (o = t.arrival),
                            (c = t.departureTime),
                            (s = t.arrivalTime),
                            (l = t.ticketPrice),
                            (u = t.trainNum),
                            (d = t.carriageNum),
                            (f = t.seatNum),
                            (p = t.seatType),
                            (h = t.passengerName),
                            (g = t.ticketLongNum),
                            (v = t.identificationNum),
                            (T = t.paidTicketCoverInfo),
                            (Z =
                              ge.getState().ticketCollectionModel
                                .shareORCodeImage),
                            (w = ""
                              .concat(M()(c).format("YYYY年M月D日"), " ")
                              .concat(M()(c).format("HH:mm"), " 开")),
                            (N = ""
                              .concat(M()(s).format("M月D日"), " ")
                              .concat(M()(s).format("HH:mm"), " 到")),
                            (b = "".concat(d).concat(f, " ").concat(p)),
                            (x = []),
                            (x = mn.I2),
                            (k =
                              ge.getState().ticketCollectionModel
                                .checkedTicketType),
                            (y =
                              k ||
                              (O.Z.getIsGDCTrain(
                                (null == t ? void 0 : t.trainNum) || ""
                              )
                                ? mn.a8.GDC
                                : mn.a8.KTZ)),
                            (C = "GDC" === y),
                            (_ = n !== mn.a8.OTHER ? n : y),
                            (I = x.find(function (e) {
                              return e.type === _;
                            }).bg),
                            (V = r ? Z : a[_]),
                            (R = S.default.isTieyou
                              ? "https://images3.c-ctrip.com/ztrip/train_xie/2022-05/fx_hz_ty.png"
                              : "https://images3.c-ctrip.com/ztrip/train_bin/22-07/wdpj/img_yz_hcp@3x.png"),
                            (D =
                              null != T && T.firstImg && n === mn.a8.OTHER
                                ? null == T
                                  ? void 0
                                  : T.firstImg
                                : ""),
                            (P =
                              null != T && T.secondImg && n === mn.a8.OTHER
                                ? null == T
                                  ? void 0
                                  : T.secondImg
                                : ""),
                            (A =
                              null != T && T.thirdImg && n === mn.a8.OTHER
                                ? null == T
                                  ? void 0
                                  : T.thirdImg
                                : ""),
                            (B = "".concat(
                              n === mn.a8.OTHER && null != T && T.coverId
                                ? "margin-top: -78px;"
                                : ""
                            )),
                            (F = ""),
                            (E =
                              '\n    .share-paid-ticket {\n      font-family: "SourceHanSansCN-Regular";\n      position: relative;\n      width: 660px;\n      height: 788px;\n    }\n    .share-collection-oldTicket {\n      position: relative;\n      width: 660px;\n      height: 428px;\n      box-sizing: border-box;\n      '.concat(
                                B,
                                '  \n    }\n  \n    .gdc-padding {\n      padding: 24px 42px 0 42px;\n    }\n  \n    .ktz-padding {\n      padding: 36px 50px 0 50px;\n    }\n  \n    .ktz-padding .content .trian-info .from {\n      text-align: left;\n    }\n  \n    .ktz-padding .content .trian-info .to {\n      text-align: right;  \n    }\n  \n    .share-collection-oldTicket .bg {\n      position: absolute;\n      width: 660px;\n      height: 428px;\n      top: 0;\n      left: 0;\n      content: "";\n    }\n  \n    .share-collection-oldTicket .content {\n      width: 100%;\n      height: 100%;\n      position: relative;\n    }\n  \n    .share-collection-oldTicket .content .long-num {\n      color: #ff8673;\n      font-size: 28px;\n      font-family: PingFangSC-Medium;\n      font-weight: 500;\n      margin-bottom: 2px;\n      line-height: 40px;\n    }\n    .share-collection-oldTicket .content .trian-info {\n      justify-content: space-around;\n    }\n  \n    .share-collection-oldTicket .content .trian-info .from, .to {\n      flex: 2;\n      color: #333333;\n      font-size: 44px;\n      font-family: PingFangSC-Semibold;\n      font-weight: 600;\n      text-align: center;\n    }\n\n    .share-collection-oldTicket .content .trian-info .from .city, .to .city {\n      font-family: "SourceHanSansSC-Bold";\n      line-height: 60px;\n    }\n  \n    .share-collection-oldTicket .content .trian-info .from .desc, .to .desc {\n      color: #999999;\n      font-size: 20px;\n      line-height: 28px;\n      font-family: PingFangSC-Regular;\n      font-weight: normal;\n    }\n\n    .ktz-padding .content .trian-info .from .city {\n      text-align: left;\n    }\n\n    .ktz-padding .content .trian-info .from .desc {\n      text-align: left;\n    }\n\n    .ktz-padding .content .trian-info .to .city  {\n      text-align: right;  \n    }\n\n    .ktz-padding .content .trian-info .to .desc {\n      text-align: right;  \n    }\n\n    .ktz-padding .content .trian-info .from .city {\n      text-align: left;\n    }\n  \n    .share-collection-oldTicket .content .trian-info .trian-num {\n      flex: 1;\n      color: #333333;\n      font-size: 32px;\n      font-family: PingFangSC-Regular;\n      font-weight: normal;\n      justify-content: nomal;\n    }\n  \n    .share-collection-oldTicket .content .trian-info .trian-num .arrow {\n      width: 76px;\n      height: 8px;\n    }\n  \n    .share-collection-oldTicket .content .time {\n      color: #666666;\n      font-size: 24px;\n      font-family: PingFangSC-Regular;\n      font-weight: normal;\n      justify-content: space-between;\n      margin-top: 10px;\n      line-height: 34px;\n    }\n  \n    .share-collection-oldTicket .content .detail {\n      justify-content: space-between;\n      color: #666666;\n      font-size: 24px;\n      font-family: PingFangSC-Regular;\n      font-weight: normal;\n      line-height: 34px;\n    }\n  \n    .share-collection-oldTicket .content .detail .price .tit {\n      margin-left: 40px;\n    }\n  \n    .share-collection-oldTicket .content .ident-content {\n      justify-content: space-between;\n      margin-top: 18px;\n    }\n  \n    .share-collection-oldTicket .content .ident-content .left .ident {\n      color: #333333;\n      font-size: 24px;\n      font-family: PingFangSC-Semibold;\n      font-weight: 600;\n      margin-bottom: 4px;\n    }\n  \n    .share-collection-oldTicket .content .ident-content .left .tip-box {\n      color: #999999;\n      font-size: 20px;\n      font-family: PingFangSC-Regular;\n      font-weight: normal;\n      border: 2px dashed #bbbbbb;\n      width: 400px;\n      padding: 8px 0;\n      box-sizing: border-box;\n      height: 72px;\n    }\n\n    .share-collection-oldTicket .content .ident-content .left .tip-box .tip-box-up {\n      margin-bottom: 4px\n    }\n\n    .ktz-padding .content .ident-content .left .tip-box {\n      color: #666666;\n      border: 2px dashed #666666;\n    }\n\n    .share-collection-oldTicket .content .ident-content .right {\n      background: url(https://images3.c-ctrip.com/ztrip/train_xie/2022-06/img_bk1.png);\n      width:114px;\n      height: 114px;\n      background-size: 100%;\n    }\n  \n    .share-collection-oldTicket .content .ident-content .qr-img {\n        width: 114px;\n      height: 114px;\n    }\n  \n    .share-collection-oldTicket .content .seal-img {\n      width: 120px;\n      height: 120px;\n      position: absolute;\n      content: "";\n      right: 38%;\n      top: 43%;\n    }\n  \n    .share-collection-oldTicket .content .bottom-tip {\n      position: absolute;\n      content: "";\n      color: #333333;\n      font-size: 18px;\n      font-family: PingFangSC-Medium;\n      font-weight: 500;\n      bottom: 5%;\n      opacity: 0.3;\n    }\n  \n    .flex {\n      display: flex;\n    }\n  \n    .flex-center {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n  \n    .flex-column {\n      flex-direction: column;\n    }\n\n    .share-paid-ticket .paid-bottom {\n      width: 660px;\n      height: 440px;\n      z-index: -1;\n    }\n\n    .share-paid-ticket .paid-top {\n      width: 660px;\n      height: 440px;\n      z-index: 10;\n      position: absolute;\n      content: "";\n      margin-top: -10px;\n    }\n  \n    .share-paid-ticket .share-collection-oldTicket .paid-left-bottom {\n      position: absolute;\n      content: "";\n      bottom: 0;\n      left: 2px;\n      width: 120px;\n      height: 120px;\n    }\n  '
                              )),
                            (X = '\n    <div class="long-num">'
                              .concat(
                                g,
                                '</div>\n    <div class="trian-info flex">\n      <div class="from flex flex-column">\n        <span class="city">'
                              )
                              .concat(
                                i,
                                '</span>\n        <span class="desc">Chu fa zhan</span>\n      </div>\n      <div class="trian-num flex flex-column flex-center">\n        <span>'
                              )
                              .concat(
                                u,
                                '</span>\n        <img class="arrow" src="https://images3.c-ctrip.com/ztrip/train_xie/2022-06/img_jt.png"></img>\n      </div>\n      <div class="to flex flex-column">\n        <span class="city">'
                              )
                              .concat(
                                o,
                                '</span>\n        <span class="desc">Dao Da zhan</span>\n      </div>\n    </div>\n    <div class="time flex">\n      <div>'
                              )
                              .concat(w, "</div>\n      <div>")
                              .concat(
                                N,
                                '</div>\n    </div>\n    <div class="detail flex">\n      <div class="price">\n        <span>',
                                "￥".concat(l, " 元"),
                                '</span>\n        <span class="tit">网</span>\n      </div>\n      <div>'
                              )
                              .concat(
                                b,
                                '</div>\n    </div>\n    <div class="ident-content flex">\n      <div class="left flex flex-column" style="justify-content: space-around;">\n        <div class="ident">',
                                "".concat(v, " ").concat(h, " "),
                                '</div>\n        <div class="tip-box flex flex-column flex-center">\n          <span class="tip-box-up">扫码查看我的火车票夹</span>\n          <span>',
                                "".concat(
                                  S.default.isTieyou ? "铁友" : "智行",
                                  " 火车票祝您旅途愉快"
                                ),
                                "</span>\n        </div>\n      </div>\n      ",
                                "".concat(
                                  r
                                    ? '\n        <div class="right">\n          <img class="qr-img" src="'.concat(
                                        V,
                                        '" />\n        </div>\n        '
                                      )
                                    : '<img class="qr-img" src="'.concat(
                                        V,
                                        '" />'
                                      )
                                ),
                                '\n    </div>\n    <img class="seal-img" src="'
                              )
                              .concat(R, '" />\n  ')),
                            (F = " <div>\n    <style>\n    ".concat(
                              "".concat(E),
                              '\n    </style>\n    <div class="screenshot-section share-collection-oldTicket ',
                              "".concat(
                                n === mn.a8.GDC ? "gdc-padding" : "ktz-padding"
                              ),
                              ' flex flex-center">\n      <img class="bg" src="',
                              I,
                              '" />\n      <div class="content flex flex-column">\n        ',
                              "".concat(X),
                              "\n        ",
                              "".concat(
                                n === mn.a8.GDC
                                  ? '<View class="bottom-tip">ZX2022ZX2022ZX2022ZX2022</View>'
                                  : ""
                              ),
                              "\n      </div>\n    </div>\n  </div>"
                            )),
                            n === mn.a8.OTHER &&
                              (F = " <div>\n      <style>\n      "
                                .concat(
                                  "".concat(E),
                                  '\n      </style>\n      <div class="screenshot-section share-paid-ticket">\n        ',
                                  D
                                    ? '<img class="paid-top" src="'.concat(
                                        D,
                                        '" />'
                                      )
                                    : "",
                                  '\n        <img class="paid-bottom" src="'
                                )
                                .concat(
                                  P,
                                  '" />\n        <div class="share-collection-oldTicket ',
                                  "".concat(C ? "gdc-padding" : "ktz-padding"),
                                  '  flex flex-center">\n          <img class="bg" src="'
                                )
                                .concat(
                                  I,
                                  '" />\n          <div class="content flex flex-column">\n            ',
                                  "".concat(X),
                                  '\n          </div>\n          <img class="paid-left-bottom" src="'
                                )
                                .concat(
                                  A,
                                  '" />    \n        </div>\n      </div>\n    </div>'
                                )),
                            (e.next = 26),
                            (0, L.TF)({ renderType: 2, html: F, imgType: 1 })
                          );
                        case 26:
                          return (z = e.sent), e.abrupt("return", z.img);
                        case 28:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t, n, r) {
                return e.apply(this, arguments);
              };
            })(),
            Ln = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t, n, r) {
                  var a, i, o, c;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (
                            ((a = r),
                            (i =
                              ge.getState().ticketCollectionModel
                                .userSelectCoverInfo) &&
                              ((n.paidTicketCoverInfo = i), (a = mn.a8.OTHER)),
                            ge.ubtTrace(
                              "TZWBuyOrderDetail_MemoraTicket_ShareWay_click",
                              {
                                PageId: ge.getPage().pageId,
                                orderid: ge.getPage().oid,
                                TicketId: "".concat(n.ticketLongNum),
                                CardType: ""
                                  .concat(mn.ZZ[r])
                                  .concat(i ? i.coverName : "默认"),
                                clickType: t.name,
                              }
                            ),
                            t.type !== oe.WECHAT)
                          ) {
                            e.next = 9;
                            break;
                          }
                          return (e.next = 7), En(n, a, !0);
                        case 7:
                          (o = e.sent),
                            x().downloadFile({
                              url: o,
                              success: function (e) {
                                x().showShareImageMenu({
                                  path: e.tempFilePath,
                                });
                              },
                            });
                        case 9:
                          if (t.type !== oe.SAVE_TO_LOCAL) {
                            e.next = 14;
                            break;
                          }
                          return (e.next = 12), En(n, a, !1);
                        case 12:
                          (c = e.sent), Mn(c);
                        case 14:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t, n, r) {
                return e.apply(this, arguments);
              };
            })(),
            Xn = function (e) {
              var t = ge.getState().ticketCollectionModel.ticketsInfo,
                n = 0;
              t.map(function (r, a) {
                r.ticketLongNum === e.ticketLongNum &&
                  r.passengerName === e.passengerName &&
                  ((n = a), a < t.length - 1 ? (n += 1) : (n = 0));
              });
              var r = ge.getState().ticketCollectionModel.checkedTicketType;
              if (r !== mn.a8.GDC && r !== mn.a8.KTZ) {
                var a,
                  i = O.Z.getIsGDCTrain(
                    (null === (a = t[0]) || void 0 === a
                      ? void 0
                      : a.trainNum) || ""
                  )
                    ? mn.a8.GDC
                    : mn.a8.KTZ;
                ge.getDispatch().ticketCollectionModel.setCheckedTicketType(i);
              }
              ge.getDispatch().ticketCollectionModel.setShareTicket(t[n]);
            },
            zn = function (e) {
              var t = ge.getState().ticketCollectionModel.ticketsInfo,
                n = 0;
              t.map(function (r, a) {
                r.ticketLongNum === e.ticketLongNum &&
                  r.passengerName === e.passengerName &&
                  ((n = a), a < t.length - 1 ? (n += 1) : (n = 0));
              }),
                ge.getDispatch().ticketCollectionModel.setAddTicket(t[n]);
            },
            Un = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, a, i, o;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (
                            ((0, A.showLoading)(),
                            (n =
                              ge.getState().ticketCollectionModel.ticketsInfo)
                              .length)
                          ) {
                            e.next = 5;
                            break;
                          }
                          return (0, A.hideLoading)(), e.abrupt("return");
                        case 5:
                          return (e.next = 7), _n();
                        case 7:
                          return (
                            (a = e.sent),
                            (n = In(a, n)),
                            (i = n[0] || {}),
                            ge
                              .getDispatch()
                              .ticketCollectionModel.setShareTicket(i),
                            (o = O.Z.getIsGDCTrain(
                              (null == i ? void 0 : i.trainNum) || ""
                            )
                              ? mn.a8.GDC
                              : mn.a8.KTZ),
                            (0, A.hideLoading)(),
                            (e.next = 15),
                            Yn({
                              toast: {
                                toastCode: r.ticketCollectionShareModal,
                                data: {
                                  isShowChangePas: n.length > 1,
                                  tempKey: o,
                                  onCheckTicketTemplate: Fn,
                                  onShareAction: Ln,
                                  ShareActionArray: ue,
                                  onChangePasInfo: Xn,
                                  clickUbtKey:
                                    "TZWBuyOrderDetail_MemoraTicket_exposure",
                                  PopupType: t,
                                },
                              },
                            })
                          );
                        case 15:
                          ge.getDispatch().ticketCollectionModel.setCheckedTicketType(
                            ""
                          );
                        case 16:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            jn = function (e) {
              (0, U.HU)({
                userName: e,
                password: "",
                passengers: [],
                assignees: [],
                cacheCount: 1,
                type: 1,
              });
            },
            Gn = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r, a, i, o, c, s, l;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (n = t.data),
                            (e.next = 3),
                            Promise.all([(0, De.tp)(), (0, De.Qw)()])
                          );
                        case 3:
                          if (
                            ((r = e.sent),
                            (a = (0, Ce.Z)(r, 2)),
                            (i = a[0]),
                            (o = a[1]),
                            (c =
                              null == i
                                ? void 0
                                : i.map(function (e) {
                                    return null == e ? void 0 : e.name;
                                  })),
                            (s = o
                              .filter(function (e) {
                                return (
                                  1 ==
                                    (null == e ? void 0 : e.passengerStatus) &&
                                  !c.includes(
                                    (null == e ? void 0 : e.name) || ""
                                  )
                                );
                              })
                              .map(function (e) {
                                return {
                                  passengerName: null == e ? void 0 : e.name,
                                  passengerType: null == e ? void 0 : e.type,
                                  iDNo: null == e ? void 0 : e.id_no,
                                  email: (null == e ? void 0 : e.email) || "",
                                  mobileNo:
                                    (null == e ? void 0 : e.mobile) || "",
                                  iDType: null == e ? void 0 : e.id_type,
                                  mobileCode:
                                    (null == e ? void 0 : e.mobile) || "",
                                  encNo: (null == e ? void 0 : e.enc_no) || "",
                                };
                              })),
                            (null == i ? void 0 : i.length) < 8 &&
                              (null == s ? void 0 : s.length) > 0)
                          ) {
                            e.next = 12;
                            break;
                          }
                          return e.abrupt("return");
                        case 12:
                          return (
                            (l = ge.getState().my12306Model.userName12306),
                            ge.ubtTrace(
                              "TZWBuyOrderDetail_AssigneePop_exposure",
                              {
                                PageId: ge.getPage().pageId,
                                OrderNumber: ge.getPage().oid,
                              }
                            ),
                            e.abrupt(
                              "return",
                              ge.commonDrawerAlert({
                                title: n.title,
                                content:
                                  n.content || "是否将常用乘车人添加到受让人",
                                buttonName:
                                  n.buttonText ||
                                  "添加受让人成功后可用积分免费兑换车票。一个账号可添加8个受让人",
                                onButtonClick: (function () {
                                  var e = (0, p.Z)(
                                    (0, m.Z)().mark(function e() {
                                      var t, n, r;
                                      return (0, m.Z)().wrap(function (e) {
                                        for (;;)
                                          switch ((e.prev = e.next)) {
                                            case 0:
                                              return (
                                                ge.ubtTrace(
                                                  "TZWBuyOrderDetail_AssigneePop_Add_click",
                                                  {
                                                    PageId: ge.getPage().pageId,
                                                    OrderNumber:
                                                      ge.getPage().oid,
                                                  }
                                                ),
                                                (e.next = 3),
                                                (0, U.HU)({
                                                  userName: l,
                                                  password: "",
                                                  passengers: s,
                                                  assignees: i,
                                                  cacheCount: 1,
                                                  type: 1,
                                                  source: "",
                                                  pollingKey: "",
                                                })
                                              );
                                            case 3:
                                              (t = e.sent),
                                                (n = t.resultCode),
                                                (r = t.resultMessage),
                                                1 === n
                                                  ? ge.showCommonDialog(
                                                      r || "申请成功"
                                                    )
                                                  : ge.showCommonDialog(
                                                      r || "添加失败～"
                                                    );
                                            case 7:
                                            case "end":
                                              return e.stop();
                                          }
                                      }, e);
                                    })
                                  );
                                  return function () {
                                    return e.apply(this, arguments);
                                  };
                                })(),
                                onBreak: function () {
                                  jn(l);
                                },
                              })
                            )
                          );
                        case 15:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            Hn = ["onConfirm", "onCancel"],
            Wn = ["isNotUILess"],
            Jn = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t, n) {
                  var r, a, i, o, c, s, l;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (
                            ((a = null == t ? void 0 : t.orderStatus),
                            (i = ge.getPage().oid),
                            (o =
                              (null == n || null === (r = n[1]) || void 0 === r
                                ? void 0
                                : r.orderFlagInfo) || {}),
                            (c = o.orderInterceptFlag),
                            (s = o.buyOrRescheduleInterceptFlag),
                            1 !== c ||
                              300 === a.code ||
                              204 === a.code ||
                              501 === a.code)
                          ) {
                            e.next = 7;
                            break;
                          }
                          return (
                            (l = 1 == s ? "reschedule" : "booking"),
                            ge.redirectTo({
                              url: "/pages/12306/dark/index?interceptScene="
                                .concat(l, "&oid=")
                                .concat(i),
                            }),
                            e.abrupt("return", !0)
                          );
                        case 7:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t, n) {
                return e.apply(this, arguments);
              };
            })(),
            Kn = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e() {
                  var t, n, r, a, i;
                  return (0, m.Z)().wrap(
                    function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            return (
                              ge.getPage().freezePullDown(),
                              (e.prev = 1),
                              (0, A.showLoading)(),
                              ge.getDispatch().my12306Model.refresh(),
                              (e.next = 6),
                              Jt()
                            );
                          case 6:
                            if (
                              ((n = e.sent),
                              (0, A.hideLoading)(),
                              x().stopPullDownRefresh(),
                              n)
                            ) {
                              e.next = 12;
                              break;
                            }
                            throw (
                              (ge.showCommonDialog(
                                "获取订单详情失败，请稍候重试~"
                              ),
                              "获取订单详情失败，请稍候重试~")
                            );
                          case 12:
                            if (
                              (ge.getPage().setState({ initDataSuccess: !0 }),
                              Kt(n),
                              cn(),
                              Sn(),
                              ve(),
                              nr(),
                              null === (t = ge.getState().orderModel) ||
                              void 0 === t
                                ? void 0
                                : t.isSelfTicket)
                            ) {
                              e.next = 32;
                              break;
                            }
                            return (e.next = 22), Ee();
                          case 22:
                            return (r = e.sent), (e.next = 25), Jn(n, r);
                          case 25:
                            if (!e.sent) {
                              e.next = 28;
                              break;
                            }
                            throw "leave";
                          case 28:
                            return (e.next = 30), Le(r);
                          case 30:
                            return (e.next = 32), He();
                          case 32:
                            return (e.next = 34), Zn();
                          case 34:
                            return (a = e.sent), (e.next = 37), wn(a);
                          case 37:
                            return (e.next = 39), be();
                          case 39:
                            (i = e.sent), xe(i), (e.next = 48);
                            break;
                          case 43:
                            (e.prev = 43),
                              (e.t0 = e.catch(1)),
                              (0, A.hideLoading)(),
                              console.log(e.t0),
                              B.Z.commonDebugTrace(
                                "init page err: ".concat(e.t0)
                              );
                          case 48:
                            ge.getPage().unfreezePullDown();
                          case 49:
                          case "end":
                            return e.stop();
                        }
                    },
                    e,
                    null,
                    [[1, 43]]
                  );
                })
              );
              return function () {
                return e.apply(this, arguments);
              };
            })(),
            qn = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (
                            (null == t ? void 0 : t.toastCode) !==
                            r.AssigneeInfoToast
                          ) {
                            e.next = 2;
                            break;
                          }
                          return e.abrupt("return", Gn({ data: t._jsonInfo }));
                        case 2:
                          return e.abrupt("return", { isNotUILess: !0 });
                        case 3:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            Yn = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r, a, i, o, c, s;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (r = (n =
                              "string" == typeof t
                                ? { toast: { toastCode: t } }
                                : t).onConfirm),
                            (a = n.onCancel),
                            (i = (0, D.Z)(n, Hn)),
                            (e.next = 3),
                            qn(i.toast)
                          );
                        case 3:
                          if (((e.t0 = e.sent), e.t0)) {
                            e.next = 6;
                            break;
                          }
                          e.t0 = {};
                        case 6:
                          if (
                            ((o = e.t0),
                            (c = o.isNotUILess),
                            (s = (0, D.Z)(o, Wn)),
                            c)
                          ) {
                            e.next = 11;
                            break;
                          }
                          return e.abrupt(
                            "return",
                            Promise.resolve({ code: 1, data: [s] })
                          );
                        case 11:
                          return e.abrupt(
                            "return",
                            new Promise(function (e) {
                              var t;
                              null === (t = ge.getPage().$CommonToast) ||
                                void 0 === t ||
                                t.showToast(
                                  (0, R.Z)(
                                    (0, R.Z)({}, i),
                                    {},
                                    {
                                      onConfirm: function () {
                                        for (
                                          var t = arguments.length,
                                            n = new Array(t),
                                            a = 0;
                                          a < t;
                                          a++
                                        )
                                          n[a] = arguments[a];
                                        null == r || r.apply(void 0, n),
                                          e({ code: 1, data: n });
                                      },
                                      onCancel: function () {
                                        for (
                                          var t = arguments.length,
                                            n = new Array(t),
                                            r = 0;
                                          r < t;
                                          r++
                                        )
                                          n[r] = arguments[r];
                                        null == a || a.apply(void 0, n),
                                          e({ code: 0, data: n });
                                      },
                                    }
                                  )
                                );
                            })
                          );
                        case 12:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            Qn = function () {
              var e, t;
              null === (e = ge.getPage().$CommonToast) ||
                void 0 === e ||
                null === (t = e.closeToast) ||
                void 0 === t ||
                t.call(e);
            },
            $n = function () {
              var e,
                t,
                n = ge.getState().accountHelperModel,
                r = n.failCode,
                a =
                  null === (e = n.targetTicketInfo) || void 0 === e
                    ? void 0
                    : e.order,
                i = a.fromStation,
                o = a.toStation,
                c = a.trainNo,
                s = a.toDate,
                l = M()(s).format("MM-DD"),
                u =
                  null === (t = n.targetTicketInfo) || void 0 === t
                    ? void 0
                    : t.ticket,
                d = u.passengerName,
                f = u.passportType,
                m = u.mobile,
                p = u.idMark,
                h = u.electronicLongNum,
                g = void 0 === h ? "" : h,
                v = S.default.isTieyou
                  ? "https://images3.c-ctrip.com/ztrip/train.song/xcx/img_qrbr_ty@2x.png"
                  : "https://images3.c-ctrip.com/ztrip/train.song/xcx/img_qrbr@2x.png";
              return {
                bu: "train",
                title: "您的好友邀请您确认本人信息",
                path: "/pages/train/refund/index?oid="
                  .concat(ge.getPage().oid, "&loid=")
                  .concat(encodeURIComponent(g), "&fromStation=")
                  .concat(encodeURIComponent(i), "&toStation=")
                  .concat(encodeURIComponent(o), "&trainNo=")
                  .concat(encodeURIComponent(c), "&departDate=")
                  .concat(encodeURIComponent(l), "&pasName=")
                  .concat(encodeURIComponent(d), "&passportCode=")
                  .concat(encodeURIComponent(p), "&mobile=")
                  .concat(encodeURIComponent(m), "&passportType=")
                  .concat(encodeURIComponent(f), "&failCode=")
                  .concat(encodeURIComponent(r)),
                imageUrl: v,
              };
            },
            er = function () {
              var e,
                t,
                n,
                r = ge.getState().accountHelperModel,
                a = Number(r.isSelfResign),
                i = r.failCode,
                o =
                  (null === (e = r.originalErrorInfo) || void 0 === e
                    ? void 0
                    : e.currentOrderAccountInfo) || {},
                c =
                  null === (t = r.targetTicketInfo) || void 0 === t
                    ? void 0
                    : t.order,
                s = c.fromStation,
                l = c.toStation,
                u = c.trainNo,
                d = c.toDate,
                f = M()(d).format("MM-DD"),
                m =
                  null === (n = r.targetTicketInfo) || void 0 === n
                    ? void 0
                    : n.ticket,
                p = m.passengerName,
                h = m.passportType,
                g = m.mobile,
                v = m.idMark,
                T = m.electronicLongNum,
                Z = void 0 === T ? "" : T,
                w = S.default.isTieyou
                  ? "https://images3.c-ctrip.com/ztrip/train_xie/2022-06/img_gq_ty2.png"
                  : "https://images3.c-ctrip.com/ztrip/train_xie/2022-06/img_gq_zx2.png";
              return {
                bu: "train",
                title: "您的好友邀请您确认本人信息",
                path: "/pages/train/refund/index?oid="
                  .concat(ge.getPage().oid, "&loid=")
                  .concat(encodeURIComponent(Z), "&fromStation=")
                  .concat(encodeURIComponent(s), "&toStation=")
                  .concat(encodeURIComponent(l), "&trainNo=")
                  .concat(encodeURIComponent(u), "&departDate=")
                  .concat(encodeURIComponent(f), "&pasName=")
                  .concat(encodeURIComponent(p), "&passportCode=")
                  .concat(encodeURIComponent(v), "&mobile=")
                  .concat(encodeURIComponent(g), "&passportType=")
                  .concat(encodeURIComponent(h), "&failCode=")
                  .concat(encodeURIComponent(i), "&isSelfResign=")
                  .concat(1 * a, "&isReschedule=1&accountUserRealName=")
                  .concat(
                    encodeURIComponent(
                      null == o ? void 0 : o.accountPassportName
                    ),
                    "&accountMobile="
                  )
                  .concat(
                    encodeURIComponent(null == o ? void 0 : o.accountMobile),
                    "&accountPassportType="
                  )
                  .concat(
                    encodeURIComponent(
                      null == o ? void 0 : o.accountPassportType
                    ),
                    "&accountPassportNumber="
                  )
                  .concat(
                    encodeURIComponent(
                      null == o ? void 0 : o.accountPassportNumber
                    ),
                    "&account12306Name="
                  )
                  .concat(null == o ? void 0 : o._account12306Name),
                imageUrl: w,
              };
            },
            tr = function (e) {
              var t = "",
                n = "",
                r = "",
                a = {};
              if ("reverse" == e) {
                var i = ge
                  .getState()
                  .orderModel.orderTicketList.find(function (e) {
                    return !e._isUselessOrder;
                  });
                (t = i.toStation),
                  (n = i.fromStation),
                  (r = i.fromDate),
                  ge.ubtTrace("c_trn_z_10650060639", {
                    bizKey: "z_mini_ordDetail_getBack_click",
                  });
              } else {
                var o =
                  ge.getState().orderModel.orderTicketList.find(function (e) {
                    return !e._rescheduleFlag;
                  }) || ge.getState().orderModel.orderTicketList[0];
                (t = o.fromStation), (n = o.toStation), (r = o.fromDate);
              }
              P.Z.isAfter(P.Z.getToday(), r, "day") && (r = P.Z.getTomorrow()),
                (a.url = ""
                  .concat("/pages/train/list/list", "?dstation=")
                  .concat(t, "&astation=")
                  .concat(n, "&date=")
                  .concat(r, "&fromPage=")
                  .concat(
                    "reverse" == e ? "order_backTrip" : "order_buyAgain"
                  )),
                ge.navigateTo(a);
            },
            nr = function () {
              if (S.default.isWechat) {
                var e = S.default.isTieyou ? "ty" : "zx",
                  t = re[e];
                O.Z.getSubscribe(t).then(function (e) {
                  e &&
                    e.mainSwitch &&
                    ge.getDispatch().orderModel.setShouldSubscribeMsg(!0);
                });
              }
            },
            rr = (function () {
              var e = (0, p.Z)(
                (0, m.Z)().mark(function e(t) {
                  var n, r;
                  return (0, m.Z)().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (ge.getState().orderModel.shouldSubscribeMsg) {
                            e.next = 3;
                            break;
                          }
                          return e.abrupt("return");
                        case 3:
                          return (
                            ge.ubtTrace(
                              "TZWBuyOrderDetail_SubscribePop_exposure",
                              { PageId: ge.getPage().pageId, Type: t || "" }
                            ),
                            (n = S.default.isTieyou ? "ty" : "zx"),
                            (r = re[n]),
                            (e.next = 8),
                            O.Z.setSubscribe(r, !1)
                              .then(function (e) {
                                e &&
                                  ge.ubtTrace(
                                    "TZWBuyOrderDetail_SubscribePop_Choose_click",
                                    {
                                      PageId: ge.getPage().pageId,
                                      Type: t || "",
                                    }
                                  );
                              })
                              .catch(function () {})
                          );
                        case 8:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              );
              return function (t) {
                return e.apply(this, arguments);
              };
            })(),
            ar = function (e) {
              return Yn({
                toast: {
                  toastCode: r.commonTipDrawer,
                  data: {
                    title: e.title || "温馨提示",
                    content: e.content,
                    buttons: [
                      { name: "取消", type: 1 },
                      { name: "确认", type: 2 },
                    ],
                  },
                },
              });
            },
            ir = function (e) {
              ge.navigateTo({
                url: "/pages/trainDetail/insuranceOrderDetail/insuranceOrderDetail?oid="
                  .concat(ge.getPage().oid, "&productId=")
                  .concat(e),
              });
            },
            or = function () {
              var e;
              return null === (e = ge.getPage().$CommonToast) || void 0 === e
                ? void 0
                : e.isShow();
            },
            cr = function (e) {
              e && O.Z.commonNavigator(e);
            },
            sr = function (e) {
              1 === e
                ? tr("")
                : 2 === e &&
                  (function () {
                    var e,
                      t = ge.getState().orderModel,
                      n =
                        (null === (e = t.rescheduleOrders) || void 0 === e
                          ? void 0
                          : e[0]) || t.orginalOrder;
                    if (O.Z.isNotEmptyObj(n)) {
                      var r = n.fromStation,
                        a = n.toStation,
                        i = n.fromDate,
                        o = n.trainNo;
                      r && a && i && o
                        ? nn({
                            DepartStation: r,
                            ArriveStation: a,
                            DepartDate: i,
                            trainNo: o,
                          })
                        : (0, A.showToast)("去抢票失败");
                    } else (0, A.showToast)("去抢票失败");
                  })();
            },
            lr = function (e) {
              var t, n;
              if (e) {
                var r = e.electronicLongNum,
                  a = void 0 === r ? "" : r,
                  i = e.passengerName,
                  o = void 0 === i ? "" : i,
                  c =
                    null === (t = ge.getState().orderModel) ||
                    void 0 === t ||
                    null === (n = t.orderInfo) ||
                    void 0 === n
                      ? void 0
                      : n.userName;
                (c = E.Z.tripleDESDecrypt(c)),
                  ge.navigateTo({
                    url: "/pages/trainDetail/ticketQrcode/ticketQrcode?eTicketNo="
                      .concat(a, "&pasName=")
                      .concat(o, "&accountName=")
                      .concat(c),
                  });
              }
            },
            ur = (0, _.$j)(function (e) {
              return { orderStatus: e.orderModel.orderStatusInfo };
            })(function () {
              var e,
                t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                n = t.orderStatus;
              return n
                ? (0, tt.BX)(I.View, {
                    className: "train-orderStatus-view flex flex-center",
                    children: [
                      (0, tt.tZ)(I.Image, {
                        className: "icon",
                        src: n.iconV1 || n.icon,
                        mode: "aspectFit",
                      }),
                      (0, tt.BX)(I.View, {
                        className: "right flex-1",
                        children: [
                          (0, tt.tZ)(I.View, {
                            className: "title",
                            children: n.name,
                          }),
                          (0, tt.BX)(I.View, {
                            className: "desc",
                            children: [
                              (0, tt.tZ)(I.View, {
                                className: "desc-item",
                                children: n.desc,
                              }),
                              !!n.extButtonInfo &&
                                (0, tt.BX)(I.Block, {
                                  children: [
                                    (0, tt.tZ)(I.View, {
                                      className: "desc-item",
                                      children: "  查看",
                                    }),
                                    (0, tt.tZ)(I.View, {
                                      className: "desc-item desc-link",
                                      onClick: function () {
                                        return cr(n.extButtonInfo.btnJumpUrl);
                                      },
                                      children: "".concat(
                                        null === (e = n.extButtonInfo) ||
                                          void 0 === e
                                          ? void 0
                                          : e.btnName
                                      ),
                                    }),
                                  ],
                                }),
                            ],
                          }),
                        ],
                      }),
                      !!n.jumpButtonInfo &&
                        !!n.jumpButtonInfo.buttonType &&
                        (0, tt.tZ)(I.View, {
                          className: "jump-btn flex flex-center",
                          onClick: function () {
                            return sr(n.jumpButtonInfo.buttonType);
                          },
                          children: n.jumpButtonInfo.buttonName,
                        }),
                    ],
                  })
                : null;
            }),
            dr = ["Area", "readFrom", "codeName", "noAreaCanShow"];
          !(function (e) {
            (e.toast = "toast"),
              (e.notice = "notice"),
              (e.extra = "extra"),
              (e.area = "area");
          })(gt || (gt = {}));
          var fr,
            mr,
            pr = function (e, t, n) {
              var r = e.toasts,
                a = e.notices,
                i = e.extras,
                o = e.areas;
              if ("toast" === n) {
                var c =
                  null == r
                    ? void 0
                    : r.find(function (e) {
                        return e.toastCode === t;
                      });
                return Ve.ZP.parseOctopusToast(c);
              }
              if ("notice" === n) {
                var s =
                  null == a
                    ? void 0
                    : a.find(function (e) {
                        return e.noticeCode === t;
                      });
                return Ve.ZP.parseOctopusNotice(s);
              }
              if ("extra" === n) {
                var l =
                  null == i
                    ? void 0
                    : i.find(function (e) {
                        return e.extraCode === t;
                      });
                return { _jsonInfo: null == l ? void 0 : l.data };
              }
              var u =
                null == o
                  ? void 0
                  : o.find(function (e) {
                      return e.areaCode === t;
                    });
              return Ve.ZP.parseOctopusAreaV2(u);
            },
            hr = (0, _.$j)(function (e) {
              return e.octopusModel;
            })(function (e) {
              var t,
                n = e.Area,
                r = e.readFrom,
                a = void 0 === r ? gt.area : r,
                i = e.codeName,
                o = void 0 === i ? "" : i,
                c = e.noAreaCanShow,
                s = void 0 !== c && c,
                l = (0, D.Z)(e, dr),
                u =
                  null === (t = pr(l, o, a)) || void 0 === t
                    ? void 0
                    : t._jsonInfo;
              return u || s ? n(u) : null;
            }),
            gr = n(34229),
            vr = function (e) {
              var t = e.smartRescheduleSwitchInfo;
              if (
                (console.log("smartRescheduleSwitch--", t),
                !t || ne.indexOf(null == t ? void 0 : t.rescheduleType) < 0)
              )
                return (0, tt.tZ)(tt.HY, {});
              ge.ubtTrace(202683, { series: t.series });
              return (0, tt.tZ)(I.View, {
                className: "smart-reschedule-switch ".concat(
                  S.default.zxTyStr,
                  " "
                ),
                children: (0, tt.BX)(I.View, {
                  className: "smart-reschedule-switch-folding flex flex-center",
                  children: [
                    (0, tt.tZ)(I.View, {
                      className: "flex-1 flex",
                      children: (0, tt.tZ)(gr.ZtRichText, {
                        className: "",
                        nodes: t.title || "换到舒适座席",
                      }),
                    }),
                    (0, tt.BX)(I.View, {
                      className: "info flex-align-items-center",
                      id: "AJFT",
                      onClick: function () {
                        Yn({
                          toast: {
                            toastCode: r.smartServicePayToast,
                            _jsonInfo: t.smartReschedulePay,
                          },
                        });
                      },
                      children: [
                        (0, tt.tZ)(I.View, {
                          className: "txt",
                          children: "查看",
                        }),
                        (0, tt.tZ)(I.Image, {
                          className: "icon-down",
                          src: "https://images3.c-ctrip.com/ztrip/train_zhu/icon_jiantou_blue.png",
                        }),
                      ],
                    }),
                  ],
                }),
              });
            },
            Tr = function (e) {
              var t = e.recommendOriginalTicketInfo,
                n = void 0 === t ? {} : t;
              if (!n) return null;
              var r = n.icon,
                a = n.desc;
              return r || a
                ? (0, tt.BX)(I.View, {
                    className: "train-orderDetail-st-tag flex",
                    children: [
                      (0, tt.tZ)(I.Image, {
                        src: r,
                        mode: "aspectFit",
                        className: "logo",
                      }),
                      (0, tt.tZ)(I.View, { className: "split-line" }),
                      (0, tt.tZ)(I.Text, { className: "desc", children: a }),
                    ],
                  })
                : null;
            },
            Zr = function () {
              var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = e.className,
                n = void 0 === t ? "" : t,
                r = e.foldTitleView,
                a = void 0 === r ? "标题" : r,
                i = e.foldRightView,
                o = void 0 === i ? function () {} : i,
                c = e.foldContentView,
                s = void 0 === c ? function () {} : c,
                l = e.isShowArrIcon,
                u = void 0 === l || l,
                d = e.foldOnce,
                f = void 0 !== d && d,
                m = e.defaultFold,
                p = void 0 === m || m,
                h = e.fold,
                g = void 0 === h ? p : h,
                v = (0, w.useState)(p),
                T = (0, Ce.Z)(v, 2),
                Z = T[0],
                N = T[1],
                b = function (e, t) {
                  return "function" == typeof e
                    ? null == e
                      ? void 0
                      : e(t)
                    : e;
                },
                x = !(f && !Z);
              return (
                (0, w.useEffect)(
                  function () {
                    N(g);
                  },
                  [g]
                ),
                (0, tt.BX)(I.View, {
                  className: "common-fold-view ".concat(n),
                  children: [
                    (0, tt.BX)(I.View, {
                      className: "fold-banner flex flex-center",
                      id: "AJFx",
                      onClick: x && N.bind(void 0, !Z),
                      children: [
                        (0, tt.tZ)(I.View, {
                          className: "wrap-title flex-1",
                          children: b(a),
                        }),
                        (0, tt.BX)(I.View, {
                          className: "right flex flex-center",
                          children: [
                            b(o, Z),
                            b(u, Z) &&
                              x &&
                              (0, tt.tZ)(I.Text, {
                                className: "iconfont2 arr ".concat(
                                  Z
                                    ? "ifont2-zhankai_linea_12"
                                    : "ifont2-shouqi_linea_12"
                                ),
                              }),
                          ],
                        }),
                      ],
                    }),
                    !Z &&
                      (0, tt.tZ)(I.View, {
                        className: "fold-content",
                        children: b(s),
                      }),
                  ],
                })
              );
            },
            wr = function (e) {
              var t = e.className,
                n = void 0 === t ? "" : t,
                r = e.foldTitleView,
                a = void 0 === r ? "标题" : r,
                i = e.foldRightView,
                o = void 0 === i ? function () {} : i,
                c = e.foldContentView,
                s = void 0 === c ? function () {} : c,
                l = e.removeFolder,
                u = void 0 !== l && l,
                d = e.isShowArrIcon,
                f = e.defaultFold;
              return u
                ? (function (e, t) {
                    return "function" == typeof e
                      ? null == e
                        ? void 0
                        : e(t)
                      : e;
                  })(s)
                : (0, tt.tZ)(Zr, {
                    className: "".concat(
                      n,
                      " white-padding-wrap trainOrder-box-view"
                    ),
                    foldTitleView: a,
                    foldRightView: o,
                    foldContentView: s,
                    isShowArrIcon: d,
                    defaultFold: f,
                  });
            },
            Nr = function () {
              var e,
                t,
                n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                r = n.ticket,
                a = n.onReschedule,
                i = n.onRefund,
                o = n.defaultFold,
                c = n.onFreeDelete,
                s = n.onFreeRetry,
                l = n.onTicketQrCode,
                u = !!r.freePassenger,
                d =
                  3 ===
                  (null === (e = r.freePassenger) || void 0 === e
                    ? void 0
                    : e.declareStatus),
                f =
                  4 ===
                  (null === (t = r.freePassenger) || void 0 === t
                    ? void 0
                    : t.declareStatus);
              return (0, tt.tZ)(Zr, {
                className: "trainorder-ticket-item ".concat(u ? "p-btm-4" : ""),
                foldOnce: !0,
                fold: o,
                isShowArrIcon: function (e) {
                  return e;
                },
                foldTitleView: function () {
                  return (0, tt.BX)(I.View, {
                    className: "pas-info flex can-gray",
                    children: [
                      (0, tt.tZ)(I.View, {
                        className: "pas-name border-font",
                        children: r.passengerName,
                      }),
                      (0, tt.tZ)(I.View, {
                        className: "id-type",
                        children: r.passportType,
                      }),
                      "成人票" !== r.passengerType &&
                        (0, tt.tZ)(I.View, {
                          className: "id-type",
                          children: r.passengerType,
                        }),
                    ],
                  });
                },
                foldRightView: function (e) {
                  return e
                    ? (0, tt.tZ)(I.View, {
                        className: "ticket-status",
                        children: r.orderStatus,
                      })
                    : (0, tt.BX)(I.View, {
                        className: "seat-info flex",
                        children: [
                          (0, tt.BX)(I.View, {
                            className: "seat can-gray",
                            children: [r.seatType, " ¥", r.ticketPrice],
                          }),
                          r.seatTag &&
                            (0, tt.tZ)(I.View, {
                              className: "seat-tag",
                              children: r.seatTag,
                            }),
                          (0, tt.tZ)(I.View, {
                            className: "room border-font can-gray",
                            children: r.seatNo,
                          }),
                        ],
                      });
                },
                foldContentView: function () {
                  var e;
                  return (0, tt.BX)(I.Block, {
                    children: [
                      (0, tt.BX)(I.View, {
                        className: "flex bottom flex-center",
                        children: [
                          (0, tt.tZ)(I.View, {
                            className: "ticket-status",
                            children: r.orderStatus,
                          }),
                          (0, tt.BX)(I.View, {
                            className: "handle flex-1 flex can-gray",
                            children: [
                              !!r.ticketQrCodeFlag &&
                                (0, tt.tZ)(I.View, {
                                  className: "btn",
                                  onClick: l,
                                  children: "电子乘车码",
                                }),
                              !!r.returnFlag &&
                                (0, tt.tZ)(I.View, {
                                  className: "btn ".concat(
                                    r.reBtnColorType ? "" : "disabled"
                                  ),
                                  id: "AJGJ",
                                  onClick: i,
                                  children:
                                    3 === r.returnFlag ? "退票进度" : "退票",
                                }),
                              !!r.reScheduleFlag &&
                                (0, tt.tZ)(I.View, {
                                  className: "btn ".concat(
                                    r.reScheduleBtnColorType ? "" : "disabled"
                                  ),
                                  id: "AJGK",
                                  onClick: a,
                                  children: "改签",
                                }),
                            ],
                          }),
                        ],
                      }),
                      u &&
                        (0, tt.BX)(I.View, {
                          className: "free-ticket flex flex-center",
                          children: [
                            (0, tt.BX)(I.View, {
                              className: "flex-1 info flex flex-center",
                              style: { justifyContent: "flex-start" },
                              children: [
                                (0, tt.tZ)(I.View, {
                                  className: "name",
                                  children: r.freePassenger.passportName,
                                }),
                                (0, tt.tZ)(I.View, {
                                  className: "free-tag",
                                  children: r.freePassenger.passportType,
                                }),
                                (0, tt.tZ)(I.View, {
                                  className: "free-tag",
                                  children: "免费儿童票",
                                }),
                              ],
                            }),
                            (0, tt.tZ)(I.View, {
                              className: "free-handle flex flex-center",
                              children: (0, tt.BX)(I.Block, {
                                children: [
                                  (0, tt.tZ)(I.View, {
                                    className: "status",
                                    children: f ? "申报失败" : "无座",
                                  }),
                                  (0, tt.tZ)(I.View, { className: "dash" }),
                                  d
                                    ? (0, tt.tZ)(I.Text, {
                                        className:
                                          "del-btn iconfont2 ifont2-shanchu_linea_20",
                                        id: "AJGL",
                                        onClick: c,
                                      })
                                    : f
                                    ? (0, tt.tZ)(I.Text, {
                                        className: "free-retry",
                                        id: "AJGM",
                                        onClick: s,
                                        children: "重新申报",
                                      })
                                    : (0, tt.tZ)(I.Text, {
                                        className: "free-retry",
                                        children:
                                          ce[
                                            null === (e = r.freePassenger) ||
                                            void 0 === e
                                              ? void 0
                                              : e.declareStatus
                                          ],
                                      }),
                                ],
                              }),
                            }),
                          ],
                        }),
                    ],
                  });
                },
              });
            },
            br = n(30301),
            xr = function () {
              var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = e.style,
                n = void 0 === t ? {} : t,
                r = e.dateStr,
                a = void 0 === r ? "" : r,
                i = e.timeStr,
                o = void 0 === i ? "" : i,
                c = e.stationStr,
                s = void 0 === c ? "" : c,
                l = e.onStationClick,
                u = void 0 === l ? function () {} : l,
                d = e.tip,
                f = void 0 === d ? "" : d,
                m = e.reverse,
                p = void 0 !== m && m;
              return (0, tt.BX)(I.View, {
                className: "station-view flex flex-column",
                style: n,
                children: [
                  (0, tt.tZ)(I.View, { className: "date", children: a }),
                  (0, tt.tZ)(I.View, { className: "time", children: o }),
                  (0, tt.BX)(I.View, {
                    className: "station flex",
                    style: { flexDirection: p ? "row-reverse" : "row" },
                    children: [
                      s,
                      (0, tt.tZ)(I.Text, {
                        className: "ifont2-dingwei_planar_12 iconfont2 info",
                        id: "AJGI",
                        onClick: u,
                      }),
                    ],
                  }),
                  f &&
                    (0, tt.BX)(I.View, {
                      className: "cross-info ".concat(p ? "to" : "from"),
                      children: [
                        (0, tt.tZ)(I.View, { className: "arr" }),
                        (0, tt.tZ)(br.Z, {
                          message: f,
                          animationName: "crossTripInfoMarquee",
                          className: "con",
                          id: "cross-tip-".concat(p ? "to" : "from"),
                        }),
                      ],
                    }),
                ],
              });
            },
            kr = w.default.memo(function (e) {
              var t = e.tips,
                n = void 0 === t ? "" : t;
              return n
                ? (0, tt.tZ)(I.View, {
                    className: "smart-deadline-tips",
                    children: (0, tt.tZ)(gr.ZtRichText, {
                      className: "tips-txt",
                      nodes: n,
                    }),
                  })
                : null;
            }),
            yr = n(83924),
            Cr = function (e) {
              var t = e.shareORCodeImage,
                n = e.hasClickedTicketFloat,
                r = (0, w.useState)(!1),
                a = (0, Ce.Z)(r, 2),
                i = a[0],
                o = a[1],
                c = (0, w.useState)(!1),
                s = (0, Ce.Z)(c, 2),
                l = s[0],
                u = s[1],
                d =
                  x().getStorageSync(
                    "TRAIN_ORDERDETAIL_TICKET_FLOAT_SHOW_NUM"
                  ) || 0,
                f = x().getStorageSync(
                  "TRAIN_ORDERDETAIL_TICKET_FLOAT_CLICK_".concat(
                    ge.getPage().oid
                  )
                ),
                m =
                  x().getStorageSync(
                    "TRAIN_ORDERDETAIL_TICKET_FLOAT_HAS_SHOW_LIST"
                  ) || [],
                p = m.includes(ge.getPage().oid);
              (0, w.useEffect)(function () {
                ge.ubtTrace(
                  "TZWBuyOrderDetail_TravelInfo_TicketClip_exposure",
                  { PageId: ge.getPage().pageId, orderid: ge.getPage().oid }
                ),
                  p ||
                    (m.push(ge.getPage().oid),
                    x().setStorageSync(
                      "TRAIN_ORDERDETAIL_TICKET_FLOAT_HAS_SHOW_LIST",
                      m
                    )),
                  setTimeout(function () {
                    u(!0);
                  }, 3e3);
              }, []);
              var h = ge.getState().ticketCollectionModel.ticketsInfo[0];
              if (d >= 3 || f || !h || l || p) return (0, tt.tZ)(I.View, {});
              var g = O.Z.getIsGDCTrain((null == h ? void 0 : h.trainNum) || "")
                ? mn.a8.GDC
                : mn.a8.KTZ;
              return i && n
                ? (0, tt.tZ)(I.View, {})
                : (0, tt.tZ)(I.View, {
                    className: "trainOrderDetail-train-ticket-float flex",
                    id: "AJGT",
                    onClick: function () {
                      On(), o(!0);
                    },
                    children: (0, tt.tZ)(I.View, {
                      className:
                        "ticket-collection-animation-content flex flex-center",
                      children: (0, tt.tZ)(I.View, {
                        className: "old-ticket-content",
                        children: (0, tt.tZ)(yr.Z, {
                          tempKey: g,
                          ticket: h,
                          checkedTemplate: g,
                          shareQRCodeImageUrl: t,
                        }),
                      }),
                    }),
                  });
            },
            Sr = w.default.memo(function (e) {
              var t = e.tips,
                n = void 0 === t ? "" : t,
                r = e.onClick,
                a = void 0 === r ? function () {} : r;
              return (0,
              tt.BX)(I.View, { className: "trainsit-failed-tips flex-align-items-center", id: "AJHD", onClick: a, children: [(0, tt.tZ)(I.Image, { className: "failed-tag", src: "https://images3.c-ctrip.com/ztrip/train_zhu/icon_QP_zhz_tishi.png" }), (0, tt.tZ)(gr.ZtRichText, { className: "content", nodes: n }), (0, tt.tZ)(I.View, { className: "iconfont2 ifont2-arr" })] });
            }),
            _r = w.default.memo(function (e) {
              var t = e.bannerInfo,
                n = void 0 === t ? null : t,
                a = e.source,
                i = void 0 === a ? "smart" : a;
              if (!n) return (0, tt.tZ)(tt.HY, {});
              var o = n;
              "smart" === i && (o = rn(n.jumpUrl) || {});
              var c = o.train,
                s = ""
                  .concat(null == c ? void 0 : c.startTime)
                  .concat(null == c ? void 0 : c.from_name, "-")
                  .concat(null == c ? void 0 : c.arriveTime)
                  .concat(null == c ? void 0 : c.to_name),
                l = "smart" === i ? o.divedeTitle : o.stepDesc;
              return (0, tt.BX)(I.View, {
                className: "train-book-trip-banner flex-align-items-center",
                children: [
                  (0, tt.tZ)(I.View, { className: "l-tag", children: l }),
                  (0, tt.tZ)(I.View, {
                    className: "m-train-info flex-1",
                    children: s,
                  }),
                  (0, tt.tZ)(I.View, {
                    className: "r-btn",
                    onClick: function () {
                      "smartRS" !== i
                        ? Yn({
                            toast: {
                              toastCode: r.smartBookSecondTripDrawer,
                              _jsonInfo: n,
                            },
                          })
                        : an(o);
                    },
                    children: n.buttonName,
                  }),
                ],
              });
            }),
            Ir = function (e) {
              var t = e.data,
                n = void 0 === t ? {} : t,
                r = n.cardStateDesc,
                a = n.cardStatedetail,
                i = n.cardState;
              return (0, tt.BX)(I.View, {
                className: "trn-sg-banner ".concat(20 != i ? "gray" : ""),
                children: [
                  r && (0, tt.tZ)(I.Text, { className: "status", children: r }),
                  a && (0, tt.tZ)(I.Text, { className: "desc", children: a }),
                ],
              });
            },
            Vr = void 0,
            Rr = function () {
              var e,
                t,
                n,
                r,
                i,
                o,
                c,
                s,
                l,
                u,
                d,
                f,
                h =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                g = h.order,
                v = h.withBg,
                T = void 0 === v || v,
                Z = h.isShowTopFloatView,
                w = void 0 !== Z && Z,
                N = h.isShowBtmFloatView,
                b = void 0 !== N && N,
                x = h.renderTopFloatView,
                k = void 0 === x ? function () {} : x,
                y = h.renderBottomFloatView,
                C = void 0 === y ? function () {} : y,
                S = h.canGray,
                _ = void 0 !== S && S,
                V = h.recommendOriginalTicketInfo,
                R = h.smartDeadlineTips,
                D = void 0 === R ? "" : R,
                P = h.shareORCodeImage,
                B = void 0 === P ? "" : P,
                F = h.canAddCountTicketAmount,
                M = h.hasClickedTicketFloat,
                E = h.onShowTransitTipsDrawer,
                L = void 0 === E ? function () {} : E;
              if (!g) return null;
              var z = function () {
                  (0, A.getCurrentPage)().showCommonDialog({
                    title: "检票口",
                    content: g.entrance,
                  });
                },
                U = function () {
                  var e = g.fromStation,
                    t = g.toStation,
                    n = g.trainNo,
                    r = g.fromDate;
                  _e.ZP.goTimeTable(e, t, n, r);
                },
                j = (function () {
                  var e = (0, p.Z)(
                    (0, m.Z)().mark(function e(t) {
                      var n, r;
                      return (0, m.Z)().wrap(function (e) {
                        for (;;)
                          switch ((e.prev = e.next)) {
                            case 0:
                              return (e.next = 2), _e.ZP.getTrainStationData();
                            case 2:
                              (n = e.sent),
                                (r = n.find(function (e) {
                                  return e.stationName == t;
                                })),
                                O.Z.commonNavigator(
                                  "https://market.suanya.com/activity/train/stationdetail/?title=车站详情&stationName="
                                    .concat(
                                      encodeURIComponent(t),
                                      "&stationCode="
                                    )
                                    .concat(
                                      (null == r ? void 0 : r.stationCode) || ""
                                    )
                                );
                            case 5:
                            case "end":
                              return e.stop();
                          }
                      }, e);
                    })
                  );
                  return function (t) {
                    return e.apply(this, arguments);
                  };
                })(),
                G = function (e, t) {
                  var n = ge.getState().orderModel.isSelfTicket;
                  if (
                    (ge.ubtTrace(
                      "TZWBuyOrderDetail_PassengerInfo_Refund_click",
                      {
                        PageId: ge.getPage().pageId,
                        Type: n ? 1 : 0,
                        OrderNumber: ge.getPage().oid,
                      }
                    ),
                    1 === e.isTicketUpgrading)
                  ) {
                    var r = ge.getPage().pageId;
                    return (
                      ge.ubtTrace("237124", { PageId: r }),
                      void ge.commonDrawerConfirm({
                        title: "订单正在换座，要取消吗？",
                        cancelText: "再想想",
                        confirmText: "确认取消",
                        content:
                          "当前车票正在换座中，若退票将先为您取消换座，确认要取消吗？",
                        onConfirm: (function () {
                          var t = (0, p.Z)(
                            (0, m.Z)().mark(function t() {
                              var n;
                              return (0, m.Z)().wrap(
                                function (t) {
                                  for (;;)
                                    switch ((t.prev = t.next)) {
                                      case 0:
                                        return (
                                          ge.ubtTrace("237127", { PageId: r }),
                                          (t.prev = 1),
                                          (t.next = 4),
                                          (0, X.FHX)({
                                            orderNumber:
                                              e.reScheduleGrabOrderNo,
                                          })
                                        );
                                      case 4:
                                        1 ===
                                        (null == (n = t.sent)
                                          ? void 0
                                          : n.resultCode)
                                          ? Kn()
                                          : (0, A.showToast)(
                                              (null == n
                                                ? void 0
                                                : n.resultMessage) ||
                                                "网络异常，请稍后重试哦"
                                            ),
                                          (t.next = 11);
                                        break;
                                      case 8:
                                        (t.prev = 8),
                                          (t.t0 = t.catch(1)),
                                          console.log(t.t0);
                                      case 11:
                                      case "end":
                                        return t.stop();
                                    }
                                },
                                t,
                                null,
                                [[1, 8]]
                              );
                            })
                          );
                          return function () {
                            return t.apply(this, arguments);
                          };
                        })(),
                        onCancel: function () {
                          ge.ubtTrace("237125", { PageId: r });
                        },
                      })
                    );
                  }
                  yt({ ticket: e, order: t });
                },
                H = function (e, t) {
                  var n = ge.getState().orderModel.isSelfTicket;
                  if (
                    (ge.ubtTrace(
                      "TZWBuyOrderDetail_PassengerInfo_Resign_click",
                      {
                        PageId: ge.getPage().pageId,
                        Type: n ? 1 : 0,
                        OrderNumber: ge.getPage().oid,
                      }
                    ),
                    1 === e.isTicketUpgrading)
                  ) {
                    var r = ge.getPage().pageId;
                    return (
                      ge.ubtTrace("237121", { PageId: r }),
                      void ge.commonDrawerConfirm({
                        title: "订单正在换座，要改签吗？",
                        cancelText: "再想想",
                        confirmText: "确认改签",
                        content:
                          "当前车票正在换座中，若进行车票改签将先为您取消换座，确认要改签吗？",
                        onConfirm: (function () {
                          var t = (0, p.Z)(
                            (0, m.Z)().mark(function t() {
                              var n;
                              return (0, m.Z)().wrap(
                                function (t) {
                                  for (;;)
                                    switch ((t.prev = t.next)) {
                                      case 0:
                                        return (
                                          ge.ubtTrace("237123", { PageId: r }),
                                          (t.prev = 1),
                                          (t.next = 4),
                                          (0, X.FHX)({
                                            orderNumber:
                                              e.reScheduleGrabOrderNo,
                                          })
                                        );
                                      case 4:
                                        1 ===
                                        (null == (n = t.sent)
                                          ? void 0
                                          : n.resultCode)
                                          ? Kn()
                                          : (0, A.showToast)(
                                              (null == n
                                                ? void 0
                                                : n.resultMessage) ||
                                                "网络异常，请稍后重试哦"
                                            ),
                                          (t.next = 11);
                                        break;
                                      case 8:
                                        (t.prev = 8),
                                          (t.t0 = t.catch(1)),
                                          console.log(t.t0);
                                      case 11:
                                      case "end":
                                        return t.stop();
                                    }
                                },
                                t,
                                null,
                                [[1, 8]]
                              );
                            })
                          );
                          return function () {
                            return t.apply(this, arguments);
                          };
                        })(),
                        onCancel: function () {
                          ge.ubtTrace("237122", { PageId: r });
                        },
                      })
                    );
                  }
                  ut({ ticket: e, order: t });
                },
                W = g._isUselessOrder && _,
                J = null == k ? void 0 : k(),
                K = null == C ? void 0 : C(),
                q = ge.getState().octopusModel,
                Y =
                  null === (e = pr(q, a.smartBookSecondTripBanner)) ||
                  void 0 === e
                    ? void 0
                    : e._jsonInfo,
                Q =
                  null === (t = pr(q, a.smartRescheduleSaveTripArea)) ||
                  void 0 === t
                    ? void 0
                    : t._jsonInfo;
              return (0, tt.BX)(I.View, {
                className: "train-common-ticket-view  "
                  .concat(T ? "wrap" : "", " ")
                  .concat(W ? "gray" : ""),
                children: [
                  w &&
                    (0, tt.tZ)(I.View, {
                      className: "top-view can-gray",
                      children: J,
                    }),
                  (0, tt.BX)(I.View, {
                    className: "ticket-content ".concat(T ? "with-bg" : ""),
                    children: [
                      (0, tt.tZ)(I.View, {
                        className: "ticket-collection-animation trigon bottom",
                      }),
                      (0, tt.BX)(I.View, {
                        className: "t-v flex flex-center can-gray",
                        children: [
                          g._routeTag &&
                            (0, tt.tZ)(I.View, {
                              className: "tag tag-route",
                              children: g._routeTag,
                            }),
                          g._tag &&
                            (0, tt.tZ)(I.View, {
                              className: "tag",
                              children: g._tag,
                            }),
                          (0, tt.BX)(I.View, {
                            className: "flex-1 left flex",
                            children: [
                              (0, tt.tZ)(I.View, { children: g._orderStr }),
                              !g._isUselessOrder &&
                                !!F &&
                                T &&
                                (0, tt.BX)(I.View, {
                                  className: "add-ticket-collection",
                                  id: "AJGN",
                                  onClick: On,
                                  children: [
                                    (0, tt.tZ)(I.View, { children: "+车票夹" }),
                                    (0, tt.tZ)(Cr, {
                                      shareORCodeImage: B,
                                      hasClickedTicketFloat: M,
                                    }),
                                  ],
                                }),
                            ],
                          }),
                          g.entrance
                            ? (0, tt.tZ)(I.View, {
                                className: "right entrance",
                                id: "AJGO",
                                onClick: z,
                                children: g.entrance,
                              })
                            : (0, tt.tZ)(I.View, { className: "right" }),
                        ],
                      }),
                      (0, tt.BX)(I.View, {
                        className: "b-v flex can-gray",
                        children: [
                          (0, tt.tZ)(xr, {
                            id: "AJHe",
                            style: { alignItems: "flex-start" },
                            dateStr:
                              null === (n = g._trainView) || void 0 === n
                                ? void 0
                                : n.fromDateStr,
                            timeStr:
                              null === (r = g._trainView) || void 0 === r
                                ? void 0
                                : r.fromTime,
                            stationStr:
                              null === (i = g._trainView) || void 0 === i
                                ? void 0
                                : i.fromStation,
                            tip: null == V ? void 0 : V.departureStation,
                            onStationClick: j.bind(Vr, g.fromStation),
                          }),
                          (0, tt.BX)(I.View, {
                            className:
                              "train-travel flex flex-column flex-center",
                            children: [
                              (0, tt.tZ)(I.View, {
                                className: "jt-tag",
                                id: "AJGQ",
                                onClick: U,
                                children: "经停信息",
                              }),
                              (0, tt.tZ)(I.View, {
                                className: "info",
                                children:
                                  null === (o = g._trainView) || void 0 === o
                                    ? void 0
                                    : o.travelInfoStr,
                              }),
                            ],
                          }),
                          (0, tt.tZ)(xr, {
                            id: "AJHf",
                            reverse: !0,
                            style: { alignItems: "flex-end" },
                            dateStr:
                              null === (c = g._trainView) || void 0 === c
                                ? void 0
                                : c.toDateStr,
                            timeStr:
                              null === (s = g._trainView) || void 0 === s
                                ? void 0
                                : s.toTime,
                            stationStr:
                              null === (l = g._trainView) || void 0 === l
                                ? void 0
                                : l.toStation,
                            tip: null == V ? void 0 : V.arrivalStation,
                            onStationClick: j.bind(Vr, g.toStation),
                          }),
                        ],
                      }),
                      (0, tt.tZ)(I.View, {
                        className: "ticket-list",
                        children:
                          null === (u = g.ticketInfoList) || void 0 === u
                            ? void 0
                            : u.map(function (e, t) {
                                return (0, tt.tZ)(
                                  Nr,
                                  {
                                    ticket: e,
                                    onReschedule: function () {
                                      return H(e, g);
                                    },
                                    defaultFold: !(
                                      1 === g.ticketInfoList.length ||
                                      !e._isUseless ||
                                      !T
                                    ),
                                    onRefund: function () {
                                      return G(e, g);
                                    },
                                    onFreeDelete: function () {
                                      Oe(e);
                                    },
                                    onFreeRetry: function () {
                                      Fe(e);
                                    },
                                    onTicketQrCode: function () {
                                      var t =
                                        ge.getState().orderModel.isSelfTicket;
                                      ge.ubtTrace(
                                        "TZWBuyOrderDetail_PassengerInfo_ElecCode_click",
                                        {
                                          PageId: ge.getPage().pageId,
                                          Type: t ? 1 : 0,
                                          OrderNumber: ge.getPage().oid,
                                        }
                                      ),
                                        lr(e);
                                    },
                                  },
                                  t
                                );
                              }),
                      }),
                      (0, tt.tZ)(kr, { tips: D }),
                      24 ===
                        (null === (d = g.multiFgs) || void 0 === d
                          ? void 0
                          : d.bookProcess) &&
                        (null === (f = g.multiFgs) || void 0 === f
                          ? void 0
                          : f.note) &&
                        (0, tt.tZ)(Sr, {
                          tips: g.multiFgs.note,
                          id: "AJGS",
                          onClick: L,
                        }),
                      (0, tt.tZ)(_r, {
                        bannerInfo: Y || Q,
                        source: Q ? "smartRS" : "smart",
                      }),
                      (0, tt.tZ)(hr, {
                        Area: function (e) {
                          return (0, tt.tZ)(Ir, { data: e });
                        },
                        codeName: a.ExclusiveCrowdArea,
                      }),
                    ],
                  }),
                  b &&
                    (0, tt.tZ)(I.View, { className: "btm-view", children: K }),
                ],
              });
            },
            Dr = w.default.memo(function (e) {
              var t = e.bannerInfo,
                n = void 0 === t ? {} : t,
                r = e.onClickBanner,
                a = void 0 === r ? function () {} : r;
              return O.Z.isEmptyObject(n)
                ? null
                : (0, tt.tZ)(I.View, {
                    className: S.default.zxTyStr + " train-orderDetail-st-tag",
                    children: (0, tt.BX)(I.View, {
                      className:
                        "smart-reschedule-switch-folding flex flex-center",
                      id: "AJGz",
                      onClick: a,
                      children: [
                        (0, tt.BX)(I.View, {
                          className: "left flex-1 flex flex-center",
                          children: [
                            (0, tt.tZ)(I.Image, {
                              className: "logo_1",
                              src: "https://images3.c-ctrip.com/ztrip/train_zhu/Tag_%20znx_new16.png",
                            }),
                            (0, tt.tZ)(I.View, {
                              className: "desc",
                              children: (0, tt.tZ)(gr.ZtRichText, {
                                nodes: O.Z.convertAppTextToHtmlStr(n.topTitle),
                              }),
                            }),
                          ],
                        }),
                        (0, tt.tZ)(I.View, { className: "iconfont ifont-arr" }),
                      ],
                    }),
                  });
            }),
            Pr = w.default.memo(function (e) {
              var t = e.transitTips,
                n = void 0 === t ? "" : t;
              return (0,
              tt.BX)(I.View, { className: "train-transit-tips flex-align-items-center", children: [(0, tt.tZ)(I.View, { className: "iconfont ifont-transfer-same" }), (0, tt.tZ)(I.View, { className: "desc", children: n })] });
            }),
            Ar = w.default.memo(function (e) {
              var t = e.gotoDetailPage,
                n = void 0 === t ? function () {} : t;
              (0, w.useEffect)(function () {
                ge.ubtTrace("237106", { PageId: ge.getPage().pageId });
              }, []);
              return (0, tt.BX)(I.View, {
                className: "seat-upgrade-tips-banner",
                children: [
                  (0, tt.tZ)(I.Image, {
                    className: "connect-bar",
                    src: "https://images3.c-ctrip.com/ztrip/train_zhu/img_sjcp_chains.png",
                  }),
                  (0, tt.BX)(I.View, {
                    className: "cont-box flex-align-items-center",
                    children: [
                      (0, tt.tZ)(I.Image, {
                        className: "icon",
                        src: "https://images3.c-ctrip.com/ztrip/train_zhu/icon_sjcp_xqy_gzz.png",
                      }),
                      (0, tt.tZ)(gr.ZtRichText, {
                        className: "desc",
                        nodes: '车票升级<font color="#198cff">换座中</font>',
                      }),
                      (0, tt.BX)(I.View, {
                        className: "butn-box flex-align-items-center",
                        id: "AJGn",
                        onClick: function () {
                          ge.ubtTrace("237107", {
                            PageId: ge.getPage().pageId,
                          }),
                            n();
                        },
                        children: [
                          (0, tt.tZ)(I.View, {
                            className: "detail-btn",
                            children: "查看详情",
                          }),
                          (0, tt.tZ)(I.View, {
                            className: "iconfont2 ifont2-arr",
                          }),
                        ],
                      }),
                    ],
                  }),
                ],
              });
            }),
            Br = w.default.memo(function (e) {
              var t = e.tipsInfo;
              if (!t) return (0, tt.tZ)(tt.HY, {});
              return (0, tt.BX)(I.View, {
                className: "smart-tips-banner flex-align-items-center",
                onClick: function () {
                  t.jumpUrl && O.Z.commonNavigator(t.jumpUrl);
                },
                children: [
                  (0, tt.tZ)(gr.ZtRichText, {
                    className: "title flex-1",
                    nodes: t.title,
                  }),
                  (0, tt.BX)(I.View, {
                    className: "r-info flex-align-items-center",
                    children: [
                      (0, tt.tZ)(I.View, {
                        className: "txt",
                        children: "查看",
                      }),
                      (0, tt.tZ)(I.Image, {
                        className: "icon-down",
                        src: "https://images3.c-ctrip.com/ztrip/train_zhu/icon_jiantou_blue.png",
                      }),
                    ],
                  }),
                ],
              });
            }),
            Or = function (e) {
              var t = e.data;
              if (!t) return (0, tt.tZ)(tt.HY, {});
              var n = t.newTitle,
                r = t.subTitle,
                a = t.icon,
                i = t.jumpUrl;
              return (0, tt.BX)(I.View, {
                className: " _er _p",
                children: [
                  (0, tt.tZ)(I.View, { className: " _tf _De _iP _u _jP _kP" }),
                  (0, tt.tZ)(I.View, { className: " _tf _De _iP _u _lP _kP" }),
                  (0, tt.BX)(I.View, {
                    className: " _Vb _Oa _hP _i _l _p _kc",
                    children: [
                      (0, tt.tZ)(I.Image, { className: " _vb _Ae", src: a }),
                      (0, tt.BX)(I.View, {
                        className: " _Zg _j",
                        children: [
                          (0, tt.tZ)(I.View, {
                            className: " _sb _Pa _Uc _U",
                            children: n,
                          }),
                          (0, tt.tZ)(I.View, {
                            className: " _Ma _no _Q _ub",
                            children: r,
                          }),
                        ],
                      }),
                      (0, tt.tZ)(I.View, {
                        className: " _vb _mb _nb _o _w _pb _qb _pc _Uc",
                        id: "tdTUNEBtn",
                        onClick: function () {
                          i && O.Z.commonNavigator(i);
                        },
                        children: "我接受",
                      }),
                    ],
                  }),
                ],
              });
            },
            Fr = (0, _.$j)(function (e) {
              var t,
                n = e.orderModel,
                r = e.octopusModel,
                a = e.ticketCollectionModel;
              return {
                tickets: n.orderTicketsInfo,
                orginalOrder: n.orginalOrder,
                orginalOrderRoute2: n.orginalOrderRoute2,
                rescheduleOrders: n.rescheduleOrders,
                octopusModel: r,
                shareORCodeImage: a.shareORCodeImage,
                canAddCountTicketAmount: a.canAddCountTicketAmount,
                hasClickedTicketFloat: a.hasClickedTicketFloat,
                smartTransitTips:
                  null === (t = n.orderInfo) || void 0 === t
                    ? void 0
                    : t.smartTransfer,
              };
            })(function () {
              var e,
                t,
                n,
                i,
                c,
                s =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                l = s.rescheduleOrders,
                u = s.orginalOrder,
                d = s.orginalOrderRoute2,
                f = s.octopusModel,
                m = s.shareORCodeImage,
                p = s.canAddCountTicketAmount,
                h = s.hasClickedTicketFloat,
                g = s.smartTransitTips,
                v = l.some(function (e) {
                  return 1 === e.routeSequence;
                }),
                T = l.some(function (e) {
                  return 2 === e.routeSequence;
                }),
                Z =
                  null === (e = pr(f, o.originalTicketInfo, "extra")) ||
                  void 0 === e
                    ? void 0
                    : e._jsonInfo,
                w =
                  null === (t = pr(f, a.freeRescheduleGrabRecommendArea)) ||
                  void 0 === t
                    ? void 0
                    : t._jsonInfo,
                N =
                  null === (n = pr(f, a.smartOrderAutoTicketArea)) ||
                  void 0 === n
                    ? void 0
                    : n._jsonInfo,
                b = null != N && N.type ? N : null,
                x = function () {
                  var e,
                    t = b.type;
                  (e =
                    -1 !== [11, 12, 13].indexOf(t)
                      ? {
                          toastCode: r.smartCSTripInfoToast,
                          _jsonInfo: (0, R.Z)(
                            (0, R.Z)({}, N),
                            {},
                            { isManualShow: !0 }
                          ),
                        }
                      : { toastCode: r.smartOrderAutoTicketArea, data: b }) &&
                    Yn({ toast: e });
                },
                k = function () {
                  We({ toastCode: r.smartCSTripInfoToast });
                },
                y = function () {
                  return b
                    ? (0, tt.tZ)(Dr, {
                        bannerInfo: b,
                        onClickBanner: function () {
                          x();
                        },
                      })
                    : (0, tt.tZ)(Tr, { recommendOriginalTicketInfo: Z });
                },
                C =
                  null == u || null === (i = u.ticketInfoList) || void 0 === i
                    ? void 0
                    : i.some(function (e) {
                        return 1 === e.isTicketUpgrading;
                      }),
                S =
                  null === (c = pr(f, a.ticketUpgradeEntryArea)) || void 0 === c
                    ? void 0
                    : c._jsonInfo,
                _ = !(null == S || !S.newTitle);
              return (0, tt.BX)(I.Block, {
                children: [
                  l.map(function (e, t) {
                    return (0, tt.tZ)(
                      Rr,
                      {
                        order: e,
                        shareORCodeImage: m,
                        canAddCountTicketAmount: p && 0 === t,
                        hasClickedTicketFloat: h,
                        isShowTopFloatView: !!b && 0 === t,
                        renderTopFloatView: function () {
                          return (0, tt.tZ)(Dr, {
                            bannerInfo: b,
                            onClickBanner: function () {
                              x();
                            },
                          });
                        },
                      },
                      t
                    );
                  }),
                  u &&
                    (0, tt.tZ)(wr, {
                      removeFolder: !v,
                      defaultFold: null == u ? void 0 : u._isUselessOrder,
                      foldTitleView: "改签原单",
                      foldRightView: function (e) {
                        var t;
                        return e
                          ? "".concat(
                              null == u ||
                                null === (t = u._trainView) ||
                                void 0 === t
                                ? void 0
                                : t.fromDateStr,
                              " 出发"
                            )
                          : "收起";
                      },
                      foldContentView: function () {
                        return (0, tt.tZ)(Rr, {
                          canGray: v,
                          order: u,
                          withBg: !v,
                          shareORCodeImage: m,
                          canAddCountTicketAmount: p,
                          hasClickedTicketFloat: h,
                          isShowTopFloatView: !!Z || !!b,
                          isShowBtmFloatView:
                            !(
                              !w ||
                              -1 ===
                                ne.indexOf(
                                  null == w ? void 0 : w.rescheduleType
                                )
                            ) ||
                            (S && !_),
                          renderTopFloatView: function () {
                            return y();
                          },
                          renderBottomFloatView: function () {
                            return S && !_
                              ? (0, tt.tZ)(Br, { tipsInfo: S })
                              : (0, tt.tZ)(vr, {
                                  smartRescheduleSwitchInfo: w,
                                });
                          },
                          recommendOriginalTicketInfo: Z,
                          smartDeadlineTips:
                            null == b ? void 0 : b.refundCareNote,
                          onShowTransitTipsDrawer: k,
                        });
                      },
                    }),
                  g && (0, tt.tZ)(Pr, { transitTips: g }),
                  _ && (0, tt.tZ)(Or, { data: S }),
                  C && (0, tt.tZ)(Ar, { gotoDetailPage: ye }),
                  d &&
                    (0, tt.tZ)(wr, {
                      removeFolder: !T,
                      defaultFold: null == d ? void 0 : d._isUselessOrder,
                      foldTitleView: "改签原单",
                      foldRightView: function (e) {
                        var t;
                        return e
                          ? "".concat(
                              null == d ||
                                null === (t = d._trainView) ||
                                void 0 === t
                                ? void 0
                                : t.fromDateStr,
                              " 出发"
                            )
                          : "收起";
                      },
                      foldContentView: function () {
                        return (0, tt.tZ)(Rr, {
                          canGray: T,
                          order: d,
                          withBg: !T,
                          onShowTransitTipsDrawer: k,
                        });
                      },
                    }),
                ],
              });
            }),
            Mr = w.default.memo(function (e) {
              var t = e.isShow,
                n = void 0 !== t && t,
                r = e.orderNumber,
                a = void 0 === r ? "" : r,
                i = e.onClose,
                o = void 0 === i ? function () {} : i,
                c = O.Z.highLightText(
                  "改签成功，原第二程车票请退票",
                  "请退票",
                  "#FF5959",
                  "#FF5959"
                ),
                s = O.Z.highLightText(
                  "已改签为全程直达票，原第二程车票需手动退票后退款。请尽快办理，超时无法退款。",
                  "请尽快办理，超时无法退款。",
                  "#FF5959",
                  "#FF5959"
                );
              return (0, tt.tZ)(I.View, {
                className: "smart-rs-rt-drawer",
                children: (0, tt.tZ)(gr.ZtDrawer, {
                  show: n,
                  isDefineHead: !0,
                  onWrapClose: o,
                  children: (0, tt.BX)(I.View, {
                    className: "content flex-column flex-align-items-center",
                    children: [
                      (0, tt.tZ)(I.View, {
                        className: "iconfont ifont-fail",
                        id: "AACH",
                        onClick: o,
                      }),
                      (0, tt.tZ)(I.Image, {
                        className: "top-img",
                        src: "https://images3.c-ctrip.com/ztrip/train_zhu/img_Ticket_tuipiao_zx.png",
                      }),
                      (0, tt.tZ)(gr.ZtRichText, {
                        className: "title",
                        nodes: c,
                      }),
                      (0, tt.tZ)(gr.ZtRichText, {
                        className: "desc",
                        nodes: s,
                      }),
                      (0, tt.tZ)(I.View, {
                        className: "btn",
                        id: "AACI",
                        onClick: function () {
                          o(),
                            x().navigateTo({
                              url: "".concat(
                                _e.ZP.getTrainDetailUrl(a),
                                "&autoPopRefundDialog=true"
                              ),
                            });
                        },
                        children: "退票并退款",
                      }),
                    ],
                  }),
                }),
              });
            }),
            Er = n(29983),
            Lr = n(30541),
            Xr = n(22373),
            zr = n(72347),
            Ur = n(75677),
            jr = n(69192),
            Gr = n(93983),
            Hr = n(90481),
            Wr = n(30335),
            Jr = (0, n(57531).Z)(Wr.Z),
            Kr = n(74290),
            qr = n(80689),
            Yr = n(41716),
            Qr = n(90983),
            $r = (function (e) {
              (0, T.Z)(n, e);
              var t = (0, Z.Z)(n);
              function n(e) {
                return (0, h.Z)(this, n), t.call(this, e);
              }
              return (
                (0, g.Z)(n, [
                  {
                    key: "render",
                    value: function () {
                      var e = this,
                        t = this.props.desc,
                        n = void 0 === t ? "" : t,
                        r = [],
                        a = n.split("</br>");
                      1 === a.length && (a = n.split("<br />")),
                        1 === a.length && (a = n.split("<br/>"));
                      var i,
                        o = (0, Qr.Z)(a);
                      try {
                        for (o.s(); !(i = o.n()).done; ) {
                          var c = i.value,
                            s = {};
                          (s.type = /\<\/a\>/g.test(c) ? "navigator" : "text"),
                            "text" === s.type
                              ? (s.content = O.Z.convertAppTextToHtmlStr(c))
                              : (s.content = O.Z.convertLinkRickTextToArray(
                                  c,
                                  />(.+)</g
                                )),
                            r.push(s);
                        }
                      } catch (e) {
                        o.e(e);
                      } finally {
                        o.f();
                      }
                      return (0, tt.tZ)(I.Block, {
                        children: r.map(function (t, n) {
                          return (0, tt.BX)(
                            I.View,
                            {
                              className: e.props["item-class"],
                              children: [
                                "text" === t.type &&
                                  (0, tt.tZ)(gr.ZtRichText, {
                                    nodes: t.content,
                                  }),
                                "navigator" === t.type &&
                                  t.content.map(function (t) {
                                    return (0,
                                    tt.BX)(I.Block, { children: ["txt" === t.type && (0, tt.tZ)(gr.ZtRichText, { nodes: t.val }), "url" === t.type && (0, tt.tZ)(I.Navigator, { className: e.props["navigator-class"], url: t.url, children: (0, tt.tZ)(gr.ZtRichText, { nodes: t.val }) })] }, t.val);
                                  }),
                              ],
                            },
                            "".concat(t.type, "-").concat(n)
                          );
                        }),
                      });
                    },
                  },
                ]),
                n
              );
            })(w.default.PureComponent),
            ea = n(38434),
            ta = (function (e) {
              (0, T.Z)(n, e);
              var t = (0, Z.Z)(n);
              function n(e) {
                var r;
                return (
                  (0, h.Z)(this, n),
                  ((r = t.call(this, e)).state = {
                    refundPrice: 0,
                    appendProducts: [],
                    isCheckInsurance: !0,
                  }),
                  r
                );
              }
              return (
                (0, g.Z)(n, [
                  {
                    key: "componentDidMount",
                    value: function () {
                      var e = this.props.refundInfo || {};
                      this.setState({
                        appendProducts:
                          (e.refundAppendProduct &&
                            e.refundAppendProduct.appendProductDetailList) ||
                          [],
                        refundPrice: e.realRefundPrice || 0,
                      });
                    },
                  },
                  {
                    key: "UNSAFE_componentWillReceiveProps",
                    value: function (e) {
                      var t = e.refundInfo || {};
                      this.setState({
                        isCheckInsurance: !0,
                        refundPrice: t.realRefundPrice || 0,
                      });
                    },
                  },
                  {
                    key: "handleCheck",
                    value: function (e, t) {
                      var n,
                        r = this.state,
                        a = r.appendProducts,
                        i = r.refundPrice,
                        o = Number(e.insurancePrice || 0);
                      n = e.checkFlag ? i - o : i + o;
                      var c = (0, Re.Z)(a);
                      c.splice(
                        t,
                        1,
                        (0, R.Z)(
                          (0, R.Z)({}, e),
                          {},
                          { checkFlag: !e.checkFlag }
                        )
                      ),
                        this.setState({ appendProducts: c, refundPrice: n });
                    },
                  },
                  {
                    key: "handleCheckRefundInsurance",
                    value: function (e) {
                      var t = this.state,
                        n = t.isCheckInsurance,
                        r = t.refundPrice;
                      n &&
                        (0, A.showToastAsync)(
                          "保险未勾选退订，退票请退保",
                          2e3
                        ),
                        this.setState({
                          refundPrice: n ? r - e.price : r + e.price,
                          isCheckInsurance: !n,
                        });
                    },
                  },
                  {
                    key: "render",
                    value: function () {
                      var e,
                        t,
                        n,
                        r = this,
                        a = this.props,
                        i = a.refundInfo,
                        o = void 0 === i ? {} : i,
                        c = a.handleCancel,
                        s = a.handleConfirm,
                        l = a.show,
                        u = this.state,
                        d = u.appendProducts,
                        f = u.refundPrice,
                        m = u.isCheckInsurance,
                        p = d
                          .filter(function (e) {
                            return e.checkFlag;
                          })
                          .map(function (e) {
                            return e.insuranceId;
                          })
                          .join(",");
                      return (0, tt.tZ)(I.View, {
                        className: "train-refund-modal",
                        children: (0, tt.BX)(gr.ZtDrawer, {
                          show: l,
                          closeIconParams: { color: "#ccc", size: 24 },
                          onClose: c,
                          onWrapClose: c,
                          title: "退票说明",
                          children: [
                            (0, tt.BX)(I.View, {
                              className: "refund-modal-content",
                              children: [
                                (0, tt.BX)(I.View, {
                                  className: "refund-container",
                                  children: [
                                    (0, tt.BX)(I.View, {
                                      className:
                                        "sum-con space-between ".concat(
                                          null !== (e = o.sfxProduct) &&
                                            void 0 !== e &&
                                            e.note
                                            ? "peace-show"
                                            : ""
                                        ),
                                      children: [
                                        (0, tt.tZ)(I.View, {
                                          className: "name",
                                          children: "预计应退金额",
                                        }),
                                        (0, tt.BX)(I.View, {
                                          className: "price",
                                          children: ["￥", +f.toFixed(2)],
                                        }),
                                      ],
                                    }),
                                    (0, tt.BX)(I.View, {
                                      className: "detail-con",
                                      children: [
                                        (o.refundDetailList || []).map(
                                          function (e) {
                                            return (0, tt.BX)(
                                              I.View,
                                              {
                                                className: "detail-item",
                                                children: [
                                                  (0, tt.BX)(I.View, {
                                                    className:
                                                      "detail-item-value space-between",
                                                    children: [
                                                      (0, tt.BX)(I.View, {
                                                        className: "name flex",
                                                        children: [
                                                          (0, tt.tZ)(I.View, {
                                                            className:
                                                              "flex-center",
                                                            children: e.key,
                                                          }),
                                                          e.desc &&
                                                            (0, tt.tZ)(I.View, {
                                                              className:
                                                                "flex-column",
                                                              children: (0,
                                                              tt.tZ)($r, {
                                                                desc: "".concat(
                                                                  e.desc.includes(
                                                                    "br"
                                                                  )
                                                                    ? e.desc
                                                                    : "(".concat(
                                                                        e.desc,
                                                                        ")"
                                                                      )
                                                                ),
                                                                "item-class":
                                                                  "detail-rich-text-item",
                                                                "navigator-class":
                                                                  "navigator",
                                                              }),
                                                            }),
                                                        ],
                                                      }),
                                                      (0, tt.BX)(I.View, {
                                                        className:
                                                          "price flex flex-center",
                                                        children: [
                                                          (0, tt.tZ)(I.View, {
                                                            children: e.value,
                                                          }),
                                                          !!e.type &&
                                                            !!e.price &&
                                                            (0, tt.tZ)(I.View, {
                                                              className:
                                                                "".concat(
                                                                  m
                                                                    ? "checked"
                                                                    : "check"
                                                                ),
                                                              id: "AJGj",
                                                              onClick:
                                                                function () {
                                                                  return r.handleCheckRefundInsurance(
                                                                    e
                                                                  );
                                                                },
                                                            }),
                                                        ],
                                                      }),
                                                    ],
                                                  }),
                                                  e.refundShowInfos &&
                                                    (0, tt.BX)(I.View, {
                                                      className:
                                                        "detail-show-infos flex-center",
                                                      children: [
                                                        (0, tt.tZ)(I.Image, {
                                                          className: "icon",
                                                          src: e
                                                            .refundShowInfos[0]
                                                            .icon,
                                                        }),
                                                        (0, tt.tZ)(I.View, {
                                                          className: "desc",
                                                          children:
                                                            e.refundShowInfos[0]
                                                              .desc,
                                                        }),
                                                      ],
                                                    }),
                                                ],
                                              },
                                              ""
                                                .concat(e.key, "-")
                                                .concat(e.value)
                                            );
                                          }
                                        ),
                                        o.remindInfo &&
                                          (0, tt.tZ)(I.View, {
                                            className: "detail-remind",
                                            children: (0, tt.tZ)($r, {
                                              desc: o.remindInfo || "",
                                              "navigator-class": "navigator",
                                            }),
                                          }),
                                        o.notice &&
                                          (0, tt.tZ)(I.View, {
                                            className: "detail-notice",
                                            children: (0, tt.tZ)($r, {
                                              desc: o.notice || "",
                                              "item-class":
                                                "notice-rich-text-item",
                                              "navigator-class": "navigator",
                                            }),
                                          }),
                                        o.refundAppendProduct &&
                                          (0, tt.BX)(I.View, {
                                            className: "append-con",
                                            children: [
                                              (0, tt.tZ)(I.View, {
                                                className: "append-title",
                                                children:
                                                  o.refundAppendProduct.key,
                                              }),
                                              d.map(function (e, t) {
                                                return (0, tt.BX)(
                                                  I.View,
                                                  {
                                                    className:
                                                      "append-item space-between",
                                                    children: [
                                                      (0, tt.tZ)(I.View, {
                                                        className: "name",
                                                        children:
                                                          e.insuranceName,
                                                      }),
                                                      (0, tt.BX)(I.View, {
                                                        className: "price",
                                                        children: [
                                                          "￥",
                                                          e.insurancePrice,
                                                          (0, tt.tZ)(I.Text, {
                                                            className:
                                                              "iconfont ".concat(
                                                                e.checkFlag
                                                                  ? "ifont-radioed color-primary"
                                                                  : "ifont-radio"
                                                              ),
                                                            id: "AJGk",
                                                            onClick:
                                                              function () {
                                                                return r.handleCheck(
                                                                  e,
                                                                  t
                                                                );
                                                              },
                                                          }),
                                                        ],
                                                      }),
                                                    ],
                                                  },
                                                  ""
                                                    .concat(e.insuranceId, "-")
                                                    .concat(t)
                                                );
                                              }),
                                            ],
                                          }),
                                        (null === (t = o.sfxProduct) ||
                                        void 0 === t
                                          ? void 0
                                          : t.note) &&
                                          (null === (n = o.sfxProduct) ||
                                          void 0 === n
                                            ? void 0
                                            : n.type) === ae &&
                                          (0, tt.tZ)(ea.Z, {
                                            bannerInfo: {
                                              img: "https://images3.c-ctrip.com/ztrip/train_zhu/Tag_text_Anxintui.png",
                                              content: o.sfxProduct.note,
                                            },
                                            customizeStyle: "margin-bottom: "
                                              .concat(
                                                x().pxTransform(32),
                                                ";margin-left: "
                                              )
                                              .concat(
                                                x().pxTransform(-10),
                                                ";margin-right: "
                                              )
                                              .concat(
                                                x().pxTransform(-10),
                                                ";"
                                              ),
                                          }),
                                      ],
                                    }),
                                    o.refundTicketCalculateWaysToastInfos &&
                                      (0, tt.BX)(I.View, {
                                        className: "refund-calculate-ways",
                                        children: [
                                          (0, tt.BX)(I.View, {
                                            className: "title flex",
                                            children: [
                                              (0, tt.tZ)(I.View, {
                                                className: "time",
                                                children: "申请退票距发车时间",
                                              }),
                                              (0, tt.tZ)(I.View, {
                                                className: "price",
                                                children: "退票手续费",
                                              }),
                                            ],
                                          }),
                                          (
                                            o.refundTicketCalculateWaysToastInfos ||
                                            []
                                          ).map(function (e, t) {
                                            return (0,
                                            tt.BX)(I.View, { className: "ways-item flex ".concat(e.currentWayFlag ? "cur" : ""), children: [(0, tt.tZ)(I.View, { className: "time", children: e.applyTicketDaysDesc }), (0, tt.tZ)(I.View, { className: "price", children: e.refundFeeCalculateDesc }), !!e.currentWayFlag && (0, tt.tZ)(I.Image, { className: "cur-icon", src: "https://images3.c-ctrip.com/ztrip/train_xie/2023/05/img_tp_jt.png" })] }, "".concat(e.applyTicketDaysDesc, "-").concat(t));
                                          }),
                                        ],
                                      }),
                                  ],
                                }),
                                (0, tt.tZ)($r, {
                                  desc: o.desc || "",
                                  "item-class": "desc-rich-text-item",
                                  "navigator-class": "navigator",
                                }),
                              ],
                            }),
                            (0, tt.BX)(I.View, {
                              className: "dialog-btn-box flex",
                              children: [
                                (0, tt.tZ)(I.View, {
                                  className: "btn left flex flex-center",
                                  id: "AJGl",
                                  onClick: c,
                                  children: "取消",
                                }),
                                (0, tt.tZ)(I.View, {
                                  className: "btn right flex flex-center",
                                  id: "AJGm",
                                  onClick: function () {
                                    s({
                                      refundInfo: o,
                                      isReschedule: o.isReschedule,
                                      productIds: p,
                                      noRefundInsurance: !m,
                                    });
                                  },
                                  children: "确认退票",
                                }),
                              ],
                            }),
                          ],
                        }),
                      });
                    },
                  },
                ]),
                n
              );
            })(w.default.PureComponent),
            na = n(25958),
            ra = function (e) {
              var t = e.show,
                n = void 0 !== t && t,
                r = e.info,
                a = void 0 === r ? {} : r,
                i = e.showManualRefundEntry,
                o = void 0 !== i && i,
                c = e.onClose,
                s = void 0 === c ? function () {} : c,
                l = e.ubtTrace,
                u = void 0 === l ? function () {} : l,
                d = e.doMySelfAction,
                f = void 0 === d ? function () {} : d,
                m = e.inviteFriendAction,
                p = void 0 === m ? function () {} : m,
                h = e.skipArtificialRefund,
                g = void 0 === h ? function () {} : h,
                v = e.showInviteFriendBtn,
                T = void 0 === v || v;
              return (0, tt.tZ)(na.Z, {
                show: n,
                onClose: s,
                ubtTrace: u,
                children: (0, tt.BX)(I.View, {
                  className: "train-pre-refund-container",
                  children: [
                    (0, tt.BX)(I.View, {
                      className: "main-part",
                      children: [
                        (0, tt.tZ)(I.View, {
                          className: "tit",
                          children: a.title,
                        }),
                        (0, tt.tZ)(I.View, {
                          className: "txt",
                          children: (0, tt.tZ)(gr.ZtRichText, {
                            nodes: a.desc,
                          }),
                        }),
                        (0, tt.BX)(I.View, {
                          className: "button-box",
                          children: [
                            (0, tt.tZ)(I.Button, {
                              className: "btn btn-primary",
                              id: "AJGg",
                              onClick: f,
                              children: a.firstButton,
                            }),
                            T &&
                              a.secondtButton &&
                              (0, tt.tZ)(I.Button, {
                                className: "btn btn-line",
                                onClick: p,
                                openType: "share",
                                id: "refundShare",
                                children: a.secondtButton,
                              }),
                          ],
                        }),
                      ],
                    }),
                    o &&
                      a.manualRefundInfo &&
                      a.manualRefundInfo.title &&
                      (0, tt.BX)(I.View, {
                        className: "paotui-entry-part",
                        children: [
                          (0, tt.tZ)(I.View, {
                            className: "tit",
                            children: a.manualRefundInfo.title,
                          }),
                          (0, tt.BX)(I.View, {
                            className: "txt",
                            children: [
                              (0, tt.tZ)(I.Text, {
                                className: "way-tag",
                                children: "方式一",
                              }),
                              a.manualRefundInfo.theFirstWay,
                            ],
                          }),
                          (0, tt.BX)(I.View, {
                            className: "txt",
                            children: [
                              (0, tt.tZ)(I.Text, {
                                className: "way-tag",
                                children: "方式二",
                              }),
                              a.manualRefundInfo.theSecondWay,
                              (0, tt.tZ)(I.Text, {
                                className: "go-ask",
                                id: "AJGh",
                                onClick: function () {
                                  g(), s();
                                },
                                children: "去申请",
                              }),
                              (0, tt.tZ)(I.Text, {
                                className: "iconfont2 ifont2-arr",
                              }),
                            ],
                          }),
                        ],
                      }),
                  ],
                }),
              });
            },
            aa = n(31952),
            ia = function () {
              var e,
                t,
                n,
                r =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                a = r.show,
                i = void 0 !== a && a,
                o = r.info,
                c = void 0 === o ? {} : o,
                s = r.onClose,
                l = void 0 === s ? function () {} : s,
                u = r.doMySelfAction,
                d = void 0 === u ? function () {} : u,
                f = r.inviteFriendAction,
                m = void 0 === f ? function () {} : f;
              return (0, tt.BX)(gr.ZtDrawer, {
                className: "train-orderDetail-preReschedule-modal",
                show: i,
                onWrapClose: l,
                onClose: l,
                children: [
                  (0, tt.tZ)(I.View, { className: "title-icon" }),
                  (0, tt.tZ)(I.View, {
                    className: "title-desc",
                    children: c.title,
                  }),
                  (0, tt.tZ)(gr.ZtRichText, {
                    className: "desc",
                    nodes: c.desc,
                  }),
                  (null === (e = c.manualReScheduleInfo) ||
                  void 0 === e ||
                  null === (t = e.solutionWays) ||
                  void 0 === t
                    ? void 0
                    : t.length) > 0 &&
                    (0, tt.tZ)(I.View, {
                      className: "detail-con",
                      children: (0, tt.tZ)(aa.Z, {
                        tipList:
                          null === (n = c.manualReScheduleInfo) || void 0 === n
                            ? void 0
                            : n.solutionWays.map(function (e) {
                                return e.wayName;
                              }),
                      }),
                    }),
                  (0, tt.BX)(I.View, {
                    className: "bottom-view",
                    children: [
                      (0, tt.tZ)(I.Button, {
                        openType: "share",
                        id: "resignShare",
                        className: "btn left",
                        onClick: m,
                        children: c.firstButton,
                      }),
                      c.secondButton &&
                        (0, tt.tZ)(I.View, {
                          className: "btn right",
                          id: "AJGi",
                          onClick: d,
                          children: c.secondButton,
                        }),
                    ],
                  }),
                ],
              });
            },
            oa = n(92735),
            ca = n(54675),
            sa = n(3855),
            la = function (e) {
              var t = e.smartRSRecommendServiceInfo,
                n = e.onClose,
                r = e.onConfirm,
                a = e.oid,
                i = e.ubtTrace,
                o = e.pageId,
                c = O.Z.isNotEmptyObj(t) && -1 !== ne.indexOf(t.rescheduleType);
              if (
                (console.log("hasData--", c, t),
                (0, w.useEffect)(function () {
                  c &&
                    (null == i ||
                      i("235191", { orderId: "".concat(a), scene: t.series }));
                }, []),
                !c)
              )
                return null == n || n(), null;
              var s = function (e, t, n) {
                  if (!e && t) {
                    var r, a, i, o;
                    if (9 === n)
                      return void (
                        null === (i = (0, A.getCurrentPage)()) ||
                        void 0 === i ||
                        null === (o = i.navigateTo) ||
                        void 0 === o ||
                        o.call(i, {
                          url: "/pages/taroCRN/train/pages/ticketUpgradeDetail/index?oid=".concat(
                            t
                          ),
                        })
                      );
                    null === (r = (0, A.getCurrentPage)()) ||
                      void 0 === r ||
                      null === (a = r.navigateTo) ||
                      void 0 === a ||
                      a.call(r, { url: _e.ZP.getTrainGrabOrderDetailUrl(t) });
                  }
                },
                l = t.rescheduleType,
                u = t.realServicePrice,
                d = -1 != [5, 8, 51, 81].indexOf(l),
                f = "";
              switch (l) {
                case 7:
                case 71:
                  f = "".concat(u, "元/人");
                  break;
                case 9:
                case 91:
                case 10:
                  f = "共".concat(u, "元");
              }
              var m = {
                appointTitle: t.appointTitle || "",
                appointTags: t.appointTags || [],
                rescheduleType: l,
                tripInfoList: [
                  {
                    title: t.appointSubTitle || "",
                    desc:
                      d && O.Z.isEmptyObject(t.tupSmart)
                        ? "未抢到自动退全款"
                        : "",
                    priceDesc: f,
                    realServicePrice: u,
                    appointDetails: t.appointDetails,
                    tupSmart: t.tupSmart,
                  },
                ],
                rescheduleNotes: t.rescheduleNotes,
                realServicePrice: u,
              };
              return (0, tt.tZ)(sa.Z, {
                visible: !0,
                serviceInfo: m,
                onClose: function (e) {
                  e > 0 &&
                    (null == i ||
                      i("235203", {
                        PageId: o,
                        orderId: "".concat(a),
                        scene: t.series,
                      })),
                    n();
                },
                onReceiveService: function (e, n) {
                  var c =
                    arguments.length > 2 && void 0 !== arguments[2]
                      ? arguments[2]
                      : {};
                  if (
                    (null == i ||
                      i("235202", {
                        PageId: o,
                        orderId: "".concat(a),
                        scene: null == t ? void 0 : t.series,
                      }),
                    O.Z.isNotEmptyObj(t))
                  ) {
                    var l = {
                      type: e,
                      orderNumber: a,
                      appointType: n,
                      departStation: t.rescheduleDepartStation,
                      arrivalStation: t.rescheduleArriveStation,
                      seatList: [t.rescheduleSeatName],
                      trainNumList: [t.rescheduleTrainNumber],
                      speedNum: t.realServicePrice,
                      virtualSpeedNum: t.servicePrice,
                      appointSeat: (null == c ? void 0 : c.appointSeat) || "",
                    };
                    null != c && c.fromPage && (l.fromPage = c.fromPage),
                      (0, X.qHU)(l)
                        .then(function (t) {
                          if (1 === t.resultCode) {
                            if ((null == r || r(), t.isNeedPay))
                              return void qe.ZP.doPayment({
                                orderNumber: t.payOrderNumber,
                                business: "train",
                                title: "火车票订单",
                              })
                                .then(function () {
                                  s(t.isOfflineTicket, t.orderNumber, e);
                                })
                                .catch(function () {
                                  (0, A.getCurrentPage)().showCommonDialog(
                                    "支付失败"
                                  );
                                });
                            s(t.isOfflineTicket, t.orderNumber, e);
                          } else (0, A.showToast)(t.resultMessage || "确认改签下单失败，请稍后重试");
                        })
                        .catch(function (e) {
                          console.log(e);
                        });
                  }
                },
              });
            },
            ua = n(96196),
            da = (0, _.$j)(function (e) {
              return { orderInfo: e.orderModel.orderInfo };
            })(function (e) {
              var t = e.intercept43003Info,
                n = e.oid,
                r = e.orderInfo,
                a = e.onConfirm,
                i = e.onCancel,
                o = (function () {
                  var e = (0, p.Z)(
                    (0, m.Z)().mark(function e(t) {
                      return (0, m.Z)().wrap(function (e) {
                        for (;;)
                          switch ((e.prev = e.next)) {
                            case 0:
                              if (!r.payFlag) {
                                e.next = 5;
                                break;
                              }
                              return (e.next = 3), Qt(t);
                            case 3:
                              e.next = 7;
                              break;
                            case 5:
                              return (e.next = 7), tn(t);
                            case 7:
                              null == a || a();
                            case 8:
                            case "end":
                              return e.stop();
                          }
                      }, e);
                    })
                  );
                  return function (t) {
                    return e.apply(this, arguments);
                  };
                })();
              return (0,
              tt.tZ)(ua.Z, { visible: !0, data: t, orderNumber: n, isWaitPay: !(null == r || !r.payFlag), onCancel: i, onConfirm: o, ubtTrace: ge.ubtTrace });
            }),
            fa = w.default.memo(function (e) {
              var t = e.info,
                n = e.isShow,
                r = e.onClose,
                a = void 0 === r ? function () {} : r,
                i = e.ubtTrace,
                o = void 0 === i ? function () {} : i,
                c = e.orderNumber;
              if (
                ((0, w.useEffect)(
                  function () {
                    n &&
                      o("s_trn_z_trace_10650060639", {
                        exposureType: "normal",
                        bizKey: "z_mini_ordDetail_weCom_jourWelfare_pop_show",
                        orderNumber: c,
                      });
                  },
                  [n, c]
                ),
                !n || !S.default.isWechat)
              )
                return null;
              var s = t.backgroundImg,
                l = void 0 === s ? "" : s,
                u = t.buttonImg,
                d = void 0 === u ? "" : u,
                f = t.jumpUrl,
                m = void 0 === f ? "" : f;
              return (0, tt.tZ)(gr.ZtActivityPop, {
                show: n,
                onClose: a,
                onWrapClose: a,
                isShowClose: !0,
                children: (0, tt.BX)(I.View, {
                  className: "trian-order-wechat-friend-toast",
                  children: [
                    (0, tt.tZ)(I.View, {
                      children: (0, tt.tZ)(I.Image, {
                        className: "background-img",
                        src: l,
                      }),
                    }),
                    (0, tt.tZ)(I.View, {
                      id: "AJHE",
                      onClick: function () {
                        o("c_trn_z_10650060639", {
                          bizKey:
                            "z_mini_ordDetail_weCom_jourWelfare_pop_click",
                          orderNumber: c,
                        }),
                          O.Z.commonNavigator(m),
                          setTimeout(function () {
                            a();
                          }, 1e3);
                      },
                      children: (0, tt.tZ)(I.Image, {
                        className: "button-img",
                        src: d,
                      }),
                    }),
                  ],
                }),
              });
            }),
            ma = w.default.memo(function (e) {
              var t = e.isShow,
                n = void 0 !== t && t,
                r = e.content,
                a = e.onClose,
                i = void 0 === a ? function () {} : a;
              return r
                ? (0, tt.tZ)(gr.ZtActivityPop, {
                    show: n,
                    isShowClose: !0,
                    onWrapClose: i,
                    onClose: i,
                    children: (0, tt.BX)(I.View, {
                      className: "exchange-goods-dialog",
                      children: [
                        (0, tt.tZ)(I.View, {
                          className: "title",
                          children: r.title || r.toastTitle || "",
                        }),
                        (0, tt.tZ)(gr.ZtRichText, {
                          className: "sub-title",
                          nodes: r.subTitle || r.toastSubTitle || "",
                        }),
                        (0, tt.tZ)(I.Image, {
                          className: "img-operation",
                          src: r.img || r.toastImg || "",
                        }),
                        (0, tt.tZ)(I.View, {
                          className: "btn-confirm",
                          id: "AJGZ",
                          onClick: i,
                          children: "我知道了",
                        }),
                      ],
                    }),
                  })
                : (0, tt.tZ)(I.View, {});
            }),
            pa = w.default.memo(function (e) {
              var t = e.show,
                n = void 0 !== t && t,
                r = e.modalInfo,
                a = void 0 === r ? {} : r,
                i = e.onClickModalBtn,
                o = void 0 === i ? function () {} : i;
              return (0,
              tt.tZ)(I.View, { className: "smart-reschedule-modal", children: (0, tt.tZ)(gr.ZtDrawer, { show: n, isDefineHead: !0, onWrapClose: o, children: (0, tt.BX)(I.View, { className: "content flex-column flex-align-items-center", children: [(0, tt.tZ)(I.View, { className: "iconfont ifont-fail", id: "AJGw", onClick: o }), (0, tt.tZ)(I.Image, { className: "top-img", src: a.icon }), (0, tt.tZ)(gr.ZtRichText, { className: "title", nodes: a.title, space: "nbsp" }), (0, tt.tZ)(gr.ZtRichText, { className: "sub-tit", nodes: a.subTitle, space: "nbsp" }), (0, tt.BX)(I.View, { className: "station flex", children: [(0, tt.tZ)(I.Image, { className: "bg-img", src: "https://images3.c-ctrip.com/ztrip/train_zhu/img_ZNGQ_zjcp_bg.png" }), (0, tt.BX)(I.View, { className: "left flex-center flex-column", children: [(0, tt.tZ)(I.Text, { className: "sta-name", children: a.originInfo }), (0, tt.tZ)(I.Text, { className: "sta-desc", children: "改签前" })] }), (0, tt.tZ)(I.Image, { className: "middle", src: "https://images3.c-ctrip.com/ztrip/train_zhu/img_ZNGQ_zjcp_jiantou.png" }), (0, tt.BX)(I.View, { className: "right flex-center flex-column", children: [(0, tt.tZ)(I.Text, { className: "sta-name new", children: a.rescheduleInfo }), (0, tt.tZ)(I.Text, { className: "sta-desc", children: "改签后" }), (0, tt.tZ)(I.Text, { className: "tag", children: a.rescheduleTag })] })] }), (0, tt.tZ)(I.View, { className: "btn", id: "AJGx", onClick: o, children: a.buttonName })] }) }) });
            }),
            ha = w.default.memo(function (e) {
              var t = e.show,
                n = void 0 !== t && t,
                r = e.isTieyou,
                a = void 0 !== r && r,
                i = e.modalInfo,
                o = void 0 === i ? {} : i,
                c = e.onClose,
                s = void 0 === c ? function () {} : c,
                l = e.onClickRescheduleText,
                u = void 0 === l ? function () {} : l,
                d =
                  "https://images3.c-ctrip.com/ztrip/train_zhu/Tag_logo_znx".concat(
                    a ? "_ty" : "",
                    ".png"
                  ),
                f = (null == o ? void 0 : o.originTicketInfo) || {},
                m = (null == o ? void 0 : o.rescheduleTicketInfo) || {};
              return (0,
              tt.tZ)(I.Block, { children: n && (0, tt.tZ)(I.View, { className: "smart-reschedule-layer ".concat(S.default.zxTyStr), children: (0, tt.BX)(gr.ZtDrawer, { show: n, isDefineHead: !0, onWrapClose: s, children: [(0, tt.tZ)(I.View, { className: "close-icon", id: "AJGu", onClick: s }), (0, tt.BX)(I.View, { className: "content flex-align-items-center flex-column", children: [(0, tt.tZ)(I.View, { className: "title", children: o.title }), (0, tt.BX)(I.View, { className: "middle-cont", children: [(0, tt.BX)(I.View, { className: "top flex-align-items-center", children: [(0, tt.tZ)(I.Image, { className: "img", src: d }), (0, tt.tZ)(I.View, { className: "tit-txt", children: (0, tt.tZ)(gr.ZtRichText, { space: "nbsp", nodes: O.Z.convertAppTextToHtmlStr(o.toastTitle) }) })] }), (0, tt.BX)(I.View, { className: "bottom flex", children: [(0, tt.BX)(I.View, { className: "ticket-card origin", children: [(0, tt.tZ)(I.View, { className: "tit-item", children: "原车票" }), (0, tt.BX)(I.View, { className: "txt-item", children: [(0, tt.tZ)(I.Text, { children: "日期：" }), (0, tt.tZ)(I.Text, { children: f.departDateTime })] }), (0, tt.BX)(I.View, { className: "txt-item", children: [(0, tt.tZ)(I.Text, { children: "出发：" }), (0, tt.tZ)(I.Text, { children: f.departInfo })] }), (0, tt.BX)(I.View, { className: "txt-item", children: [(0, tt.tZ)(I.Text, { children: "到达：" }), (0, tt.tZ)(I.Text, { children: f.arriveInfo })] }), (0, tt.BX)(I.View, { className: "txt-item", children: [(0, tt.tZ)(I.Text, { children: "座席：" }), (0, tt.tZ)(I.Text, { children: f.seatName })] }), (0, tt.BX)(I.View, { className: "txt-item", children: [(0, tt.tZ)(I.Text, { children: "车次：" }), (0, tt.tZ)(I.Text, { children: f.trainNumber })] }), (0, tt.BX)(I.View, { className: "txt-item", children: [(0, tt.tZ)(I.Text, { children: "总价：" }), (0, tt.tZ)(I.Text, { children: f.price })] })] }), (0, tt.BX)(I.View, { className: "ticket-card new", children: [(0, tt.tZ)(I.Image, { className: "card-img", src: "https://images3.c-ctrip.com/ztrip/train_zhu/img_ZNGQ_alert_bg.png" }), (0, tt.BX)(I.View, { className: "tit-item flex-align-items-center", children: [(0, tt.tZ)(I.Text, { children: "改签后" }), (0, tt.tZ)(I.Text, { className: "tag", children: "新车票" })] }), (0, tt.BX)(I.View, { className: "txt-item ".concat(f.departDateTime != m.departDateTime ? "high-color" : ""), children: [(0, tt.tZ)(I.Text, { children: "日期：" }), (0, tt.tZ)(I.Text, { children: m.departDateTime })] }), (0, tt.BX)(I.View, { className: "txt-item ".concat(f.departInfo != m.departInfo ? "high-color" : ""), children: [(0, tt.tZ)(I.Text, { children: "出发：" }), (0, tt.tZ)(I.Text, { children: m.departInfo })] }), (0, tt.BX)(I.View, { className: "txt-item ".concat(f.arriveInfo != m.arriveInfo ? "high-color" : ""), children: [(0, tt.tZ)(I.Text, { children: "到达：" }), (0, tt.tZ)(I.Text, { children: m.arriveInfo })] }), (0, tt.BX)(I.View, { className: "txt-item ".concat(f.seatName != m.seatName ? "high-color" : ""), children: [(0, tt.tZ)(I.Text, { children: "座席：" }), (0, tt.tZ)(I.Text, { children: m.seatName }), m.seatTag && (0, tt.tZ)(I.Text, { className: "seat-tag", children: m.seatTag })] }), (0, tt.BX)(I.View, { className: "txt-item ".concat(f.trainNumber != m.trainNumber ? "high-color" : ""), children: [(0, tt.tZ)(I.Text, { children: "车次：" }), (0, tt.tZ)(I.Text, { children: m.trainNumber })] }), (0, tt.BX)(I.View, { className: "txt-item ".concat(f.price != m.price ? "high-color" : ""), children: [(0, tt.tZ)(I.Text, { children: "总价：" }), (0, tt.tZ)(I.Text, { children: m.price })] })] })] })] }), (0, tt.BX)(I.View, { className: "desc", children: [(0, tt.tZ)(I.Text, { children: o.remindInfo }), !!o.isHighReschedule && (0, tt.tZ)(I.Text, { className: "desc-color", id: "AJGv", onClick: u, children: "《查看改签说明》" })] })] })] }) }) });
            }),
            ga = (0, _.$j)(function (e) {
              return { orderTicketList: e.orderModel.orderTicketList || [] };
            })(
              w.default.memo(function (e) {
                var t = e.onCancel,
                  n = e.orderTicketList,
                  r = (0, w.useState)(0),
                  a = (0, Ce.Z)(r, 2),
                  i = a[0],
                  o = a[1],
                  c = n,
                  s = S.default.isTieyou,
                  l = function (e) {
                    o(e);
                  };
                return (0, tt.tZ)(I.View, {
                  className: "train-late-query-pop-share",
                  children: (0, tt.BX)(I.View, {
                    className: "pop-share-box",
                    children: [
                      (0, tt.BX)(I.View, {
                        className: "pop-share-hd",
                        children: [
                          (0, tt.tZ)(I.View, {
                            className: "btn-box",
                            id: "AJFb",
                            onClick: t,
                            "data-ubt-key": "wx_orderdetail_cancelLateQuery",
                            children: "取消",
                          }),
                          (0, tt.tZ)(I.View, {
                            className: "tit",
                            children: "选择正晚点查询行程",
                          }),
                        ],
                      }),
                      (0, tt.BX)(I.View, {
                        className: "pop-share-bd",
                        children: [
                          (0, tt.tZ)(I.View, {
                            className: "pop-share-select",
                            children: c.map(function (e, t) {
                              var n,
                                r =
                                  null === (n = e.ticketInfoList) ||
                                  void 0 === n
                                    ? void 0
                                    : n.map(function (e) {
                                        return e.passengerName;
                                      });
                              return (0,
                              tt.BX)(I.View, { className: "item " + (i === t ? "cur" : "") + " " + (s ? "ty" : "zx"), id: "AJFc", onClick: l.bind(void 0, t), "data-ubt-key": "wx_orderdetail_selectLateQuery", children: [(0, tt.tZ)(I.View, { className: "tit", children: e.fromStation + " - " + e.toStation + " " + e.trainNo }), (0, tt.BX)(I.View, { className: "txt", children: [(0, tt.tZ)(I.Text, { children: r[0] + (r.length > 1 ? "等" : "") }), e.fromDate + " " + e.fromTime] })] }, "index");
                            }),
                          }),
                          (0, tt.tZ)(I.View, {
                            className: "pop-share-btn",
                            children: (0, tt.tZ)(I.Button, {
                              className: "btn-primary",
                              hoverClass: "btn-primary_hover",
                              id: "AJFd",
                              onClick: function () {
                                null == t || t(),
                                  (function () {
                                    var e =
                                        arguments.length > 0 &&
                                        void 0 !== arguments[0]
                                          ? arguments[0]
                                          : {},
                                      t = e.trainNo,
                                      n = void 0 === t ? "" : t,
                                      r = e.fromStation,
                                      a = void 0 === r ? "" : r,
                                      i = e.toStation,
                                      o = void 0 === i ? "" : i,
                                      c = e.fromDate,
                                      s = void 0 === c ? "" : c,
                                      l = M()(s).format("M月D日"),
                                      u = 3,
                                      d =
                                        "/pages/trainminor/zhengwandian/list?trainNo="
                                          .concat(n, "&fromStation=")
                                          .concat(a, "&toStation=")
                                          .concat(o, "&monthDay=")
                                          .concat(l, "&isFrom=")
                                          .concat(u);
                                    ge.navigateTo({ url: d });
                                  })(c[i]);
                              },
                              "data-ubt-key": "wx_orderdetail_trip_ZWD",
                              children: "立即查询",
                            }),
                          }),
                        ],
                      }),
                    ],
                  }),
                });
              })
            ),
            va = function (e) {
              var t,
                n = e.vipInfo,
                r = e.onClose;
              if (
                null == n ||
                null === (t = n.showVipInfoEntity) ||
                void 0 === t ||
                !t.showVipRightList
              )
                return null;
              var a = function () {
                ge.navigateTo({ url: "/pages/usercenter/member/member" }), r();
              };
              return (0, tt.tZ)(I.View, {
                className: "tdv2-VipRightsInfoToast backmask active",
                id: "AJFe",
                onClick: r,
                children: (0, tt.BX)(I.View, {
                  className: "pop-botm pop-member-equity active",
                  children: [
                    (0, tt.tZ)(I.View, {
                      className: "pop-member-equity-hd",
                      children:
                        n &&
                        n.showVipInfoEntity &&
                        n.showVipInfoEntity.bgUrl &&
                        (0, tt.tZ)(I.View, {
                          className: "member-card",
                          style:
                            "background: url(" +
                            n.showVipInfoEntity.bgUrl +
                            ") no-repeat; background-size: 100%;",
                          children: (0, tt.tZ)(I.View, {
                            className: "tit",
                            children: n.showVipInfoEntity.title,
                          }),
                        }),
                    }),
                    n &&
                      n.showVipInfoEntity &&
                      n.showVipInfoEntity.showVipRightList &&
                      n.showVipInfoEntity.showVipRightList[0] &&
                      (0, tt.tZ)(I.Block, {
                        children: n.showVipInfoEntity.showVipRightList.map(
                          function (e) {
                            return (0, tt.BX)(
                              I.Block,
                              {
                                children: [
                                  (0, tt.tZ)(I.View, {
                                    className: "pop-member-equity-bd",
                                    children: e.specialRightList.map(function (
                                      e
                                    ) {
                                      return (0, tt.BX)(
                                        I.Block,
                                        {
                                          children: [
                                            (0, tt.tZ)(I.View, {
                                              className: "tit",
                                              children: (0, tt.tZ)(
                                                gr.ZtRichText,
                                                { nodes: e.newTitle }
                                              ),
                                            }),
                                            e &&
                                              e.showVipRightDetailList &&
                                              e.showVipRightDetailList.length >
                                                0 &&
                                              (0, tt.tZ)(I.View, {
                                                className: "equity-list",
                                                children:
                                                  e.showVipRightDetailList.map(
                                                    function (e) {
                                                      return (0, tt.BX)(
                                                        I.View,
                                                        {
                                                          className: "item",
                                                          children: [
                                                            (0, tt.tZ)(
                                                              I.Image,
                                                              {
                                                                src: e.iconUrl,
                                                                className:
                                                                  "icon-equity",
                                                              }
                                                            ),
                                                            (0, tt.tZ)(I.View, {
                                                              className: "cont",
                                                              children:
                                                                (e.title ||
                                                                  "") +
                                                                (e.subTitle ||
                                                                  ""),
                                                            }),
                                                            (0, tt.tZ)(I.View, {
                                                              className:
                                                                "rbox color-red",
                                                              children: (0,
                                                              tt.tZ)(
                                                                gr.ZtRichText,
                                                                {
                                                                  nodes:
                                                                    e.newSaveValue,
                                                                }
                                                              ),
                                                            }),
                                                          ],
                                                        },
                                                        "title"
                                                      );
                                                    }
                                                  ),
                                              }),
                                          ],
                                        },
                                        "title"
                                      );
                                    }),
                                  }),
                                  (0, tt.tZ)(I.View, {
                                    className: "pop-member-equity-btn",
                                    id: "AJFf",
                                    onClick: a,
                                    children: (0, tt.tZ)(I.Button, {
                                      className: "btn-go",
                                      style:
                                        "background: url(" +
                                        n.showVipInfoEntity.btnUrl +
                                        ") no-repeat; background-size: 100%;",
                                      children: "前往会员中心",
                                    }),
                                  }),
                                ],
                              },
                              "title"
                            );
                          }
                        ),
                      }),
                  ],
                }),
              });
            },
            Ta = 0,
            Za = 3,
            wa = w.default.memo(function (e) {
              var t = e.tripInfo,
                n = void 0 === t ? null : t,
                r = e.isFromDrawer,
                a = void 0 !== r && r,
                i = e.smartType,
                o = void 0 === i ? Ta : i;
              if (!n) return (0, tt.tZ)(tt.HY, {});
              var c = function (e) {
                  var t = "normal-sty";
                  switch (e) {
                    case "normal":
                      t = "normal-sty";
                      break;
                    case "fail":
                      t = "fail-sty";
                      break;
                    case "middle":
                      t = "middle-sty";
                  }
                  return t;
                },
                s = function (e) {
                  switch (e) {
                    case 1:
                      return "已出票";
                    case 2:
                      return "抢票中";
                    case 3:
                      return "出票失败";
                    default:
                      return "";
                  }
                },
                l = n || {},
                u = l.firstStatus,
                d = l.secondStatus,
                f = l.firstTicketSeat,
                m = l.secondTicketSeat,
                p = l.departStation,
                h = l.middleStation,
                g = l.arriveStation,
                v = l.departTime,
                T = l.middleTime,
                Z = l.arriveTime,
                w = l.firstArriveTime,
                N = l.secondDepartTime,
                b = u === d && 1 === u,
                x = b ? f : s(u),
                k = b ? m : s(d),
                y = 1 === u ? "normal" : "fail",
                C = 1 === d ? "normal" : "fail";
              return (0,
              tt.BX)(I.View, { className: "compose-ticket-trip-info flex-align-items-center ".concat(a ? "f-drawer" : ""), children: [(0, tt.BX)(I.View, { className: "from", children: [(0, tt.tZ)(I.View, { className: "time", children: v }), (0, tt.tZ)(I.View, { className: "tip-box", children: "上车" }), (0, tt.tZ)(I.View, { className: "station", children: p })] }), (0, tt.BX)(I.View, { className: "mid", children: [o === Ta && (0, tt.tZ)(I.View, { className: "time", children: T }), o === Za && (0, tt.BX)(I.View, { className: "multi-time flex-align-items-center", children: [(0, tt.tZ)(I.View, { className: "time mr40", children: w }), (0, tt.tZ)(I.View, { className: "time", children: N })] }), (0, tt.tZ)(I.View, { className: "tip-box ".concat(c("middle")), children: o === Ta ? "车内换座" : "同站中转" }), (0, tt.tZ)(I.View, { className: "station", children: h })] }), (0, tt.BX)(I.View, { className: "to", children: [(0, tt.tZ)(I.View, { className: "time", children: Z }), (0, tt.tZ)(I.View, { className: "tip-box", children: "下车" }), (0, tt.tZ)(I.View, { className: "station", children: g })] }), (0, tt.BX)(I.View, { className: "trip-tips flex", children: [(0, tt.tZ)(I.View, { className: "line" }), (0, tt.tZ)(I.View, { className: "flex-1 flex-center first-trip", children: (0, tt.tZ)(I.View, { className: "tip-box ".concat(c(y)), children: x }) }), (0, tt.tZ)(I.View, { className: "flex-1 flex-center second-trip", children: (0, tt.tZ)(I.View, { className: "tip-box ".concat(c(C)), children: k }) })] })] });
            }),
            Na = w.default.memo(function (e) {
              var t = e.content,
                n = void 0 === t ? "" : t;
              return n
                ? (0, tt.BX)(I.View, {
                    className: "smart-suprise-banner flex",
                    children: [
                      (0, tt.tZ)(I.Image, {
                        className: "tag",
                        src: "https://images3.c-ctrip.com/ztrip/train_zhu/Tag_znx_jxcp.png",
                      }),
                      (0, tt.tZ)(gr.ZtRichText, {
                        className: "desc-txt",
                        nodes: n,
                      }),
                    ],
                  })
                : (0, tt.tZ)(tt.HY, {});
            }),
            ba = n(12604),
            xa = 0,
            ka = 1,
            ya = 2,
            Ca = 3,
            Sa = 11,
            _a = 12,
            Ia = 13,
            Va = w.default.memo(function (e) {
              var t,
                n = e.visible,
                r = void 0 !== n && n,
                a = e.tripDetail,
                i = void 0 === a ? null : a,
                o = e.onClose,
                c = void 0 === o ? function () {} : o;
              if (!i) return (0, tt.tZ)(tt.HY, {});
              var s = i.tripInfo || {},
                l = s.firstStatus,
                u = s.secondStatus,
                d = s.notes,
                f = s.dateDesc,
                m = s.headTitle,
                p = s.subTitle,
                h = l === u && 1 === l,
                g = i.type,
                v = i.isManualShow,
                T = ka === g || _a === g || ya === g || Ia === g,
                Z = xa === g || Sa === g,
                w = T || (xa === g && h),
                N = T && v ? p : i.subTitle,
                b = g === Ca;
              return (0, tt.tZ)(gr.ZtDrawer, {
                show: r,
                isDefineHead: !0,
                className: "smart-cs-trip-drawer ".concat(
                  v ? "manual-show" : ""
                ),
                onWrapClose: c,
                children: (0, tt.BX)(I.View, {
                  className: "content",
                  children: [
                    (0, tt.tZ)(I.Image, {
                      className: "close-icon",
                      src: "https://images3.c-ctrip.com/ztrip/train_zhu/icon_close_circle_black.png",
                      id: "AJGr",
                      onClick: c,
                    }),
                    !!m &&
                      (0, tt.tZ)(I.View, {
                        className: "drawer-tit",
                        children: m,
                      }),
                    !!i.title &&
                      (0, tt.tZ)(gr.ZtRichText, {
                        className: "drawer-tit",
                        nodes: i.title,
                      }),
                    !!i.notice &&
                      (0, tt.tZ)(gr.ZtRichText, {
                        className: "drawer-sub-tit",
                        nodes: i.notice,
                      }),
                    (0, tt.BX)(I.View, {
                      className: "main-box ".concat(w ? "mt108" : ""),
                      children: [
                        w && (0, tt.tZ)(Na, { content: N }),
                        (0, tt.BX)(I.View, {
                          className: "trip-box",
                          children: [
                            (0, tt.tZ)(I.View, {
                              className: "tit",
                              children: f,
                            }),
                            Z &&
                              (0, tt.tZ)(wa, {
                                tripInfo: i.tripInfo,
                                isFromDrawer: !0,
                              }),
                            T &&
                              (0, tt.tZ)(ba.Z, {
                                tripInfo: i.tripInfo,
                                type: (function () {
                                  var e = 0;
                                  return (
                                    ka === g || _a === g
                                      ? (e = 1)
                                      : (ya !== g && Ia !== g) || (e = 2),
                                    e
                                  );
                                })(),
                              }),
                            b &&
                              (0, tt.tZ)(wa, {
                                tripInfo: i.tripInfo,
                                isFromDrawer: !0,
                                smartType: Ca,
                              }),
                            (null == d ? void 0 : d.length) > 0 &&
                              (0, tt.tZ)(I.View, {
                                className: "inner-desc-box",
                                children: d.map(function (e, t) {
                                  return (0,
                                  tt.tZ)(gr.ZtRichText, { className: "d-item flex", nodes: e }, t);
                                }),
                              }),
                          ],
                        }),
                      ],
                    }),
                    (null === (t = i.notes) || void 0 === t
                      ? void 0
                      : t.length) > 0 &&
                      (0, tt.tZ)(I.View, {
                        className: "desc-box",
                        children: i.notes.map(function (e, t) {
                          return (0,
                          tt.tZ)(I.View, { className: "d-item flex", children: e }, t);
                        }),
                      }),
                    !v &&
                      (0, tt.tZ)(I.Button, {
                        className: "btn",
                        id: "AJGs",
                        onClick: c,
                        children: "知道了",
                      }),
                  ],
                }),
              });
            }),
            Ra = n(26498),
            Da = function (e) {
              var t = e.visible,
                n = void 0 !== t && t,
                r = e.onClose,
                a = e.validPassengers,
                i = void 0 === a ? [] : a,
                o = e.freedPassengers,
                c = void 0 === o ? [] : o,
                s = e.onConfirm,
                l = (0, w.useState)([]),
                u = (0, Ce.Z)(l, 2),
                d = u[0],
                f = u[1],
                h = (0, w.useState)(null),
                g = (0, Ce.Z)(h, 2),
                v = g[0],
                T = g[1],
                Z = (0, w.useState)(null),
                N = (0, Ce.Z)(Z, 2),
                k = N[0],
                C = N[1],
                S = (function () {
                  var e = (0, p.Z)(
                    (0, m.Z)().mark(function e() {
                      var t;
                      return (0, m.Z)().wrap(function (e) {
                        for (;;)
                          switch ((e.prev = e.next)) {
                            case 0:
                              return (
                                (0, A.showLoading)(),
                                (e.next = 3),
                                _e.ZP.getFreeKidsFromCommonPassengers()
                              );
                            case 3:
                              (t = e.sent), (0, A.hideLoading)(), f(t);
                            case 6:
                            case "end":
                              return e.stop();
                          }
                      }, e);
                    })
                  );
                  return function () {
                    return e.apply(this, arguments);
                  };
                })();
              (0, w.useEffect)(function () {
                S();
              }, []),
                (0, w.useEffect)(
                  function () {
                    C(i[0]);
                  },
                  [i]
                );
              var _ = function () {
                  b.eventCenter.once(y.n.PASSENGER_EDIT_SUBMIT, S),
                    x().navigateTo({
                      url: "".concat(
                        _e.ZP.getTrainPsgUrl(),
                        "?defaultPasType=2"
                      ),
                    });
                },
                V = d.length <= 0,
                R = !(k && v);
              return (0, tt.BX)(gr.ZtDrawer, {
                show: n,
                onClose: r,
                title: "选择儿童乘客(6岁以下)",
                isShowClose: !1,
                className: "to-addchild-layer",
                maxHeight: "none",
                children: [
                  (0, tt.tZ)(I.View, {
                    className: "iconfont2 ifont2-close close-btn",
                    id: "AJGU",
                    onClick: r,
                  }),
                  (0, tt.BX)(I.View, {
                    className: "to-addchild-content ".concat(V ? "empty" : ""),
                    children: [
                      (0, tt.tZ)(I.View, {
                        className: "wrapper",
                        style: {
                          marginBottom: x().pxTransform(16),
                          fontSize: x().pxTransform(22),
                          padding: ""
                            .concat(x().pxTransform(22), " ")
                            .concat(x().pxTransform(36)),
                          color: "#666666",
                          fontWeight: "bold",
                        },
                        children: (0, tt.tZ)(gr.ZtRichText, {
                          nodes:
                            "<font color='#FD9227'>出行提醒</font>：携带儿童出行需持有效证件（身份证、户口本或出生医学证明等）",
                        }),
                      }),
                      (0, tt.BX)(I.View, {
                        className: "wrapper",
                        children: [
                          (0, tt.tZ)(I.View, {
                            className: "title",
                            children: "跟随成人",
                          }),
                          (0, tt.tZ)(I.ScrollView, {
                            className: "psg-list",
                            scrollX: !0,
                            children: i.map(function (e, t) {
                              return (0, tt.BX)(
                                I.View,
                                {
                                  className: "li ".concat(
                                    e === k ? "active" : ""
                                  ),
                                  id: "AJGV",
                                  onClick: function () {
                                    C(e);
                                  },
                                  children: [
                                    e,
                                    e === k &&
                                      (0, tt.tZ)(I.Text, {
                                        className:
                                          "active-icon iconfont2 ifont2-yixuanzhe",
                                      }),
                                  ],
                                },
                                t
                              );
                            }),
                          }),
                        ],
                      }),
                      V
                        ? (0, tt.BX)(I.View, {
                            className:
                              "wrapper empty-box flex flex-column flex-center",
                            style: { marginTop: "8px" },
                            catchMove: !0,
                            children: [
                              (0, tt.tZ)(I.Image, {
                                className: "empty-image",
                                src: "https://images3.c-ctrip.com/ztrip/train.song/order_details/Marketing/cpp@3x.png",
                                mode: "aspectFit",
                              }),
                              (0, tt.tZ)(I.View, {
                                className: "empty-txt",
                                children: "暂无相关乘客~",
                              }),
                              (0, tt.BX)(I.View, {
                                className: "add-btn-empty flex flex-center",
                                children: [
                                  (0, tt.tZ)(I.Text, {
                                    className: "addicon iconfont2 ifont2-add",
                                  }),
                                  (0, tt.tZ)(I.Text, {
                                    className: "txt",
                                    id: "AJGW",
                                    onClick: _,
                                    children: "新增儿童乘客",
                                  }),
                                ],
                              }),
                            ],
                          })
                        : (0, tt.BX)(I.Block, {
                            children: [
                              (0, tt.BX)(I.View, {
                                className: "wrapper",
                                style: { marginTop: "8px", padding: "16px" },
                                catchMove: !0,
                                children: [
                                  (0, tt.tZ)(I.ScrollView, {
                                    className: "kid-list",
                                    scrollY: !0,
                                    children: d.map(function (e, t) {
                                      var n, r;
                                      return (0, tt.BX)(
                                        I.View,
                                        {
                                          className: "li ".concat(
                                            (null == v
                                              ? void 0
                                              : v.PassengerID) === e.PassengerID
                                              ? "active"
                                              : "",
                                            " flex flex-center"
                                          ),
                                          children: [
                                            (0, tt.BX)(I.View, {
                                              className:
                                                "info flex-1 flex flex-column",
                                              children: [
                                                (0, tt.BX)(I.View, {
                                                  className:
                                                    "title flex flex-center",
                                                  style: {
                                                    justifyContent:
                                                      "flex-start",
                                                  },
                                                  children: [
                                                    (0, tt.tZ)(I.View, {
                                                      className: "name",
                                                      children: e.pasName,
                                                    }),
                                                    (0, tt.tZ)(I.View, {
                                                      className: "type",
                                                      children: "儿童票",
                                                    }),
                                                  ],
                                                }),
                                                (0, tt.tZ)(I.View, {
                                                  className: "desc",
                                                  children: ""
                                                    .concat(
                                                      null === (n = e.idcard) ||
                                                        void 0 === n
                                                        ? void 0
                                                        : n.text,
                                                      " "
                                                    )
                                                    .concat(
                                                      null === (r = e.idcard) ||
                                                        void 0 === r
                                                        ? void 0
                                                        : r.showCode
                                                    ),
                                                }),
                                              ],
                                            }),
                                            (0, tt.tZ)(I.View, {
                                              className: "handle",
                                              children: c.includes(e.pasName)
                                                ? (0, tt.tZ)(I.Text, {
                                                    className: "handle-text",
                                                    children: "已申报",
                                                  })
                                                : (0, tt.tZ)(Ra.Z, {
                                                    id: "AJHg",
                                                    className: "radio",
                                                    useCustomView: !0,
                                                    checked:
                                                      (null == v
                                                        ? void 0
                                                        : v.PassengerID) ===
                                                      e.PassengerID,
                                                    onCheckedView: function () {
                                                      return (0, tt.tZ)(
                                                        I.Text,
                                                        {
                                                          className:
                                                            "checked iconfont2 ifont2-checkboxed",
                                                        }
                                                      );
                                                    },
                                                    onClick: function () {
                                                      T(e);
                                                    },
                                                    onCancelView: function () {
                                                      return (0, tt.tZ)(
                                                        I.Text,
                                                        {
                                                          className:
                                                            "check iconfont2 ifont2-checkbox",
                                                        }
                                                      );
                                                    },
                                                  }),
                                            }),
                                          ],
                                        },
                                        t
                                      );
                                    }),
                                  }),
                                  (0, tt.BX)(I.View, {
                                    className: "add-btn flex flex-center",
                                    id: "AJGX",
                                    onClick: _,
                                    children: [
                                      (0, tt.tZ)(I.Text, {
                                        className:
                                          "addicon iconfont2 ifont2-add",
                                      }),
                                      (0, tt.tZ)(I.Text, {
                                        children: "新增儿童乘客",
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                              (0, tt.tZ)(I.View, {
                                className: "btn-submit-layer",
                                children: (0, tt.tZ)(I.View, {
                                  className: "btn-submit ".concat(
                                    R ? "disabled" : ""
                                  ),
                                  id: "AJGY",
                                  onClick: function () {
                                    v
                                      ? k
                                        ? s({ choosenPas: k, choosenKid: v })
                                        : (0, A.showToast)("请选择成人")
                                      : (0, A.showToast)("请选择儿童");
                                  },
                                  children: "确认选择",
                                }),
                              }),
                            ],
                          }),
                    ],
                  }),
                ],
              });
            },
            Pa = function (e) {
              var t = e.onClose,
                n = e.visible,
                r = e.info,
                a = e.onlineRefund,
                i = e.helpRefund;
              if (!n) return null;
              var o = r.title,
                c = void 0 === o ? "" : o,
                s = r.titleDesc,
                l = void 0 === s ? "" : s,
                u = r.refundWays,
                d = void 0 === u ? [] : u;
              return (0, tt.BX)(gr.ZtDrawer, {
                show: n,
                onWrapClose: t,
                onClose: t,
                className: "tdv2-CashPayOrderRefundToast",
                title: c,
                closeIconParams: { size: 25, color: "rgba(204, 204, 204)" },
                drawerStyle: { borderRadius: "40rpx 40rpx 0 0" },
                children: [
                  (0, tt.tZ)(I.View, {
                    className: "desc flex flex-center",
                    children: (0, tt.tZ)(gr.ZtRichText, {
                      space: "nbsp",
                      nodes: O.Z.convertAppTextToHtmlStr(l),
                    }),
                  }),
                  (0, tt.tZ)(I.View, {
                    className: "refund-way-content flex",
                    children:
                      d.length > 0 &&
                      d.map(function (e, t) {
                        return (0, tt.BX)(
                          I.View,
                          {
                            className:
                              "refund-way-item flex flex-center flex-column",
                            children: [
                              (0, tt.tZ)(I.Image, {
                                src: e.iconUrl,
                                class: "icon",
                              }),
                              (0, tt.tZ)(I.View, {
                                className: "title",
                                children: e.title,
                              }),
                              (0, tt.tZ)(I.View, {
                                className: "price",
                                children: e.priceText,
                              }),
                              (0, tt.tZ)(I.View, {
                                className: "split-dash-line",
                              }),
                              e.desc &&
                                e.desc.length > 0 &&
                                e.desc.map(function (e, t) {
                                  return (0,
                                  tt.tZ)(I.View, { className: "desc", children: (0, tt.tZ)(gr.ZtRichText, { space: "nbsp", nodes: O.Z.convertAppTextToHtmlStr(e) }) }, "refund_way_desc_".concat(t));
                                }),
                              (0, tt.tZ)(I.View, {
                                className: "btn flex flex-center",
                                id: "AJFX",
                                onClick: function () {
                                  return (function (e) {
                                    1 === e ? a() : i();
                                  })(e.type);
                                },
                                children: e.buttonName,
                              }),
                            ],
                          },
                          "cashPay_refund_way_".concat(t)
                        );
                      }),
                  }),
                ],
              });
            },
            Aa = n(72012),
            Ba = function (e) {
              var t,
                n = e.visible,
                r = e.ticketInfoList,
                a = void 0 === r ? [] : r,
                i = e.onClose,
                o = e.onCollectTicket,
                c = e.onShareTicket,
                s = e.onChangePasInfo,
                l = e.addTicket,
                u = e.checkedTemplate,
                d = e.shareORCodeImage,
                f = e.ubtTrace,
                m = e.pageId,
                p = e.userTicketCovers,
                h = e.handleGetPaidCoverInfo,
                g = e.ticketsInfo,
                v = [];
              a.map(function (e, t) {
                return v.push(t);
              });
              var T =
                  null ===
                    (t = ((null == p
                      ? void 0
                      : p.filter(function (e) {
                          return (
                            e.ticketNum ===
                            (null == l ? void 0 : l.ticketLongNum)
                          );
                        })) || [])[0]) || void 0 === t
                    ? void 0
                    : t.coverInfo,
                Z = O.Z.getIsGDCTrain((null == l ? void 0 : l.trainNum) || "")
                  ? mn.a8.GDC
                  : mn.a8.KTZ,
                N = (0, w.useState)(null),
                b = (0, Ce.Z)(N, 2),
                x = b[0],
                k = b[1],
                y = {
                  PageId: m,
                  orderid: null == l ? void 0 : l.orderId,
                  TicketId: g
                    .map(function (e) {
                      return e.ticketLongNum;
                    })
                    .join(","),
                  CardType: ""
                    .concat(mn.ZZ[Z])
                    .concat(x ? (null == x ? void 0 : x.coverName) : "默认"),
                };
              if (!a.length || !n) return h(null), (0, tt.tZ)(I.View, {});
              var C = function () {
                f(
                  "TZWBuyOrderDetail_CollectTicket_Click_click",
                  (0, R.Z)((0, R.Z)({}, y), {}, { clickType: "0" })
                ),
                  i();
              };
              return (0, tt.BX)(I.View, {
                className: "tdv2-addTrainTicketToast",
                children: [
                  (0, tt.tZ)(I.View, {
                    className: "show-ticket-contet",
                    children: (0, tt.tZ)(Aa.Z, {
                      tempKey: Z,
                      ticket: l,
                      checkedTemplate: u,
                      shareQRCodeImageUrl: d,
                      onCanCel: C,
                      isShowFlipButton: !0,
                      ubtTrace: f,
                      pageId: m,
                      coverInfoList: T,
                      handleGetPaidCoverInfo: function (e) {
                        f("TZWBuyOrderDetail_CollectTicket_exposure", {
                          PageId: m,
                          orderid: null == l ? void 0 : l.orderId,
                          TicketId: g
                            .map(function (e) {
                              return e.ticketLongNum;
                            })
                            .join(","),
                          CardType: ""
                            .concat(mn.ZZ[Z])
                            .concat(
                              e ? (null == e ? void 0 : e.coverName) : "默认"
                            ),
                        }),
                          k(e),
                          h(e);
                      },
                      defaultTempKey: Z,
                    }),
                  }),
                  (0, tt.BX)(gr.ZtDrawer, {
                    show: !0,
                    onClose: C,
                    title: "添加至火车票夹",
                    closeIconParams: {
                      type: "cancel",
                      size: "25px",
                      color: "#c3c3c3",
                    },
                    children: [
                      a.length > 1 &&
                        (0, tt.tZ)(I.View, {
                          className: "change-pas",
                          id: "AJFU",
                          onClick: function () {
                            return s(l);
                          },
                          children: "切换乘客",
                        }),
                      (0, tt.BX)(I.View, {
                        className: "container flex flex-center flex-column",
                        children: [
                          (0, tt.BX)(I.View, {
                            className: "desc",
                            children: [
                              "车票将",
                              (0, tt.tZ)(I.Text, {
                                className: "high",
                                children: "永久保存",
                              }),
                              "至火车票夹",
                            ],
                          }),
                          (0, tt.tZ)(I.View, {
                            className: "desc",
                            children: "（正常情况下车票订单1个月将失效）",
                          }),
                          (0, tt.tZ)(I.View, {
                            className: "desc-tips",
                            children:
                              "*纪念车票仅个人收藏，不可作为真实车票使用",
                          }),
                        ],
                      }),
                      (0, tt.BX)(I.View, {
                        className: "btn-content flex",
                        children: [
                          (0, tt.tZ)(I.View, {
                            className: "left btn",
                            id: "AJFV",
                            onClick: function () {
                              f(
                                "TZWBuyOrderDetail_CollectTicket_Click_click",
                                (0, R.Z)(
                                  (0, R.Z)({}, y),
                                  {},
                                  { clickType: "2" }
                                )
                              ),
                                c(a);
                            },
                            children: "分享车票",
                          }),
                          (0, tt.tZ)(I.View, {
                            className: "right btn",
                            id: "AJFW",
                            onClick: function () {
                              f(
                                "TZWBuyOrderDetail_CollectTicket_Click_click",
                                (0, R.Z)(
                                  (0, R.Z)({}, y),
                                  {},
                                  { clickType: "1" }
                                )
                              );
                              var e = [];
                              a.map(function (t) {
                                var n = { ticketNum: t.ticketLongNum };
                                e.push(n);
                              }),
                                o(e);
                            },
                            children: "收下车票".concat(
                              a.length > 1
                                ? "("
                                    .concat(a.length, "/")
                                    .concat(a.length, ")")
                                : ""
                            ),
                          }),
                        ],
                      }),
                    ],
                  }),
                ],
              });
            },
            Oa = n(9416),
            Fa = function (e) {
              var t = e.visible,
                n = e.data,
                r = e.onClose;
              (0, w.useEffect)(function () {
                [
                  le.STUDENT_TICKET_FAIL_DISCOUNT_RANGE_WRONG,
                  le.STUDENT_TICKET_FAIL_DISCOUNT_TIMES_LOST,
                ].includes(1 * (null == n ? void 0 : n.type)) &&
                  ge.ubtTrace("TZWBuyOrderDetail_StuFailPop_exposure", {
                    PageId: ge.getPage().pageId,
                    PopupType: 1 * (null == n ? void 0 : n.type),
                  });
              }, []);
              var a = (function () {
                var e = (0, p.Z)(
                  (0, m.Z)().mark(function e() {
                    var t, r, i, o, c, s;
                    return (0, m.Z)().wrap(function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            (0, A.showLoading)(), (t = []);
                            try {
                              t =
                                "string" == typeof n.passengerNameList
                                  ? JSON.parse(n.passengerNameList)
                                  : n.passengerNameList;
                            } catch (e) {}
                            return (
                              (e.next = 5),
                              (0, Oa.Kt)({
                                orderNumber: ge.getPage().oid,
                                type: 1,
                                studentNeedRebookPassengerInfos: (t || []).map(
                                  function (e) {
                                    return { passengerName: e };
                                  }
                                ),
                              })
                            );
                          case 5:
                            if (
                              ((r = e.sent),
                              (i = r.orderNumber),
                              (o = r.resultCode),
                              (c = r.resultMessage),
                              (s = r.riskOrderNumber),
                              (0, A.hideLoading)(),
                              1 === o)
                            ) {
                              e.next = 15;
                              break;
                            }
                            if (!s) {
                              e.next = 14;
                              break;
                            }
                            return e.abrupt(
                              "return",
                              ge.showMultiButtonDialog({
                                content:
                                  c || "您有待支付订单，请先取消后再重试",
                                leftButtonName: "我知道了",
                                rightButtonName: "取消并重试",
                                onRightButtonClick: (function () {
                                  var e = (0, p.Z)(
                                    (0, m.Z)().mark(function e() {
                                      var t;
                                      return (0, m.Z)().wrap(
                                        function (e) {
                                          for (;;)
                                            switch ((e.prev = e.next)) {
                                              case 0:
                                                return (
                                                  (e.prev = 0),
                                                  (0, A.showLoading)(),
                                                  (e.next = 4),
                                                  (0, X.FHX)({
                                                    orderNumber: s,
                                                    partnerName:
                                                      S.default.partner,
                                                  })
                                                );
                                              case 4:
                                                if (
                                                  ((t = e.sent),
                                                  (0, A.hideLoading)(),
                                                  1 === t.resultCode)
                                                ) {
                                                  e.next = 8;
                                                  break;
                                                }
                                                throw "取消失败";
                                              case 8:
                                                return e.abrupt("return", a());
                                              case 11:
                                                (e.prev = 11),
                                                  (e.t0 = e.catch(0)),
                                                  (0, A.hideLoading)(),
                                                  (0, A.showToast)(
                                                    "操作失败，请稍候重试~"
                                                  );
                                              case 15:
                                              case "end":
                                                return e.stop();
                                            }
                                        },
                                        e,
                                        null,
                                        [[0, 11]]
                                      );
                                    })
                                  );
                                  return function () {
                                    return e.apply(this, arguments);
                                  };
                                })(),
                              })
                            );
                          case 14:
                            return e.abrupt(
                              "return",
                              ge.showCommonDialog(c || "下单失败")
                            );
                          case 15:
                            return (
                              (e.next = 17),
                              (0, A.showToastAsync)(c || "下单成功")
                            );
                          case 17:
                            ge.redirectTo({
                              url:
                                "/pages/trainDetail/shelves/shelves?oid=" + i,
                            });
                          case 18:
                          case "end":
                            return e.stop();
                        }
                    }, e);
                  })
                );
                return function () {
                  return e.apply(this, arguments);
                };
              })();
              return (0, tt.tZ)(Xr.Z, {
                visible: t,
                title: null == n ? void 0 : n.title,
                icon: n.iconUrl,
                iconTop: 0,
                content: null == n ? void 0 : n.desc,
                buttons: [
                  { name: (null == n ? void 0 : n.button) || "我知道了" },
                ],
                clickOption: function () {
                  if (
                    (null == r || r(),
                    n.type == le.STUDENT_TICKET_FAIL_DISCOUNT_TIMES_LOST)
                  )
                    return (
                      ge.ubtTrace(
                        "TZWBuyOrderDetail_StuFailPop_BuyAdult_click",
                        { PageId: ge.getPage().oid }
                      ),
                      a()
                    );
                },
                onCancel: r,
              });
            },
            Ma = function (e) {
              var t = e.onClose,
                n = e.visible,
                r = e.onConfirm,
                a = e.insuranceList,
                i = void 0 === a ? [] : a,
                o = e.productId,
                c = [],
                s = i.filter(function (e) {
                  return e.productId === o;
                });
              s.map(function (e, t) {
                return c.push(t);
              });
              var l = (0, w.useState)(c),
                u = (0, Ce.Z)(l, 2),
                d = u[0],
                f = u[1];
              if (!n || null == s || !s.length || !o)
                return (0, tt.tZ)(I.View, {});
              var m = function () {
                var e = [];
                s.map(function (t, n) {
                  return e.push(n);
                }),
                  f(e),
                  t();
              };
              return (0, tt.BX)(gr.ZtDrawer, {
                show: n,
                onWrapClose: m,
                onClose: m,
                className: "tdv2-RefundInsurancePop",
                title: "退订保险",
                closeIconParams: { size: 25, color: "rgba(204, 204, 204)" },
                drawerStyle: { borderRadius: "40rpx 40rpx 0 0" },
                children: [
                  (0, tt.BX)(I.View, {
                    className: "content",
                    children: [
                      (0, tt.tZ)(I.View, {
                        className: "desc",
                        children: "选择已退票需退保的乘客",
                      }),
                      (0, tt.tZ)(I.ScrollView, {
                        className: "select-pas-content",
                        scrollY: !0,
                        children:
                          s.length > 0 &&
                          s.map(function (e, t) {
                            return (0, tt.BX)(
                              I.View,
                              {
                                className: "item flex",
                                children: [
                                  (0, tt.BX)(I.View, {
                                    className: "info flex flex-center",
                                    children: [
                                      (0, tt.tZ)(I.View, {
                                        className: "name",
                                        children: e.passportName,
                                      }),
                                      (0, tt.tZ)(I.View, {
                                        className: "passportNo",
                                        children: e.passportNo,
                                      }),
                                    ],
                                  }),
                                  (0, tt.tZ)(I.View, {
                                    className: "".concat(
                                      d.includes(t) ? "selected" : "select"
                                    ),
                                    id: "AJFY",
                                    onClick: function () {
                                      return (function (e) {
                                        var t = JSON.parse(JSON.stringify(d));
                                        d.includes(e)
                                          ? (t = t.filter(function (t) {
                                              return t !== e;
                                            }))
                                          : t.push(e),
                                          f(t);
                                      })(t);
                                    },
                                  }),
                                ],
                              },
                              "select_pas_".concat(t, "_").concat(e)
                            );
                          }),
                      }),
                    ],
                  }),
                  (0, tt.BX)(I.View, {
                    className: "btn-content flex",
                    children: [
                      (0, tt.tZ)(I.View, {
                        className: "left btn",
                        id: "AJFZ",
                        onClick: m,
                        children: "取消",
                      }),
                      (0, tt.tZ)(I.View, {
                        className: "right btn",
                        id: "AJFa",
                        onClick: function () {
                          if (d.length) {
                            var e = [];
                            s.map(function (t, n) {
                              d.includes(n) && e.push(t);
                            }),
                              r(e);
                          } else (0, A.showToast)("请选择退订乘客");
                        },
                        children: "确认退订",
                      }),
                    ],
                  }),
                ],
              });
            },
            Ea = w.default.memo(function (e) {
              var t = e.bannerInfo,
                n = void 0 === t ? null : t;
              if (!n) return (0, tt.tZ)(tt.HY, {});
              var r = n.departDate,
                a = n.departTime,
                i = n.departStation,
                o = n.arriveTime,
                c = n.arriveStation,
                s = n.trainNo,
                l = n.duration;
              return (0,
              tt.BX)(I.View, { className: "tsmart-train-info-banner", children: [(0, tt.BX)(I.View, { className: "train-desc", children: [P.Z.formatDate(r, "M月D日"), " ", "".concat(P.Z.getWeekDay(r), "出发")] }), (0, tt.BX)(I.View, { className: "train-box flex-align-items-center", children: [(0, tt.BX)(I.View, { className: "l-box", children: [(0, tt.tZ)(I.View, { className: "time", children: a }), (0, tt.BX)(I.View, { className: "station", children: [(0, tt.tZ)(I.Text, { className: "s-txt", children: i }), (0, tt.tZ)(I.Text, { className: "iconfont2 ifont2-dingwei_planar_12" })] })] }), (0, tt.BX)(I.View, { className: "m-box flex-1 flex-column flex-align-items-center", children: [(0, tt.tZ)(I.View, { className: "other-desc", children: s }), (0, tt.tZ)(I.Image, { className: "split-img", src: "https://images3.c-ctrip.com/ztrip/train.song/order_details/icon_ht_lb@3x.png" }), (0, tt.tZ)(I.View, { className: "other-desc", children: l })] }), (0, tt.BX)(I.View, { className: "r-box", children: [(0, tt.tZ)(I.View, { className: "time", children: o }), (0, tt.BX)(I.View, { className: "station", children: [(0, tt.tZ)(I.Text, { className: "iconfont2 ifont2-dingwei_planar_12" }), (0, tt.tZ)(I.Text, { className: "s-txt", children: c })] })] })] })] });
            }),
            La = w.default.memo(function (e) {
              var t = e.btnName,
                n = void 0 === t ? "立即预定" : t,
                r = e.onBtnClick,
                a = void 0 === r ? function () {} : r;
              return (0,
              tt.tZ)(I.View, { className: "tsmart-button-layer", onClick: a, children: (0, tt.tZ)(I.View, { className: "btn", children: n }) });
            }),
            Xa = w.default.memo(function (e) {
              var t = e.visible,
                n = void 0 !== t && t,
                r = e.data,
                a = void 0 === r ? null : r,
                i = e.source,
                o = void 0 === i ? "smart" : i,
                c = e.onClose,
                s = void 0 === c ? function () {} : c;
              if (!a) return (0, tt.tZ)(tt.HY, {});
              var l = a;
              "smart" === o && (l = rn(a.jumpUrl) || {});
              var u = l.train,
                d = {
                  departDate: null == u ? void 0 : u.departure_date,
                  departTime: null == u ? void 0 : u.startTime,
                  departStation: null == u ? void 0 : u.from_name,
                  arriveTime: null == u ? void 0 : u.arriveTime,
                  arriveStation: null == u ? void 0 : u.to_name,
                  trainNo: null == u ? void 0 : u.code,
                  duration: null == u ? void 0 : u.run_time,
                };
              return (0, tt.tZ)(Xr.Z, {
                title: a.stepDesc,
                visible: n,
                className: "train-smart-reschedule-drawer",
                bgImage:
                  "https://images3.c-ctrip.com/ztrip/train_zhu/img_Ticket_BG_jianbian_zx.png",
                content: function () {
                  return (0, tt.tZ)(Ea, { bannerInfo: d });
                },
                renderButtonView: function () {
                  return (0, tt.tZ)(La, {
                    btnName: a.buttonName,
                    onBtnClick: function () {
                      return an(l);
                    },
                  });
                },
                onCancel: s,
              });
            }),
            za = n(93917),
            Ua = S.default.isTieyou
              ? "https://images3.c-ctrip.com/ztrip/train_xie/2021-12/img_ip_ty.png"
              : "https://images3.c-ctrip.com/ztrip/train_xie/2021-12/img_ip_zx.png",
            ja = function (e) {
              var t,
                n,
                r = e.visible,
                a = e.data,
                i = e.onConfirm,
                o = e.onCancel;
              if (O.Z.isEmptyObject(a)) return null;
              var c = a.topTitle,
                s = c.title,
                l = c.subTitle,
                u = a.trainInfo,
                d = null == u ? void 0 : u.originalSeat,
                f = null == u ? void 0 : u.currentSeat,
                m = a.productInfo,
                p = a.button,
                h = (0, w.useState)(!1),
                g = (0, Ce.Z)(h, 2),
                v = g[0],
                T = g[1],
                Z = (0, za.Z)(p.payTimeLimit, "ms");
              return (
                null != Z &&
                  Z.value &&
                  Z.value < 0 &&
                  setTimeout(function () {
                    null == o || o();
                  }, 0),
                O.Z.isEmptyObject(u) || M()(p.payTimeLimit).isBefore(M()())
                  ? null
                  : (0, tt.tZ)(I.View, {
                      className: " ".concat(S.default.isTieyou ? "ty" : "zx"),
                      children: (0, tt.tZ)(gr.ZtDrawer, {
                        show: r,
                        className: "special-seat-fail-pop",
                        drawerStyle: { borderRadius: "32rpx 32rpx 0 0" },
                        isShowClose: !1,
                        onWrapClose: function () {},
                        children: (0, tt.BX)(I.View, {
                          className: "smart-hold-seat-detail-container",
                          children: [
                            (0, tt.tZ)(I.View, {
                              className: "smart-hold-seat-detail-header-bar",
                              children: (0, tt.tZ)(I.Image, {
                                src: Ua,
                                className: "head-icon",
                              }),
                            }),
                            (0, tt.tZ)(I.ScrollView, {
                              scrollY: !0,
                              scrollWithAnimation: !0,
                              className: "smart-hold-seat-detail-scroll-area",
                              children: (0, tt.BX)(I.View, {
                                className: "smart-hold-seat-detail-content",
                                children: [
                                  (0, tt.BX)(I.View, {
                                    className: "smart-hold-seat-detail-head",
                                    children: [
                                      (0, tt.tZ)(I.View, {
                                        className: "title",
                                        children: (0, tt.tZ)(gr.ZtRichText, {
                                          nodes: O.Z.convertAppTextToHtmlStr(s),
                                          space: "nbsp",
                                        }),
                                      }),
                                      (0, tt.tZ)(I.View, {
                                        className: "desc",
                                        children: l,
                                      }),
                                    ],
                                  }),
                                  (0, tt.BX)(I.View, {
                                    className: "ticket-card",
                                    children: [
                                      (0, tt.BX)(I.View, {
                                        className: "flex flex-center header",
                                        children: [
                                          (0, tt.BX)(I.View, {
                                            className: "flex flex-1 left-view",
                                            children: [
                                              (0, tt.tZ)(I.View, {
                                                className: "tag-view",
                                                children:
                                                  null == u ? void 0 : u.tag,
                                              }),
                                              (0, tt.tZ)(I.View, {
                                                className: "date-view",
                                                children:
                                                  null == u ? void 0 : u.date,
                                              }),
                                            ],
                                          }),
                                          (0, tt.tZ)(I.View, {
                                            className: "status",
                                            children:
                                              null == u ? void 0 : u.state,
                                          }),
                                        ],
                                      }),
                                      (0, tt.BX)(I.View, {
                                        className: "flex flex-center ticket",
                                        children: [
                                          (0, tt.BX)(I.View, {
                                            className:
                                              "flex flex-column station",
                                            children: [
                                              (0, tt.tZ)(I.View, {
                                                className: "time",
                                                children:
                                                  null == u
                                                    ? void 0
                                                    : u.departureTime,
                                              }),
                                              (0, tt.tZ)(I.View, {
                                                className: "name",
                                                children:
                                                  null == u
                                                    ? void 0
                                                    : u.startStation,
                                              }),
                                            ],
                                          }),
                                          (0, tt.BX)(I.View, {
                                            className:
                                              "flex flex-center flex-column ",
                                            children: [
                                              (0, tt.tZ)(gr.ZtRichText, {
                                                nodes:
                                                  O.Z.convertAppTextToHtmlStr(
                                                    null == u
                                                      ? void 0
                                                      : u.duration
                                                  ),
                                                space: "nbsp",
                                                className: "top-text",
                                              }),
                                              (0, tt.tZ)(I.View, {
                                                className: "linear-dash",
                                                style: {
                                                  height: 1,
                                                  width: 76,
                                                  marginVertical: 4,
                                                },
                                              }),
                                              (0, tt.tZ)(gr.ZtRichText, {
                                                nodes:
                                                  O.Z.convertAppTextToHtmlStr(
                                                    null == u
                                                      ? void 0
                                                      : u.trainNumber
                                                  ),
                                                space: "nbsp",
                                                className: "btm-text",
                                              }),
                                            ],
                                          }),
                                          (0, tt.BX)(I.View, {
                                            className:
                                              "flex flex-column station",
                                            style: { textAlign: "right" },
                                            children: [
                                              (0, tt.tZ)(I.View, {
                                                className: "time",
                                                children:
                                                  null == u
                                                    ? void 0
                                                    : u.arrivalTime,
                                              }),
                                              (0, tt.tZ)(I.View, {
                                                className: "name",
                                                children:
                                                  null == u
                                                    ? void 0
                                                    : u.endStation,
                                              }),
                                            ],
                                          }),
                                        ],
                                      }),
                                      (0, tt.BX)(I.View, {
                                        className: "psg-content",
                                        children: [
                                          (0, tt.BX)(I.View, {
                                            className:
                                              "flex flex-center psg orignal",
                                            children: [
                                              (0, tt.BX)(I.View, {
                                                className: "flex name flex-1",
                                                children: [
                                                  (0, tt.tZ)(I.View, {
                                                    className: "psg-name",
                                                    children:
                                                      null == d
                                                        ? void 0
                                                        : d.passengerName,
                                                  }),
                                                  (0, tt.tZ)(I.View, {
                                                    className: "psg-type",
                                                    children:
                                                      null == d
                                                        ? void 0
                                                        : d.passengerType,
                                                  }),
                                                ],
                                              }),
                                              (0, tt.BX)(I.View, {
                                                className: "flex seat",
                                                children: [
                                                  (0, tt.tZ)(I.View, {
                                                    className: "seat-name",
                                                    children:
                                                      null == d
                                                        ? void 0
                                                        : d.seatType,
                                                  }),
                                                  !(null == d || !d.price) &&
                                                    (0, tt.tZ)(I.View, {
                                                      className: "seat-price",
                                                      children:
                                                        null == d
                                                          ? void 0
                                                          : d.price,
                                                    }),
                                                  (0, tt.tZ)(I.View, {
                                                    className: "seat-number",
                                                    children:
                                                      null == d
                                                        ? void 0
                                                        : d.seatNumber,
                                                  }),
                                                ],
                                              }),
                                            ],
                                          }),
                                          (0, tt.tZ)(I.View, {
                                            className: "flex flex-center dash",
                                            children: (0, tt.tZ)(I.Image, {
                                              src: "https://images3.c-ctrip.com/ztrip/train_zhu/icon_ZNGQ_ck_jt.png",
                                              className: "change-icon",
                                              mode: "aspectFit",
                                            }),
                                          }),
                                          (0, tt.BX)(I.View, {
                                            className:
                                              "flex flex-center psg cur",
                                            children: [
                                              (0, tt.BX)(I.View, {
                                                className: "flex name flex-1",
                                                children: [
                                                  (0, tt.tZ)(I.View, {
                                                    className: "psg-name",
                                                    children:
                                                      null == f
                                                        ? void 0
                                                        : f.passengerName,
                                                  }),
                                                  (0, tt.tZ)(I.View, {
                                                    className: "psg-type",
                                                    children:
                                                      null == f
                                                        ? void 0
                                                        : f.passengerType,
                                                  }),
                                                ],
                                              }),
                                              (0, tt.BX)(I.View, {
                                                className: "flex seat",
                                                children: [
                                                  (0, tt.tZ)(I.View, {
                                                    className: "seat-name",
                                                    children:
                                                      null == f
                                                        ? void 0
                                                        : f.seatType,
                                                  }),
                                                  !(null == f || !f.price) &&
                                                    (0, tt.tZ)(I.View, {
                                                      className: "seat-price",
                                                      children:
                                                        null == f
                                                          ? void 0
                                                          : f.price,
                                                    }),
                                                  (0, tt.tZ)(I.View, {
                                                    className: "seat-number",
                                                    children:
                                                      null == f
                                                        ? void 0
                                                        : f.seatNumber,
                                                  }),
                                                ],
                                              }),
                                            ],
                                          }),
                                        ],
                                      }),
                                    ],
                                  }),
                                  (0, tt.BX)(I.View, {
                                    className: "refund-detail",
                                    children: [
                                      (0, tt.BX)(I.View, {
                                        className: "flex flex-center header",
                                        onClick: T.bind(void 0, !v),
                                        children: [
                                          (0, tt.tZ)(I.View, {
                                            className: "left flex-1",
                                            children:
                                              null === (t = m.productRefund) ||
                                              void 0 === t
                                                ? void 0
                                                : t.productTitle,
                                          }),
                                          (0, tt.BX)(I.View, {
                                            className: "flex flex-center right",
                                            children: [
                                              (0, tt.tZ)(I.View, {
                                                className: "price",
                                                children:
                                                  null ===
                                                    (n = m.productRefund) ||
                                                  void 0 === n
                                                    ? void 0
                                                    : n.canRefundPrice,
                                              }),
                                              (0, tt.tZ)(I.View, {
                                                className: "iconfont2 ".concat(
                                                  v
                                                    ? "ifont2-shouqi_linea_12"
                                                    : "ifont2-zhankai_linea_12",
                                                  " open-btn"
                                                ),
                                              }),
                                            ],
                                          }),
                                        ],
                                      }),
                                      v &&
                                        (0, tt.tZ)(I.View, {
                                          className: "refund-list",
                                          children:
                                            null == m
                                              ? void 0
                                              : m.productRefundDetail.map(
                                                  function (e, t) {
                                                    return (0, tt.BX)(
                                                      I.View,
                                                      {
                                                        className:
                                                          "flex flex-center refund-li",
                                                        children: [
                                                          (0, tt.tZ)(I.View, {
                                                            className:
                                                              "name flex-1",
                                                            children:
                                                              e.productName,
                                                          }),
                                                          (0, tt.tZ)(I.View, {
                                                            className: "price",
                                                            children:
                                                              e.productPrice,
                                                          }),
                                                        ],
                                                      },
                                                      t
                                                    );
                                                  }
                                                ),
                                        }),
                                    ],
                                  }),
                                ],
                              }),
                            }),
                            (0, tt.BX)(I.View, {
                              className: "bottom-layer flex flex-center",
                              children: [
                                (0, tt.tZ)(I.View, {
                                  className:
                                    "btn flex-1 flex flex-center btn-reject",
                                  onClick: function () {
                                    i(2);
                                  },
                                  children: "拒绝车票",
                                }),
                                (0, tt.BX)(I.View, {
                                  className:
                                    "btn flex-1 flex flex-center flex-column btn-reslove",
                                  onClick: function () {
                                    i(1);
                                  },
                                  children: [
                                    (0, tt.tZ)(I.View, {
                                      children: "接受车票",
                                    }),
                                    (0, tt.tZ)(I.View, {
                                      className: "count-down-text",
                                      children: ""
                                        .concat(Z.minutes, "分")
                                        .concat(Z.seconds, "秒后自动取消"),
                                    }),
                                  ],
                                }),
                              ],
                            }),
                          ],
                        }),
                      }),
                    })
              );
            },
            Ga = w.default.memo(function (e) {
              var t = e.visible,
                n = void 0 === t || t,
                r = e.data,
                a = void 0 === r ? null : r,
                i = e.onClose,
                o = void 0 === i ? function () {} : i;
              if (!a) return (0, tt.tZ)(tt.HY, {});
              var c = a.backgroundImg,
                s = a.titleImg,
                l = a.buttonImg,
                u = a.desc;
              return (0,
              tt.tZ)(gr.ZtActivityPop, { show: n, onClose: o, className: "tsmart-coupon-pop", children: (0, tt.BX)(I.View, { className: "content flex-align-items-center flex-column", children: [(0, tt.tZ)(I.Image, { className: "bg-img", src: c, webp: !0 }), (0, tt.tZ)(I.Image, { className: "tit-img", src: s, webp: !0 }), (0, tt.tZ)(I.Image, { className: "btn-img", src: l, webp: !0, onClick: o }), (0, tt.tZ)(I.View, { className: "desc", children: u })] }) });
            }),
            Ha = n(38911),
            Wa = w.default.memo(function (e) {
              var t = e.visible,
                n = void 0 !== t && t,
                r = e.data,
                a = void 0 === r ? null : r,
                i = e.onCancel,
                o = void 0 === i ? function () {} : i;
              if (!a) return (0, tt.tZ)(tt.HY, {});
              var c = a.titleImg,
                s = a.subTitleImg,
                l = a.couponCode,
                u = a.desc,
                d = a.leftButtonText,
                f = a.rightButtonText,
                m = a.expiryDate,
                p = a.discount;
              return (0, tt.tZ)(gr.ZtActivityPop, {
                show: n,
                className: "ft-coupon-pop",
                onClose: function () {
                  return o();
                },
                onWrapClose: o,
                children: (0, tt.BX)(I.View, {
                  className: "container",
                  children: [
                    (0, tt.tZ)(I.Image, { className: "tit-img", src: c }),
                    (0, tt.tZ)(I.Image, { className: "stit-img", src: s }),
                    (0, tt.BX)(I.View, {
                      className: "coupon-card flex-align-items-center",
                      children: [
                        (0, tt.BX)(I.View, {
                          className: "l-info flex",
                          children: [
                            (0, tt.tZ)(I.View, {
                              className: "num",
                              children: p,
                            }),
                            (0, tt.tZ)(I.View, {
                              className: "unit",
                              children: "元",
                            }),
                          ],
                        }),
                        (0, tt.BX)(I.View, {
                          className: "r-info",
                          children: [
                            (0, tt.tZ)(I.View, {
                              className: "coupon-tit",
                              children: u,
                            }),
                            (0, tt.tZ)(I.View, {
                              className: "coupon-desc",
                              children: m,
                            }),
                          ],
                        }),
                      ],
                    }),
                    (0, tt.BX)(I.View, {
                      className: "btns flex",
                      children: [
                        (0, tt.tZ)(I.View, {
                          className: "btn flex-1 l-btn",
                          id: "trainDetailFCLeft",
                          onClick: o,
                          children: d,
                        }),
                        (0, tt.tZ)(I.View, {
                          className: "btn flex-1 r-btn",
                          id: "trainDetailFCRight",
                          onClick: function () {
                            o(),
                              (0, Ha.kq)({ couponCode: l })
                                .then(function (e) {
                                  1 === (null == e ? void 0 : e.receiveCode)
                                    ? ((0, A.showToast)("领取成功"),
                                      setTimeout(function () {
                                        x().reLaunch({
                                          url: "/pages/home/index?tab=flight",
                                        });
                                      }, 2e3))
                                    : (0, A.showToast)(
                                        (null == e ? void 0 : e.failReason) ||
                                          "领取优惠券失败，请稍后重试!"
                                      );
                                })
                                .catch(function () {
                                  (0,
                                  A.showToast)("领取优惠券失败，请稍后重试!");
                                });
                          },
                          children: f,
                        }),
                      ],
                    }),
                  ],
                }),
              });
            }),
            Ja = void 0,
            Ka = function () {},
            qa = function () {},
            Ya = (0, _.$j)(
              function (e) {
                var t = e.orderModel,
                  n = e.my12306Model,
                  r = e.ticketCollectionModel;
                return {
                  orderInfo: t.orderInfo,
                  auth12306Status: n.auth12306Status,
                  shareORCodeImage: r.shareORCodeImage,
                  checkedTemplate: r.checkedTicketType,
                  shareTicket: r.shareTicket,
                  refundInsuranceList: t.refundInsuranceList,
                  addTicket: r.addTicket,
                  userTicketCovers: r.userTicketCovers,
                  ticketsInfo: r.ticketsInfo,
                };
              },
              function (e) {
                return {
                  onUpdateScrollRadio: function (t) {
                    return e.ticketCollectionModel.setPaidScrollRadio(t);
                  },
                  handleGetPaidCoverInfo: function (t) {
                    return e.ticketCollectionModel.setUserSelectCoverInfo(t);
                  },
                };
              }
            )(function (e) {
              var t,
                n,
                a,
                i,
                o,
                c,
                s,
                l,
                u,
                d,
                f,
                m,
                p,
                h,
                g,
                v = e.onRef,
                T = e.orderInfo,
                Z = e.auth12306Status,
                N = e.shareORCodeImage,
                b = e.checkedTemplate,
                k = e.shareTicket,
                y = e.onUpdateScrollRadio,
                C = e.refundInsuranceList,
                _ = e.addTicket,
                I = e.userTicketCovers,
                V = e.handleGetPaidCoverInfo,
                R = e.ticketsInfo,
                D = (0, w.useState)(null),
                P = (0, Ce.Z)(D, 2),
                A = P[0],
                B = P[1],
                F = (0, w.useState)(!1),
                M = (0, Ce.Z)(F, 2),
                E = M[0],
                L = M[1],
                X = (0, w.useState)(!1),
                z = (0, Ce.Z)(X, 2),
                U = z[0],
                j = z[1];
              (0, w.useImperativeHandle)(v, function () {
                return {
                  showToast: function (e) {
                    B(null == e ? void 0 : e.toast),
                      j(!0),
                      (Ka =
                        (null == e ? void 0 : e.onConfirm) || function () {}),
                      (qa =
                        (null == e ? void 0 : e.onCancel) || function () {});
                  },
                  closeToast: function () {
                    L(!1), j(!1);
                  },
                  isShow: function () {
                    return E;
                  },
                };
              }),
                (0, w.useLayoutEffect)(
                  function () {
                    A &&
                      U &&
                      x().nextTick(function () {
                        console.log("set show"), L(!0), j(!1);
                      });
                  },
                  [U, A]
                );
              var G = function () {
                  for (
                    var e, t = arguments.length, n = new Array(t), r = 0;
                    r < t;
                    r++
                  )
                    n[r] = arguments[r];
                  null === (e = qa) ||
                    void 0 === e ||
                    e.call.apply(e, [Ja].concat(n)),
                    L(!1),
                    (Ka = qa = function () {});
                },
                H = function () {
                  for (
                    var e, t = arguments.length, n = new Array(t), r = 0;
                    r < t;
                    r++
                  )
                    n[r] = arguments[r];
                  null === (e = Ka) ||
                    void 0 === e ||
                    e.call.apply(e, [Ja].concat(n)),
                    L(!1),
                    (Ka = qa = function () {});
                };
              switch (null == A ? void 0 : A.toastCode) {
                case r.REFUND:
                  return (0,
                  tt.tZ)(ta, { show: E, refundInfo: A, isTieyou: S.default.isTieyou, handleCancel: G, handleConfirm: H });
                case r.REFUND_ASK:
                  return (0,
                  tt.tZ)(ra, { show: E, showManualRefundEntry: !0, info: A.data, onClose: G, doMySelfAction: H.bind(Ja, 1), inviteFriendAction: H.bind(Ja, 0), skipArtificialRefund: kt.bind(Ja, A.data._ticket) });
                case r.RESIGN_ASK:
                  return (0,
                  tt.tZ)(ia, { show: E, info: A.data, onClose: G, doMySelfAction: H.bind(Ja, 1), inviteFriendAction: H.bind(Ja, 0) });
                case r.TRAIN_LATE_QUERY:
                  return E ? (0, tt.tZ)(ga, { onCancel: G }) : null;
                case r.smartOrderAutoTicketArea:
                  return (0,
                  tt.tZ)(ha, { show: E, modalInfo: A.data, onClickRescheduleText: O.Z.commonNavigator.bind(Ja, "https://".concat(S.default.h5domain, "/webapp/train/activity/ztrip-train-buy-ticket-rule?isHideNavBar=YES&type=rebook")), onClose: H });
                case r.riskControl43003Toast:
                  return E
                    ? (0, tt.tZ)(da, {
                        intercept43003Info: A._jsonInfo,
                        oid: ge.getPage().oid,
                        onCancel: G,
                        onConfirm: H,
                      })
                    : null;
                case r.giftCounponToast:
                  return (0,
                  tt.tZ)(oa.Z, { isShow: E, info: A._jsonInfo, ubtTrace: ge.ubtTrace, onClose: G });
                case r.wxBigCouponToast:
                  return (0,
                  tt.tZ)(ca.Z, { isShow: E, info: A._jsonInfo, onClose: G });
                case r.wxRouteNoticeToast:
                  return (0,
                  tt.tZ)(Lr.Z, { show: E, info: A._jsonInfo, onSuccess: O.Z.commonNavigator.bind(Ja, null === (t = A._jsonInfo) || void 0 === t ? void 0 : t.jumpUrl), onCancel: G });
                case r.smartAutoTicketToast:
                  return (0,
                  tt.tZ)(pa, { show: E && (null === (n = A._jsonInfo) || void 0 === n ? void 0 : n.title), modalInfo: A._jsonInfo, onClickModalBtn: G });
                case r.smartRescheduleStraightToast:
                  return (0,
                  tt.tZ)(Mr, { isShow: E, orderNumber: null === (a = A._jsonInfo) || void 0 === a ? void 0 : a.orderNumber, onClose: G });
                case r.smartRescheduleRemindToast:
                  return (0, tt.tZ)(Er.Z, {
                    isShow: E,
                    iconUrl:
                      "https://images3.c-ctrip.com/ztrip/train_zhu/img_Ticket_cpz.png",
                    title:
                      null === (i = A._jsonInfo) || void 0 === i
                        ? void 0
                        : i.remindTitle,
                    subTitle:
                      "您当前已有一张待确认的改签订单，请前往确认。若不需要，可点击不要后，再次发起改签。",
                    btnTxt: "去查看",
                    onClose: G,
                    onConfirm: function () {
                      var e;
                      ge.navigateTo({
                        url: "/pages/trainsmart/smartRSTicket/index?oid=".concat(
                          null === (e = A._jsonInfo) || void 0 === e
                            ? void 0
                            : e.rescheduleOrderNumber
                        ),
                      }),
                        H();
                    },
                  });
                case r.smartServicePayToast:
                  return E
                    ? (0, tt.tZ)(la, {
                        smartRSRecommendServiceInfo: A._jsonInfo,
                        onClose: G,
                        onConfirm: H,
                        oid: ge.getPage().oid,
                        ubtTrace: ge.ubtTrace,
                        pageId: ge.getPage().pageId,
                      })
                    : null;
                case r.WechatFriendToast:
                  return (0,
                  tt.tZ)(fa, { isShow: E, info: A._jsonInfo, orderNumber: ge.getPage().oid, ubtTrace: ge.ubtTrace, onClose: G });
                case r.exchangeToast:
                  return (0,
                  tt.tZ)(ma, { isShow: E, content: A._jsonInfo, onClose: G, ubtTrace: ge.ubtTrace });
                case r.VIP_RIGHTS_INFO_TOAST:
                  return E
                    ? (0, tt.tZ)(va, { vipInfo: A.data, onClose: G })
                    : null;
                case r.smartHoldSeatToast:
                  return (0, tt.tZ)(zr.Z, {
                    visible: E,
                    orderNumber: ge.getPage().oid,
                    ubtTrace: ge.ubtTrace,
                    expKeyName: "TZWBuyOrderDetail_RecommendPop_exposure",
                    cancelCliKeyName:
                      "TZWBuyOrderDetail_RecommendPop_Reject_click",
                    confirmCliKeyName:
                      "TZWBuyOrderDetail_RecommendPop_Accept_click",
                    smartHoldSeatDetail: A.data,
                    orderInfo: ge,
                    userAuth12306Status: Z,
                    onClose: G,
                    onRefuse: function () {
                      return Yn({
                        toast: {
                          toastCode: r.smartHoldSeatDetain,
                          data: A.data,
                        },
                      });
                    },
                    onTimeup: Kn,
                  });
                case r.smartHoldSeatDetain:
                  return (0, tt.tZ)(Ur.Z, {
                    visible: E,
                    orderNumber: ge.getPage().oid,
                    ubtTrace: ge.ubtTrace,
                    orderInfo: T,
                    smartHoldSeatDetail: A.data,
                    userAuth12306Status: Z,
                    expKeyName: "s_trn_z_trace_10650060639",
                    cliKeyName: "c_trn_z_10650060639",
                    onClose: G,
                    onCancel: function () {
                      return Yn({
                        toast: {
                          toastCode: r.smartHoldSeatToast,
                          data: A.data,
                        },
                      });
                    },
                  });
                case r.smartRSPeaceRefundToast:
                  return E
                    ? (0, tt.tZ)(jr.Z, { refundRules: A.data, onClose: G })
                    : null;
                case r.smartCSTripInfoToast:
                  return (0,
                  tt.tZ)(Va, { visible: E, tripDetail: A._jsonInfo, onClose: G });
                case r.childAdder:
                  return (0,
                  tt.tZ)(Da, { visible: E, onClose: G, onConfirm: H, validPassengers: null == A || null === (o = A.data) || void 0 === o ? void 0 : o.validPassengers, freedPassengers: null == A || null === (c = A.data) || void 0 === c ? void 0 : c.freedPassengers });
                case r.commonTipDrawer:
                  return (0, tt.tZ)(Xr.Z, {
                    visible: E,
                    title:
                      null === (s = A.data) || void 0 === s ? void 0 : s.title,
                    content:
                      null === (l = A.data) || void 0 === l
                        ? void 0
                        : l.content,
                    buttons:
                      null === (u = A.data) || void 0 === u
                        ? void 0
                        : u.buttons,
                    clickOption: function (e) {
                      1 === (null == e ? void 0 : e.type) ? G() : H();
                    },
                    onCancel: G,
                  });
                case r.smartApplyServiceFeeRefundToast:
                  return (0,
                  tt.tZ)(Gr.Z, { visible: E, drawerInfo: A._jsonInfo, onClose: G });
                case r.cashPayOrderRefundToast:
                  return (0,
                  tt.tZ)(Pa, { visible: E, info: A.data, onClose: G, onlineRefund: H.bind(Ja, 0), helpRefund: H.bind(Ja, 1) });
                case r.addTrainTicketToast:
                  return (0, tt.tZ)(Ba, {
                    visible: E,
                    ticketInfoList:
                      null === (d = A.data) || void 0 === d
                        ? void 0
                        : d.tickets,
                    addTicket: _,
                    checkedTemplate: b,
                    onClose: G,
                    onCollectTicket: function (e) {
                      return H({ type: 1, info: e });
                    },
                    onShareTicket: function (e) {
                      return H({ type: 0, info: e });
                    },
                    shareORCodeImage: N,
                    onChangePasInfo: A.data.onChangePasInfo,
                    ubtTrace: ge.ubtTrace,
                    pageId: ge.getPage().pageId,
                    userTicketCovers: I,
                    handleGetPaidCoverInfo: V,
                    ticketsInfo: R,
                  });
                case r.ticketCollectionShareModal:
                  return (0, tt.tZ)(qr.Z, {
                    visible: E,
                    isShowFlipButton: !0,
                    isShowChangePas: A.data.isShowChangePas,
                    shareTicket: k,
                    tempKey: A.data.tempKey,
                    checkedTemplate: b,
                    shareQRCodeImageUrl: N,
                    onCanCel: G,
                    onUpdateScrollRadio: y,
                    onCheckTicketTemplate: A.data.onCheckTicketTemplate,
                    onShareAction: function (e, t, n) {
                      A.data.onShareAction(e, t, n),
                        e.type === oe.WECHAT && G();
                    },
                    ShareActionArray: A.data.ShareActionArray,
                    onChangePasInfo: A.data.onChangePasInfo,
                    ubtTrace: ge.ubtTrace,
                    pageId: ge.getPage().pageId,
                    userTicketCovers: I,
                    handleGetPaidCoverInfo: V,
                    clickUbtKey: A.data.clickUbtKey,
                    PopupType: A.data.PopupType,
                  });
                case r.crossCommonCanlendar:
                  return (0,
                  tt.tZ)(Hr.Z, { visible: E, title: "选择出发日期", maxHeight: "80%", beginDate: null === (f = A.data) || void 0 === f ? void 0 : f.beginDate, endDate: null === (m = A.data) || void 0 === m ? void 0 : m.endDate, selectedDate: null === (p = A.data) || void 0 === p ? void 0 : p.chooseDate, onConfirm: H, onClose: G });
                case r.CommonTipsDialog:
                  return (0,
                  tt.tZ)(Fa, { visible: E, data: A._jsonInfo, onClose: G });
                case r.REFUND_INSURANCE:
                  return (0,
                  tt.tZ)(Ma, { visible: E, insuranceList: C, productId: A.data, onClose: G, onConfirm: H });
                case r.ticketRecommendSystem:
                  return (0,
                  tt.tZ)(Kr.Z, { visible: E, data: A._jsonInfo, onClose: G, oid: ge.getPage().oid });
                case r.smartBookSecondTripDrawer:
                  return (0,
                  tt.tZ)(Xa, { visible: E, data: A._jsonInfo, onClose: G });
                case r.SpecifySeatFailInterceptToast:
                  return (0,
                  tt.tZ)(ja, { visible: E, data: A.data, onConfirm: H, onCancel: G });
                case r.smartCouponRemindToast:
                  return (0,
                  tt.tZ)(Ga, { visible: E, data: A._jsonInfo, onClose: G });
                case r.flightCouponRemindToast:
                  return (0,
                  tt.tZ)(Wa, { visible: E, data: A._jsonInfo, onCancel: G });
                case r.smartRescheduleSaveTripToast:
                  return (0,
                  tt.tZ)(Xa, { visible: E, data: A._jsonInfo, source: "smartRS", onClose: G });
                case r.Login12306ToastV2:
                  return (
                    E &&
                    (0, tt.tZ)(Yr.Z, {
                      type: "TrainGuideJoinMemberToast",
                      toastInfo: encodeURIComponent(A.toastJson),
                      close: G,
                    })
                  );
                case r.LeftOverTicketToast:
                  return (
                    E &&
                    (0, tt.tZ)(Yr.Z, {
                      type: "TRAIN_COMMON_ACTIVITY_TOAST",
                      imageUrl:
                        null === (h = A._jsonInfo) || void 0 === h
                          ? void 0
                          : h.imgUrl,
                      logTraceInfo: encodeURIComponent(
                        JSON.stringify({
                          showEvent: {
                            keyName:
                              "TZWBuyOrderDetail_UnlockArtifactPop_exposure",
                            value: {
                              PageId: ge.getPage().pageId,
                              ActivityType: "余票捡漏神器",
                              OrderNumber: ge.getPage().oid,
                            },
                          },
                        })
                      ),
                      styleInfo: encodeURIComponent(
                        JSON.stringify({ width: "300px", height: "502px" })
                      ),
                      onClose: G,
                    })
                  );
                case r.publicStuGaCardsActivity:
                  return (
                    E &&
                    (0, tt.tZ)(Jr, {
                      close: G,
                      card:
                        null === (g = A._jsonInfo) || void 0 === g
                          ? void 0
                          : g.card,
                    })
                  );
                default:
                  return null;
              }
            }),
            Qa = function (e) {
              var t = e.exchange,
                n = e.exchangeGoodsBanner;
              return (0, tt.BX)(I.View, {
                className: "train-tbk-exchange ".concat(
                  t ? "open-exchange" : "close-exchange"
                ),
                id: "AJFS",
                onClick: function () {
                  ge.ubtTrace(200047, {
                    bizKey: "z_jianlou_hddysp_entrance_click",
                  }),
                    O.Z.commonNavigator(n.jumpUrl || "");
                },
                children: [
                  (0, tt.tZ)(I.View, {
                    className: "title",
                    children: n.title || "",
                  }),
                  (0, tt.tZ)(I.View, {
                    className: "txt-confirm",
                    children: n.btn || "",
                  }),
                  (0, tt.tZ)(I.View, { className: "iconfont ifont-arr" }),
                ],
              });
            },
            $a = (0, _.$j)(function (e) {
              return { orderDetailList: e.orderModel.orderDetailList || [] };
            })(function () {
              var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = e.orderDetailList;
              if (
                ((0, w.useEffect)(
                  function () {
                    (null == t
                      ? void 0
                      : t
                          .filter(function (e) {
                            var t;
                            return (
                              e.name &&
                              (null === (t = e.productValues) || void 0 === t
                                ? void 0
                                : t.length) > 0
                            );
                          })
                          .find(function (e) {
                            var t;
                            return null === (t = e.desc) || void 0 === t
                              ? void 0
                              : t.includes("无忧出行");
                          })) &&
                      ge.ubtTrace("s_trn_z_10320660962", {
                        exposureType: "normal",
                        bizKey: "z_ord_detail_wuyou_module_show",
                      }),
                      (null == t
                        ? void 0
                        : t
                            .filter(function (e) {
                              return e.name && e.productId;
                            })
                            .find(function (e) {
                              return 204 === e.insuranceState;
                            })) &&
                        ge.ubtTrace(
                          "TZWBuyOrderDetail_AttachService_Cancel_exposure",
                          {
                            PageId: ge.getPage().pageId,
                            orderid: ge.getPage().oid,
                          }
                        );
                  },
                  [t]
                ),
                null == t || !t.length)
              )
                return null;
              var n = function (e, t) {
                e.stopPropagation(), St(t);
              };
              return (0, tt.BX)(I.Block, {
                children: [
                  (0, tt.tZ)(wr, {
                    className: "trainOrder-orderDetail-view",
                    foldTitleView: "订单明细",
                    foldRightView: "详情",
                    foldContentView: function () {
                      return (0, tt.tZ)(I.Block, {
                        children: t.map(function (e, t) {
                          return (0, tt.BX)(
                            I.View,
                            {
                              className: "detail-item flex flex-center",
                              id: "AJGD",
                              onClick: function () {
                                var t;
                                null !== (t = e.desc) &&
                                  void 0 !== t &&
                                  t.includes("无忧出行") &&
                                  (0, A.getCurrentPage)().ubtTrace(
                                    "c_trn_z_10320660962",
                                    {
                                      bizKey: "z_ord_detail_wuyou_module_click",
                                    }
                                  ),
                                  O.Z.commonNavigator(e.url, e.name);
                              },
                              children: [
                                (0, tt.tZ)(I.View, {
                                  className: "content-name",
                                  children: e.name,
                                }),
                                (0, tt.BX)(I.View, {
                                  className: "cont flex flex-1",
                                  children: [
                                    (0, tt.tZ)(I.View, {
                                      className: "content-text",
                                      style: {
                                        color:
                                          e.insuranceState > 0 ? "#198CFF" : "",
                                      },
                                      stopPropagation: !0,
                                      onClick: function () {
                                        e.insuranceState > 0 && ir(e.productId);
                                      },
                                      children: (0, tt.tZ)(gr.ZtRichText, {
                                        className: "url-text",
                                        nodes: e.desc,
                                      }),
                                    }),
                                    e.url &&
                                      !e.receiveDidiCouponText &&
                                      (0, tt.BX)(I.View, {
                                        className: "url-content flex-1 flex",
                                        children: [
                                          (0, tt.tZ)(I.Text, {
                                            className: "url-tit",
                                            children: "权益说明",
                                          }),
                                          (0, tt.tZ)(I.Text, {
                                            className:
                                              "iconfont2 ifont2-zhushi_linea_12",
                                            style: { color: "#ccc" },
                                          }),
                                        ],
                                      }),
                                    204 === e.insuranceState &&
                                      (0, tt.BX)(I.View, {
                                        className:
                                          "refund-insurance flex flex-center",
                                        children: [
                                          (0, tt.tZ)(I.Text, {
                                            className: "split-line",
                                          }),
                                          (0, tt.tZ)(I.Text, {
                                            className: "highlight-tit",
                                            id: "AJGE",
                                            onClick: function (t) {
                                              return n(t, e.productId);
                                            },
                                            children: "退订",
                                          }),
                                        ],
                                      }),
                                    !!e.receiveDidiCouponText &&
                                      (0, tt.tZ)(I.Block, {
                                        children: (0, tt.BX)(I.View, {
                                          className: "url-content flex-1 flex",
                                          children: [
                                            e.receiveDidiCouponIcon &&
                                              (0, tt.tZ)(I.Image, {
                                                className: "url-icon",
                                                src: e.receiveDidiCouponIcon,
                                              }),
                                            (0, tt.tZ)(gr.ZtRichText, {
                                              className: "url-text",
                                              nodes: e.receiveDidiCouponText,
                                            }),
                                            e.url &&
                                              (0, tt.tZ)(I.Text, {
                                                className:
                                                  "iconfont2 ifont2-arr",
                                                style: { color: "#ff5959" },
                                              }),
                                          ],
                                        }),
                                      }),
                                  ],
                                }),
                              ],
                            },
                            t
                          );
                        }),
                      });
                    },
                  }),
                  (0, tt.tZ)(hr, {
                    Area: function (e) {
                      return (
                        ge.ubtTrace(200033, {
                          exposureType: "normal",
                          bizKey: "z_jianlou_hddysp_entrance_show",
                        }),
                        (0, tt.tZ)(Qa, { exchangeGoodsBanner: e })
                      );
                    },
                    codeName: a.grabExchangeArea,
                  }),
                ],
              });
            }),
            ei = n(26862),
            ti = (0, _.$j)(
              function (e) {
                var t,
                  n,
                  r,
                  a,
                  i = e.paymentModel,
                  o = e.orderModel;
                return {
                  isShowPriceDetail: i.isShowPriceDetail,
                  priceDetails: i.priceDetails || [],
                  isReschedule: !!(
                    (null != o &&
                      null !== (t = o.orderStatusInfo) &&
                      void 0 !== t &&
                      null !== (n = t._orderFlags) &&
                      void 0 !== n &&
                      n.isRescheduleBeConfirmed) ||
                    (null != o &&
                      null !== (r = o.orderStatusInfo) &&
                      void 0 !== r &&
                      null !== (a = r._orderFlags) &&
                      void 0 !== a &&
                      a.isReschedulePayWait)
                  ),
                  totalPrice: i.totalPrice,
                  desc: i.desc,
                  couponDesc: i.couponDesc,
                };
              },
              function (e) {
                return { togglePriceDetail: e.paymentModel.togglePriceDetail };
              }
            )(function (e) {
              var t = e.isShowPriceDetail,
                n = e.priceDetails,
                r = e.togglePriceDetail,
                a = e.isReschedule,
                i = e.totalPrice,
                o = e.desc,
                c = e.couponDesc;
              (0, w.useEffect)(
                function () {
                  a &&
                    ge.ubtTrace(
                      "TZWBuyOrderDetail_ResPriceDetailPop_exposure",
                      { PageId: ge.getPage().pageId, orderid: ge.getPage().oid }
                    );
                },
                [t, a]
              );
              return (0, tt.tZ)(gr.ZtDrawer, {
                className: "trainOrderDetailv2-price-detail",
                show: t,
                onClose: r,
                onWrapClose: r,
                title: "费用明细",
                drawerStyle: { borderRadius: "40rpx 40rpx 0 0" },
                children: (0, tt.BX)(I.View, {
                  className: "content",
                  children: [
                    null == n
                      ? void 0
                      : n.map(function (e, t) {
                          return (0, tt.BX)(
                            I.View,
                            {
                              className: "price-detail ".concat(
                                a ? "price-detail-reschedule" : ""
                              ),
                              children: [
                                !a &&
                                  (0, tt.tZ)(I.View, {
                                    className: "tit",
                                    children: e.typeName,
                                  }),
                                e.priceItem.map(function (e, t) {
                                  return (0, tt.BX)(
                                    I.View,
                                    {
                                      className: "price-item flex-center",
                                      children: [
                                        (0, tt.BX)(I.View, {
                                          style: { flex: 1 },
                                          children: [
                                            e.name,
                                            e.link
                                              ? (0, tt.tZ)(I.Text, {
                                                  className:
                                                    "iconfont2 ifont2-zhushi_linea_12 detail",
                                                  onClick: function () {
                                                    !(function (e) {
                                                      O.Z.commonNavigator(e);
                                                    })(e.link);
                                                  },
                                                })
                                              : null,
                                          ],
                                        }),
                                        (0, tt.tZ)(I.View, {
                                          children: (0, tt.tZ)(gr.ZtRichText, {
                                            nodes: e.desc,
                                          }),
                                        }),
                                      ],
                                    },
                                    t
                                  );
                                }),
                              ],
                            },
                            t
                          );
                        }),
                    a &&
                      (0, tt.BX)(I.View, {
                        className:
                          "price-detail price-detail-reschedule sum-detail",
                        children: [
                          (0, tt.BX)(I.View, {
                            className: "price-item flex-center",
                            children: [
                              (0, tt.tZ)(I.View, {
                                style: { flex: 1, fontWeight: "bold" },
                                children: "总计支付",
                              }),
                              (0, tt.tZ)(I.View, {
                                children: (0, tt.tZ)(gr.ZtRichText, {
                                  nodes: "￥".concat(i),
                                }),
                              }),
                            ],
                          }),
                          !!o &&
                            (0, tt.tZ)(I.View, {
                              className: "sum-desc",
                              children: o,
                            }),
                          !!c &&
                            (0, tt.tZ)(I.View, {
                              className: "coupon-desc",
                              children: (0, tt.tZ)(gr.ZtRichText, { nodes: c }),
                            }),
                        ],
                      }),
                  ],
                }),
              });
            }),
            ni = (0, _.$j)(
              function (e) {
                var t = e.paymentModel;
                return {
                  showPriceDesk: null == t ? void 0 : t.isShowPriceDeskView,
                  totalPrice: null == t ? void 0 : t.totalPrice,
                  payBtnText: null == t ? void 0 : t.payBtnText,
                  isShowPriceDetail: null == t ? void 0 : t.isShowPriceDetail,
                };
              },
              function (e) {
                var t = e.paymentModel;
                return {
                  togglePriceDetail: null == t ? void 0 : t.togglePriceDetail,
                };
              }
            )(function (e) {
              var t = e.showPriceDesk,
                n = e.totalPrice,
                r = e.payBtnText,
                a = e.togglePriceDetail,
                i = e.isShowPriceDetail;
              return t
                ? (0, tt.BX)(I.View, {
                    className: "trainOrderDetail-PayDesk-view",
                    children: [
                      (0, tt.BX)(I.View, {
                        className: "desk flex-center",
                        children: [
                          (0, tt.tZ)(I.View, {
                            className: "price-content",
                            children: (0, tt.BX)(I.View, {
                              className: "price",
                              children: [
                                (0, tt.tZ)(I.Text, {
                                  className: "rmb-sign",
                                  children: (0, tt.tZ)(ei.Z, {}),
                                }),
                                n,
                              ],
                            }),
                          }),
                          (0, tt.BX)(I.View, {
                            className: "right-view flex-center",
                            children: [
                              (0, tt.tZ)(I.Text, {
                                className: "detail",
                                id: "AJGF",
                                onClick: a,
                                children: "明细",
                              }),
                              (0, tt.tZ)(I.Text, {
                                className: "iconfont2 ".concat(
                                  i
                                    ? "ifont2-zhankai_linea_12"
                                    : "ifont2-shouqi_linea_12"
                                ),
                                id: "AJGG",
                                onClick: a,
                              }),
                              (0, tt.tZ)(I.View, {
                                className: "pay-btn",
                                id: "AJGH",
                                onClick: fn,
                                children: r,
                              }),
                            ],
                          }),
                        ],
                      }),
                      (0, tt.tZ)(I.View, {
                        style: { position: "relative", zIndex: "-1" },
                        children: (0, tt.tZ)(ti, {}),
                      }),
                    ],
                  })
                : null;
            }),
            ri = (0, _.$j)(function (e) {
              var t,
                n = e.orderModel;
              return {
                orderInfo: n.orderInfo,
                orderStatusInfo: n.orderStatusInfo,
                orderTicketList: n.orderTicketList,
                orginalOrder: n.orginalOrder,
                orginalOrderRoute2: n.orginalOrderRoute2,
                reScheduleOrders: n.rescheduleOrders,
                payFlag:
                  (null === (t = n.orderInfo) || void 0 === t
                    ? void 0
                    : t.payFlag) || 0,
                orderModel: n,
              };
            })(function (e) {
              var t = e.orderInfo,
                n = e.orginalOrder,
                r = e.orginalOrderRoute2,
                a = e.reScheduleOrders,
                i = e.payFlag,
                o = e.orderTicketList,
                c = e.orderStatusInfo;
              if (!n && !a.length) return null;
              var s = (function () {
                var e = [].concat(
                    (0, Re.Z)((null == n ? void 0 : n.ticketInfoList) || []),
                    (0, Re.Z)((null == r ? void 0 : r.ticketInfoList) || [])
                  ),
                  s = hn(e),
                  l = gn(e, a),
                  u = vn(a, i),
                  d = pn(e),
                  f = Tn(e, a),
                  m = [],
                  p = d || s || l || u,
                  h = "刷新";
                d
                  ? (h = "刷新支付结果")
                  : s
                  ? (h = "刷新出票结果")
                  : l
                  ? (h = "刷新退票结果")
                  : u && (h = "刷新改签结果"),
                  p && m.push({ text: h, action: Kn }),
                  !p && f && m.push({ text: "再次购买", action: tr });
                var g = o.find(function (e) {
                  return !e._isUselessOrder;
                });
                !p &&
                  g &&
                  !t.payFlag &&
                  m.push({ text: "分享行程", action: Un.bind(void 0, 2) });
                var v = (null == c ? void 0 : c._orderFlags) || {},
                  T = v.isTicketSuccess,
                  Z = v.isRescheduledSuccess,
                  w = v.isPartRescheduled,
                  N = v.isPartReturned;
                return (
                  !p &&
                    (T || Z || w || N) &&
                    m.push({
                      text: "购买返程",
                      action: tr.bind(void 0, "reverse"),
                    }),
                  m
                );
              })();
              return s.length > 0 && !t.payFlag
                ? (0, tt.tZ)(I.View, {
                    className: "trainOrderDetail-PayDesk-view",
                    children: (0, tt.tZ)(I.View, {
                      className: "desk flex flex-center",
                      children: s.slice(0, 2).map(function (e, t) {
                        return (0,
                        tt.tZ)(I.Button, { id: "AJHd", className: "btm-btn flex-1 ".concat(0 === t && s.length > 1 ? "left" : ""), onClick: e.action, children: e.text }, t);
                      }),
                    }),
                  })
                : null;
            }),
            ai = (0, _.$j)(function (e) {
              return { orderInfo: e.orderModel.orderInfo };
            })(function () {
              var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = e.orderInfo,
                n = void 0 !== t && t;
              return (0,
              tt.BX)(I.Block, { children: [!(null == n || !n.cancelFlag) && (0, tt.tZ)(I.View, { className: "white-padding-wrap trainOrder-box-view flex flex-center", id: "AJGC", onClick: Yt, children: "取消订单" }), !(null == n || !n.payFlag) && (null == n ? void 0 : n.bottomRemark) && (0, tt.tZ)(I.View, { className: "white-padding-wrap trainOrder-box-view book-tips", children: (0, tt.tZ)($r, { desc: n.bottomRemark }) })] });
            }),
            ii = n(17917),
            oi = w.default.memo(function (e) {
              var t = e.orderNumber,
                n = e.page,
                r = void 0 === n ? 0 : n,
                a = e.ubtTrace,
                i = void 0 === a ? function () {} : a,
                o = (0, w.useState)([]),
                c = (0, Ce.Z)(o, 2),
                s = c[0],
                l = c[1];
              (0, w.useEffect)(function () {
                (0, X.LJ5)({ orderNumber: t, fromPage: r })
                  .then(function (e) {
                    1 == e.resultCode ? l(e.ScenceInfos) : l([]);
                  })
                  .catch(function () {});
              }, []);
              var u = (function () {
                var e = (0, p.Z)(
                  (0, m.Z)().mark(function e(t, n) {
                    return (0, m.Z)().wrap(function (e) {
                      for (;;)
                        switch ((e.prev = e.next)) {
                          case 0:
                            n &&
                              i("c_trn_z_10650060639", {
                                bizKey: "z_mini_ordDetail_IM_click",
                                IMType: n,
                              }),
                              (0, ii.e)(t);
                          case 2:
                          case "end":
                            return e.stop();
                        }
                    }, e);
                  })
                );
                return function (t, n) {
                  return e.apply(this, arguments);
                };
              })();
              return (0, tt.tZ)(I.View, {
                className: "train-faq ".concat(1 === r ? "new" : ""),
                children:
                  s &&
                  s.length > 0 &&
                  (0, tt.BX)(I.View, {
                    className: "jcwt-list",
                    children: [
                      (0, tt.tZ)(I.View, {
                        className: "tit",
                        children: "常见问题",
                      }),
                      (0, tt.tZ)(I.View, {
                        className: "list-v2 flex",
                        children: s.map(function (e, t) {
                          return (0, tt.tZ)(
                            I.View,
                            {
                              className: "itemv2",
                              "data-item": e,
                              id: "AJAU",
                              onClick: function () {
                                u(e.ScenceUrl, e.ScenceContent);
                              },
                              children: (0, tt.tZ)(I.View, {
                                className: "cont",
                                children: e.ScenceContent,
                              }),
                            },
                            t
                          );
                        }),
                      }),
                    ],
                  }),
              });
            }),
            ci = function (e) {
              var t,
                n = e.data;
              if (
                null == n ||
                null === (t = n.showVipEntity) ||
                void 0 === t ||
                !t.newTitle
              )
                return null;
              return (0, tt.BX)(I.View, {
                className: "white-padding-wrap flex tdv2-VipRights",
                children: [
                  (0, tt.tZ)(I.View, {
                    className: "tit",
                    children: "出行权益",
                  }),
                  (0, tt.tZ)(I.View, {
                    className: "content",
                    children: (0, tt.BX)(I.View, {
                      className: "cont-item",
                      id: "AJFw",
                      onClick: function () {
                        var e = n || {},
                          t = e.showVipEntity,
                          a = e.showVipInfoEntity,
                          i = t.jumpUrl || "";
                        i
                          ? O.Z.commonNavigator(i)
                          : a &&
                            Yn({
                              toast: {
                                toastCode: r.VIP_RIGHTS_INFO_TOAST,
                                data: n,
                              },
                            }),
                          ge.ubtTrace("c_trn_z_10650060639", {
                            bizKey: "z_mini_ordDetail_member_click",
                          });
                      },
                      children: [
                        (0, tt.tZ)(gr.ZtRichText, {
                          nodes: n.showVipEntity.newTitle,
                        }),
                        (0, tt.tZ)(I.Text, {
                          className: "iconfont2 ifont2-arr",
                        }),
                      ],
                    }),
                  }),
                ],
              });
            },
            si =
              (0, N.h)(!0)(
                ((mr = (function (e) {
                  (0, T.Z)(n, e);
                  var t = (0, Z.Z)(n);
                  function n(e) {
                    var r;
                    return (
                      (0, h.Z)(this, n),
                      ((r = t.call(this, e)).state = {
                        isTieyou: S.default.isTieyou,
                        bannerInfo: {},
                      }),
                      r
                    );
                  }
                  return (
                    (0, g.Z)(n, [
                      {
                        key: "componentDidMount",
                        value: function () {
                          this.initPage(this.props);
                        },
                      },
                      {
                        key: "UNSAFE_componentWillReceiveProps",
                        value: function (e) {
                          this.initPage(e);
                        },
                      },
                      {
                        key: "initPage",
                        value: function (e) {
                          this.setState({ bannerInfo: e.info });
                        },
                      },
                      {
                        key: "onClickGZHBanner",
                        value: function () {
                          this.props.onConfirm && this.props.onConfirm();
                        },
                      },
                      {
                        key: "render",
                        value: function () {
                          var e = this.state,
                            t = e.isTieyou,
                            n = e.bannerInfo;
                          return (0, tt.tZ)(I.Block, {
                            children: (0, tt.tZ)(I.View, {
                              className: "common-train-gzh-banner",
                              children: (0, tt.tZ)(I.View, {
                                className: "gzh-banner ".concat(
                                  t ? "ty" : "zx"
                                ),
                                children: (0, tt.BX)(I.View, {
                                  className: "content gzh",
                                  children: [
                                    (0, tt.tZ)(I.View, { className: "img" }),
                                    (0, tt.BX)(I.View, {
                                      className: "middal",
                                      children: [
                                        (0, tt.tZ)(I.View, {
                                          className: "title",
                                          children: n.title,
                                        }),
                                        (0, tt.tZ)(I.View, {
                                          className: "desc",
                                          children: n.subTitle,
                                        }),
                                      ],
                                    }),
                                    (0, tt.tZ)(I.View, {
                                      className: "btn",
                                      id: "AADe",
                                      onClick: this.onClickGZHBanner.bind(this),
                                      children: "去开启",
                                    }),
                                  ],
                                }),
                              }),
                            }),
                          });
                        },
                      },
                    ]),
                    n
                  );
                })(w.default.Component)),
                (0, j.Z)(mr, "options", { addGlobalClass: !0 }),
                (fr = mr))
              ) || fr,
            li = n(3205),
            ui = function (e) {
              var t = e.data;
              if (null == t || !t.title) return null;
              return (
                t &&
                t.title &&
                S.default.isWechat &&
                (0, tt.tZ)(si, {
                  info: t,
                  onConfirm: function () {
                    li.Z.twebview({ data: { url: t.jumpUrl } });
                  },
                })
              );
            },
            di = n(94912),
            fi = function (e) {
              var t = e.inviteFriendFreeOrderCardInfo;
              if (null == t || !t.icon) return null;
              return (0, tt.tZ)(I.View, {
                className: "tdv2-InviteFriendFree",
                children: (0, tt.tZ)(I.View, {
                  className: "invite-friend-freeorder-box",
                  children: (0, tt.BX)(I.View, {
                    className: "invite-friend-box-inner",
                    children: [
                      (0, tt.tZ)(I.Image, {
                        className: "invite-friend-icon",
                        src: t.icon,
                      }),
                      (0, tt.tZ)(I.View, {
                        className: "invite-friend-description",
                        children: (0, tt.tZ)(gr.ZtRichText, {
                          nodes: t.description,
                        }),
                      }),
                      (0, tt.tZ)(I.Button, {
                        className: "invite-friend-btn-box",
                        id: "AJFh",
                        onClick: function () {
                          !(function (e) {
                            ge.ubtTrace("c_trn_z_10650060639", {
                              bizKey: "z_od_resident_activity_click",
                            }),
                              li.Z.twebview({ data: { url: e } });
                          })(t.link);
                        },
                        children: t.btnText,
                      }),
                    ],
                  }),
                }),
              });
            },
            mi = function (e) {
              var t = e.cashBackData;
              if (!t) return null;
              var n = t.icon,
                r = t.content,
                a = t.jumpText,
                i = t.jumpUrl;
              return (0, tt.BX)(I.View, {
                className:
                  "white-padding-wrap flex flex-center tdv2-HotelTagCashBack",
                children: [
                  (0, tt.BX)(I.View, {
                    className: "left-desc flex flex-center",
                    children: [
                      (0, tt.tZ)(I.Image, { className: "icon-img", src: n }),
                      (0, tt.tZ)(I.View, {
                        className: "tit",
                        children: (0, tt.tZ)(gr.ZtRichText, {
                          space: "nbsp",
                          nodes: O.Z.convertAppTextToHtmlStr(r),
                        }),
                      }),
                    ],
                  }),
                  (0, tt.tZ)(I.View, {
                    className: "right-btn flex flex-center",
                    id: "AJFg",
                    onClick: function () {
                      ge.ubtTrace("TZWBuyOrderDetail_hotelCashBack_click", {
                        PageId: ge.getPage().pageId,
                        orderId: ge.getPage().oid,
                        ActivityTyp: r,
                      }),
                        i && ge.navigateTo({ url: i });
                    },
                    children: a,
                  }),
                ],
              });
            },
            pi = function (e) {
              var t,
                n = e.info,
                r = e.scenicSpot;
              if (
                null == r ||
                null === (t = r.scenicSpotInfo) ||
                void 0 === t ||
                !t.title
              )
                return null;
              var a = n.commonRecommendCouponInfo,
                i = void 0 === a ? {} : a,
                o = n.scenicSpotList,
                c = void 0 === o ? [] : o;
              console.log("info", JSON.stringify(n));
              return (0, tt.BX)(I.View, {
                className: "tdv2-product-line-ticketRecommend",
                children: [
                  (0, tt.BX)(I.View, {
                    className: "coupon-info-list flex",
                    children: [
                      (0, tt.tZ)(I.View, { className: "split-line" }),
                      (null == i ? void 0 : i.couponInfoList) &&
                        (null == i ? void 0 : i.couponInfoList.length) &&
                        (null == i
                          ? void 0
                          : i.couponInfoList.map(function (e, t) {
                              return (0,
                              tt.BX)(I.View, { className: "item flex flex-center", children: [(0, tt.tZ)(I.Image, { className: "icon-img", src: e.iconUrl }), (0, tt.tZ)(I.View, { children: e.couponDesc })] }, "couponInfoList_".concat(t));
                            })),
                    ],
                  }),
                  (0, tt.tZ)(I.View, {
                    className: "scenicSpot-list flex",
                    children:
                      c.length &&
                      c.map(function (e, t) {
                        return (0,
                        tt.BX)(I.View, { className: "item flex flex-column", children: [(0, tt.BX)(I.View, { className: "img-content", children: [(0, tt.tZ)(I.Image, { className: "img", src: e.imageURL }), (0, tt.tZ)(I.View, { className: "desc-icon flex flex-center", children: (0, tt.tZ)(I.View, { className: "text", children: e.sortDesc }) })] }), (0, tt.tZ)(I.View, { className: "name", children: e.name }), (0, tt.BX)(I.View, { className: "price", children: [(0, tt.tZ)(I.Text, { className: "unit", children: "￥" }), (0, tt.tZ)(I.Text, { children: e.salePrice })] })] }, "couponInfoList_".concat(t));
                      }),
                  }),
                  (0, tt.tZ)(I.View, {
                    className: "btn",
                    id: "AJFu",
                    onClick: function () {
                      var e, t;
                      ge.navigateTo({
                        url: "/pages/taroCRN/ticket/pages/index/index?source=train_detail&cityID="
                          .concat(
                            null == r ||
                              null === (e = r.scenicSpotInfo) ||
                              void 0 === e
                              ? void 0
                              : e.scenicSpotCityId,
                            "&cityName="
                          )
                          .concat(
                            null == r ||
                              null === (t = r.scenicSpotInfo) ||
                              void 0 === t
                              ? void 0
                              : t.scenicSpotCityName
                          ),
                      });
                    },
                    children: "更多特惠门票",
                  }),
                ],
              });
            },
            hi = function (e) {
              var t = e.info,
                n = e.selectDate,
                r = t.hot,
                a = t.fromCity,
                i = t.toCity,
                o = t.dateTime,
                c = (0, w.useState)(!1),
                s = (0, Ce.Z)(c, 2),
                l = s[0],
                u = s[1],
                d = (0, w.useState)(a),
                f = (0, Ce.Z)(d, 2),
                m = f[0],
                p = f[1],
                h = (0, w.useState)(i),
                g = (0, Ce.Z)(h, 2),
                v = g[0],
                T = g[1],
                Z = n || o,
                N = M()(Z).format("M月D日"),
                b = O.Z.getCommonDayInfo(Z);
              console.log("info", JSON.stringify(t));
              var x = function (e) {
                var t = "from" === e,
                  n = {
                    fromPage: "trainOrderDetail",
                    selectType: e,
                    tabType: "",
                    title: t ? "选择出发城市" : "选择到达城市",
                    fromCity: m || "",
                  };
                ge.navigateTo({
                  url: "/pages/bus/citySelect/index?selectType=".concat(e),
                  data: n,
                  callback: function (e) {
                    console.log("select city", e);
                    var n = e.cityName,
                      r = e.stationName;
                    t ? p(r || n) : T(r || n);
                  },
                });
              };
              return (0, tt.BX)(I.View, {
                className: "tdv2-product-line-busSearchCard",
                children: [
                  (0, tt.BX)(I.View, {
                    className: "search-content",
                    children: [
                      (0, tt.BX)(I.View, {
                        className: "station flex flex-center",
                        children: [
                          (0, tt.tZ)(I.View, {
                            className: "from "
                              .concat(m ? "" : "gray", " ")
                              .concat(l ? "exchange" : ""),
                            id: "AJFj",
                            onClick: function () {
                              return x("from");
                            },
                            children: m,
                          }),
                          (0, tt.tZ)(I.View, {}),
                          (0, tt.tZ)(I.View, {
                            className: "to "
                              .concat(v ? "" : "gray", " ")
                              .concat(l ? "exchange" : ""),
                            id: "AJFk",
                            onClick: function () {
                              return x("to");
                            },
                            children: v || (l ? "出发" : "到达"),
                          }),
                        ],
                      }),
                      (0, tt.tZ)(I.View, {
                        className: "switch",
                        style: "transform: " + (l ? "rotate(360deg)" : ""),
                        id: "AJFl",
                        onClick: function () {
                          u(!l);
                        },
                        children: (0, tt.tZ)(I.Image, {
                          className: "img",
                          src: "https://images3.c-ctrip.com/ztrip/train.song/order_details/ddxq/btn_jh@3x.png",
                        }),
                      }),
                      (0, tt.BX)(I.View, {
                        className: "split-line flex",
                        children: [
                          (0, tt.tZ)(I.View, { className: "left-line" }),
                          (0, tt.tZ)(I.View, { className: "right-line" }),
                        ],
                      }),
                      (0, tt.tZ)(I.View, {
                        className: "from-data flex flex-center",
                        id: "AJFm",
                        onClick: function () {
                          var e = M()(o).format("M月D日");
                          ke(e, "bus");
                        },
                        children: "".concat(N, " ").concat(b),
                      }),
                    ],
                  }),
                  (0, tt.BX)(I.View, {
                    className: "hot-recommend flex flex-center",
                    children: [
                      (0, tt.tZ)(I.Image, {
                        className: "hot-icon",
                        src: "https://images3.c-ctrip.com/ztrip/train.song/order_details/ddxq/img_rmtj@3x.png",
                      }),
                      (0, tt.tZ)(I.View, { className: "split-line" }),
                      (0, tt.tZ)(I.View, {
                        className: "hot-city",
                        children: (0, tt.tZ)(I.ScrollView, {
                          scrollX: !0,
                          scrollWithAnimation: !0,
                          className: "scrollview-content",
                          children:
                            (null == r ? void 0 : r.length) > 0 &&
                            r.map(function (e, t) {
                              return (0, tt.tZ)(
                                I.View,
                                {
                                  className: "item flex-center",
                                  id: "AJFn",
                                  onClick: function () {
                                    return (function (e) {
                                      l ? p(e) : T(e);
                                    })(e);
                                  },
                                  children: e,
                                },
                                "".concat(t, "-hot-city")
                              );
                            }),
                        }),
                      }),
                    ],
                  }),
                  (0, tt.tZ)(I.View, {
                    className: "btn",
                    id: "AJFo",
                    onClick: function () {
                      var e = l ? v : m,
                        t = l ? m : v;
                      e
                        ? t
                          ? ge.navigateTo({
                              url: "/pages/bus/list/list?date="
                                .concat(Z, "&fromCity=")
                                .concat(e, "&toCity=")
                                .concat(t),
                            })
                          : (0, A.showToast)("请选择到达城市")
                        : (0, A.showToast)("请选择出发城市");
                    },
                    children: "汽车票查询",
                  }),
                ],
              });
            },
            gi = n(2326),
            vi = n(9062),
            Ti = n(59086),
            Zi = n(74255),
            wi = function (e) {
              var t = e.info,
                n = e.selectDate,
                r = t.cityName,
                a = t.cityCode,
                i = (0, w.useState)(r),
                o = (0, Ce.Z)(i, 2),
                c = o[0],
                s = o[1],
                l = (0, w.useState)(a),
                u = (0, Ce.Z)(l, 2),
                d = u[0],
                f = u[1],
                m = (0, w.useState)(!1),
                p = (0, Ce.Z)(m, 2),
                h = p[0],
                g = p[1],
                v = (0, w.useState)(r),
                T = (0, Ce.Z)(v, 2),
                Z = T[0],
                N = T[1],
                b = (0, w.useState)(a),
                x = (0, Ce.Z)(b, 2),
                k = x[0],
                y = x[1],
                C = (0, w.useState)(""),
                S = (0, Ce.Z)(C, 2),
                _ = S[0],
                V = S[1],
                R = (0, w.useState)(""),
                D = (0, Ce.Z)(R, 2),
                P = D[0],
                B = D[1],
                O = ["BJS"],
                F = Ti.C0.get();
              F &&
                (O = F.map(function (e) {
                  return e.cityCode;
                }));
              var E = new Date(),
                L = {
                  dptDate: M()(E).add(1, "day").format("YYYY-MM-DD"),
                  rtnDate: M()(E).add(3, "day").format("YYYY-MM-DD"),
                },
                X = function (e) {
                  li.Z.flightCity({
                    data: {
                      title:
                        "from" === e
                          ? "出发城市"
                          : "to" === e
                          ? "到达城市"
                          : "选择城市",
                      intlHidden: !1,
                    },
                    callback: function (t) {
                      "from" === e
                        ? (N(null == t ? void 0 : t.cityName),
                          y(null == t ? void 0 : t.cityCode))
                        : "to" === e
                        ? (V(null == t ? void 0 : t.cityName),
                          B(null == t ? void 0 : t.cityCode))
                        : (s(null == t ? void 0 : t.cityName),
                          f(null == t ? void 0 : t.cityCode));
                    },
                  });
                };
              return (0, tt.BX)(I.View, {
                className: "tdv2-product-line-flightSearchCard",
                children: [
                  (0, tt.BX)(I.View, {
                    className: "search-content",
                    children: [
                      (0, tt.BX)(I.View, {
                        className: "station flex flex-center",
                        children: [
                          (0, tt.tZ)(I.View, {
                            className: "from "
                              .concat(Z ? "" : "gray", " ")
                              .concat(h ? "exchange" : ""),
                            id: "AJFp",
                            onClick: function () {
                              return X("from");
                            },
                            children: Z,
                          }),
                          (0, tt.tZ)(I.View, {
                            className: "to "
                              .concat(_ ? "" : "gray", " ")
                              .concat(h ? "exchange" : ""),
                            id: "AJFq",
                            onClick: function () {
                              return X("to");
                            },
                            children: _ || (h ? "出发地" : "目的地"),
                          }),
                        ],
                      }),
                      (0, tt.tZ)(I.View, {
                        className: "switch",
                        style: "transform: " + (h ? "rotate(360deg)" : ""),
                        id: "AJFr",
                        onClick: function () {
                          g(!h);
                        },
                        children: (0, tt.tZ)(I.Image, {
                          className: "img",
                          src: "https://images3.c-ctrip.com/ztrip/train.song/order_details/ddxq/btn_jh@3x.png",
                        }),
                      }),
                      (0, tt.BX)(I.View, {
                        className: "split-line flex",
                        children: [
                          (0, tt.tZ)(I.View, { className: "left-line" }),
                          (0, tt.tZ)(I.View, { className: "right-line" }),
                        ],
                      }),
                      (0, tt.tZ)(I.View, {
                        className: "from-data flex flex-center  ".concat(
                          n ? "" : "gray"
                        ),
                        id: "AJFs",
                        onClick: function () {
                          ke(n || "", "flight");
                        },
                        children: n || "出发日期",
                      }),
                    ],
                  }),
                  (0, tt.tZ)(I.View, {
                    className: "btn",
                    id: "AJFt",
                    onClick: function () {
                      var e = h ? _ : Z,
                        t = h ? P : k,
                        r = h ? Z : _,
                        a = h ? k : P;
                      t
                        ? a
                          ? e !== r
                            ? e
                              ? r
                                ? n
                                  ? ge.navigateTo({
                                      url: "/pages/flight/list/list?departCity="
                                        .concat(e, "&departCityCode=")
                                        .concat(t, "&arriveCity=")
                                        .concat(r, "&arriveCityCode=")
                                        .concat(a, "&departDate=")
                                        .concat(n, "&nearby=1"),
                                      data: {
                                        dAirportName: e,
                                        aAirportName: r,
                                      },
                                    })
                                  : (0, A.showToast)("请选择出发日期~")
                                : (0, A.showToast)("请选择目的城市~")
                              : (0, A.showToast)("请选择出发城市~")
                            : (0, A.showToast)("出发地到达地不能相同")
                          : (0, A.showToast)("您所选择的到达站点没有机场")
                        : (0, A.showToast)("您所选择的出发站点没有机场");
                    },
                    children: "机票查询",
                  }),
                  (0, tt.tZ)(Zi.Z, {
                    bannerTitle: "特价机票",
                    onFlightClick: function (e) {
                      var t = e.depCityName,
                        n = e.depCityCode,
                        r = e.arrCityName,
                        a = e.arrCityCode,
                        i = e.depDate;
                      gi.Z.toFlightList({
                        departureCityName: t,
                        departureCityCode: n,
                        arrivalCityName: r,
                        arrivalCityCode: a,
                        departDate: i,
                        fromPage: vi.Ip.specialOrderDeatilCross,
                      });
                    },
                    onCityClick: X,
                    specialPriceCityCode: d,
                    flightQuery: L,
                    specialPriceCity: c,
                    specialCityCode: O,
                  }),
                ],
              });
            },
            Ni = M()().format("YYYY-MM-DD"),
            bi = [
              { title: "50", unit: "元", desc: "酒店新客券" },
              { title: "75", unit: "折", desc: "火车用户专享", tag: "可叠加" },
              { title: "85", unit: "折", desc: "黑钻体验特权", tag: "可叠加" },
            ],
            xi = w.default.memo(function (e) {
              var t,
                n = e.pageInstance,
                r = e.fromPage,
                a = e.onToHotel,
                i = void 0 === a ? function () {} : a,
                o = e.info,
                c = o.bookingInfo,
                s = o.homeBenefits,
                l = o.pinedInfo,
                u = (0, w.useState)(M()(c.checkInDate).format("YYYY-MM-DD")),
                d = (0, Ce.Z)(u, 2),
                f = d[0],
                m = d[1],
                p = (0, w.useState)(
                  M()(c.checkInDate).add(1, "day").format("YYYY-MM-DD")
                ),
                h = (0, Ce.Z)(p, 2),
                g = h[0],
                v = h[1],
                T = c.cityName,
                Z = c.cityId,
                N = l.title,
                b =
                  (l.subTitle,
                  s.homeBenefitsDetailInfo,
                  M()(f).format("MM-DD")),
                x = M()(g).format("MM-DD"),
                k = O.Z.getDayDiff(f, g),
                y = function () {
                  var e = M()(Ni).add(180, "day").format("YYYY-MM-DD");
                  li.Z.calendar(
                    {
                      checkInDate: f,
                      checkOutDate: g,
                      beginDate: Ni,
                      endDate: e,
                      type: "checkInOut",
                      confirmBtn: !0,
                      bu: "hotel",
                      showHotelNotice: !1,
                    },
                    function (e) {
                      var t = e.checkInDate,
                        n = e.checkOutDate;
                      m(t), v(n);
                    }
                  );
                },
                C = function () {
                  i(),
                    n.navigateTo({
                      url: "/pages/hotel/list/list",
                      data: {
                        queryModel: {
                          cityId: Z,
                          cityName: T,
                          checkInDate: f,
                          checkOutDate: g,
                        },
                        fromPage: r,
                      },
                    });
                };
              return T && Z
                ? (0, tt.BX)(I.View, {
                    className: "trn-htl-cross-book",
                    children: [
                      (0, tt.BX)(I.View, {
                        className: "trn-cross-book-wrap",
                        children: [
                          (0, tt.tZ)(I.View, {
                            className: "left",
                            children: (0, tt.BX)(I.View, {
                              className: "title",
                              children: [
                                (0, tt.tZ)(I.Text, {
                                  className: "city-str",
                                  children: N,
                                }),
                                (0, tt.tZ)(I.Image, {
                                  className: "tag",
                                  mode: "heightFix",
                                  src:
                                    null != r &&
                                    null !== (t = r.includes) &&
                                    void 0 !== t &&
                                    t.call(r, "flight")
                                      ? "https://images3.c-ctrip.com/ztrip/hotel/dahua/zong/img_plane_75z@3x.png"
                                      : "https://images3.c-ctrip.com/ztrip/train_xie/2022-03/zt_75.png",
                                }),
                              ],
                            }),
                          }),
                          (0, tt.tZ)(I.View, {
                            className: "right",
                            children: (0, tt.tZ)(I.Button, {
                              className: "book-btn",
                              onClick: C,
                              children: "领优惠",
                            }),
                          }),
                        ],
                      }),
                      (0, tt.BX)(I.View, {
                        className: "coupon-wrap",
                        children: [
                          (0, tt.tZ)(I.View, {
                            className: "coupon-list flex flex-center",
                            children: bi.map(function (e, t) {
                              return (0,
                              tt.BX)(I.View, { className: "coup", children: [(0, tt.tZ)(I.View, { className: "tag-wrap", children: !!e.tag && (0, tt.tZ)(I.Text, { className: "tag", children: e.tag }) }), (0, tt.BX)(I.View, { className: "title", children: [(0, tt.tZ)(I.Text, { children: e.title }), (0, tt.tZ)(I.Text, { className: "unit", children: e.unit })] }), (0, tt.tZ)(I.View, { className: "desc", children: e.desc })] }, t);
                            }),
                          }),
                          (0, tt.BX)(I.View, {
                            className: "flex date-select",
                            children: [
                              (0, tt.BX)(I.View, {
                                className: "date",
                                onClick: y,
                                children: [
                                  (0, tt.tZ)(I.Text, { children: b }),
                                  (0, tt.tZ)(I.Text, {
                                    className: "check",
                                    children: "入住",
                                  }),
                                ],
                              }),
                              (0, tt.tZ)(I.View, {
                                className: "total",
                                children: "".concat(k, "晚"),
                              }),
                              (0, tt.BX)(I.View, {
                                className: "flex date",
                                onClick: y,
                                children: [
                                  (0, tt.tZ)(I.View, { children: x }),
                                  (0, tt.tZ)(I.View, {
                                    className: "check",
                                    children: "离店",
                                  }),
                                ],
                              }),
                            ],
                          }),
                          (0, tt.tZ)(I.View, {
                            className: "submit-btn",
                            onClick: C,
                            children: "领优惠 订酒店",
                          }),
                        ],
                      }),
                    ],
                  })
                : null;
            }),
            ki = function (e) {
              var t = e.data,
                n = e.busSelectDate,
                r = e.flightSelectDate,
                a = e.scenicSpot,
                i = (0, w.useState)(0),
                o = (0, Ce.Z)(i, 2),
                c = o[0],
                s = o[1];
              if (!t || !t.length) return null;
              return (0, tt.BX)(I.View, {
                className: "flex tdv2-product-line-recommend flex flex-column",
                children: [
                  (0, tt.BX)(I.View, {
                    className: "tab-list flex",
                    children: [
                      t.map(function (e, t) {
                        return (0, tt.tZ)(
                          I.View,
                          {
                            className: "tab-item ".concat(
                              c === t ? "select" : ""
                            ),
                            id: "AJFi",
                            onClick: function () {
                              return (function (e) {
                                e !== c && s(e);
                              })(t);
                            },
                            children: e.tabName,
                          },
                          "recommend_tab_".concat(t)
                        );
                      }),
                      (0, tt.tZ)(I.View, {
                        className: "scrollbar",
                        style: "width: ".concat(100 / t.length, "%"),
                        children: (0, tt.tZ)(I.Text, {
                          className: "scrollbar-content",
                        }),
                      }),
                    ],
                  }),
                  (0, tt.BX)(I.View, {
                    className: "recommend-content",
                    children: [
                      (0, tt.tZ)(I.Block, {
                        children:
                          t[c].ptLineType === se.HOTEL &&
                          (0, tt.tZ)(xi, {
                            info: t[c]._recommend,
                            pageInstance: ge.getPage(),
                          }),
                      }),
                      (0, tt.tZ)(I.Block, {
                        children:
                          t[c].ptLineType === se.TICKET &&
                          (0, tt.tZ)(pi, {
                            info: t[c]._recommend,
                            scenicSpot: a,
                          }),
                      }),
                      (0, tt.tZ)(I.Block, {
                        children:
                          t[c].ptLineType === se.BUS &&
                          (0, tt.tZ)(hi, {
                            info: t[c]._recommend,
                            selectDate: n,
                          }),
                      }),
                      (0, tt.tZ)(I.Block, {
                        children:
                          t[c].ptLineType === se.FLIGHT &&
                          (0, tt.tZ)(wi, {
                            info: t[c]._recommend,
                            selectDate: r,
                          }),
                      }),
                    ],
                  }),
                ],
              });
            },
            yi = n(58117),
            Ci = function (e) {
              var t = e.data,
                n = e.orginalOrder;
              if (!t || !t.tripDetailSmartSchemeInfo)
                return (0, tt.tZ)(I.View, {});
              var r = n._trainView,
                a = {
                  fromStation: r.fromStation,
                  toStation: r.toStation,
                  trainNum: r.trainNo,
                  fromDate: r.fromDate,
                  fromTime: r.fromTime,
                  toTime: r.toTime,
                  source: t.source,
                };
              return (0, tt.tZ)(yi.Z, {
                smartSchemeInfo: t.tripDetailSmartSchemeInfo,
                trainInfo: a,
              });
            },
            Si = function () {
              var e = encodeURIComponent(
                  JSON.stringify({
                    margin: "8px 8px 0 8px",
                    width: "calc(100% - 16px)",
                  })
                ),
                t = encodeURIComponent(
                  JSON.stringify({
                    showEvent: {
                      keyName: "TZABuyOrderDetail_AcivityBannerOct_exposure",
                      value: { Name: "" },
                    },
                    clickEvent: {
                      keyName: "TZABuyOrderDetail_AcivityBannerOct_click",
                      value: { Name: "" },
                    },
                  })
                );
              return (0, tt.tZ)(I.Block, {
                children: de.map(function (n, r) {
                  return (0, tt.tZ)(
                    I.Block,
                    {
                      children: (0, tt.tZ)(hr, {
                        Area: function (r) {
                          var i = "",
                            o = "";
                          return (
                            n === a.commonArea &&
                              ((i = r.image0JumpUrl), (o = r.imgUrl)),
                            n === a.ticketFreeLotteryArea &&
                              ((i = r.jumpUrl), (o = r.imgUrl)),
                            (0, tt.tZ)(Yr.Z, {
                              type: "TRAIN_COMMON_ACTIVITY_IMAGE_BANNER",
                              jumpUrl: i,
                              imageUrl: o,
                              styleInfo: e,
                              logTraceInfo: t,
                            })
                          );
                        },
                        readFrom: "area",
                        codeName: n,
                      }),
                    },
                    "train-order-common-banner-".concat(r)
                  );
                }),
              });
            },
            _i = (0, _.$j)(function (e) {
              var t,
                n = e.crossModel,
                r = e.orderModel;
              return (0,
              R.Z)((0, R.Z)({}, n), {}, { isShowDGFAQ: !!r.orderInfo && 1 !== (null === (t = r.orderInfo) || void 0 === t ? void 0 : t.payFlag) && !r.isSelfTicket, orginalOrder: r.orginalOrder });
            })(function () {
              var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = e.isShowDGFAQ,
                n = void 0 !== t && t,
                r = e.scenicSpot,
                i = e.vipInfo,
                c = void 0 === i ? null : i,
                s = e.productLineRecommendList,
                l = void 0 === s ? null : s,
                u = e.busSelectDate,
                d = void 0 === u ? "" : u,
                f = e.flightSelectDate,
                m = void 0 === f ? "" : f,
                p = e.orginalOrder;
              return (0, tt.BX)(I.Block, {
                children: [
                  (0, tt.tZ)(hr, {
                    Area: function (e) {
                      return (0, tt.tZ)(Ci, { data: e, orginalOrder: p });
                    },
                    readFrom: "area",
                    codeName: a.smartSeatRecommendArea,
                  }),
                  (0, tt.tZ)(hr, {
                    Area: function (e) {
                      return (
                        ge.ubtTrace(
                          "TZWBuyOrderDetail_hotelCashBack_exposure",
                          {
                            PageId: ge.getPage().pageId,
                            orderId: ge.getPage().oid,
                            ActivityTyp: e.content,
                          }
                        ),
                        (0, tt.tZ)(mi, { cashBackData: e })
                      );
                    },
                    readFrom: "area",
                    codeName: a.hotelTagCashBackArea,
                  }),
                  (0, tt.tZ)(hr, {
                    Area: function (e) {
                      return (
                        ge.ubtTrace("s_trn_z_trace_10650060639", {
                          exposureType: "normal",
                          bizKey: "z_od_resident_activity_show",
                        }),
                        (0, tt.tZ)(fi, { inviteFriendFreeOrderCardInfo: e })
                      );
                    },
                    readFrom: "area",
                    codeName: a.inviteFriendFreeArea,
                  }),
                  (0, tt.tZ)(hr, {
                    Area: function (e) {
                      return (
                        e &&
                        S.default.isWechat &&
                        (0, tt.tZ)(di.Z, {
                          friendActivityInfo:
                            null == e ? void 0 : e.orderBanner,
                        })
                      );
                    },
                    readFrom: "area",
                    codeName: a.privateDomainArea,
                  }),
                  (0, tt.tZ)(Si, {}),
                  !!l &&
                    (0, tt.tZ)(ki, {
                      data: l,
                      busSelectDate: d,
                      flightSelectDate: m,
                      scenicSpot: r,
                    }),
                  (0, tt.tZ)(hr, {
                    Area: function (e) {
                      return (0, tt.tZ)(ui, { data: e });
                    },
                    readFrom: "extra",
                    codeName: o.officialGuidTipsInfo,
                  }),
                  (0, tt.tZ)(ci, { data: c }),
                  !!n &&
                    (0, tt.tZ)(I.Block, {
                      children: (0, tt.tZ)(oi, {
                        orderNumber: ge.getPage().oid,
                        page: 0,
                        ubtTrace: ge.ubtTrace,
                      }),
                    }),
                ],
              });
            }),
            Ii = n(94262),
            Vi = w.default.memo(function (e) {
              var t = e.iconUrl,
                n = void 0 === t ? "" : t,
                r = e.title,
                a = void 0 === r ? "" : r,
                i = e.rightBtnTxt,
                o = void 0 === i ? "" : i,
                c = e.onClick,
                s = void 0 === c ? function () {} : c;
              return (0,
              tt.BX)(I.View, { className: "smart-rs-common-banner flex-align-items-center", children: [n && (0, tt.tZ)(I.Image, { className: "icon", src: n }), (0, tt.tZ)(gr.ZtRichText, { className: "content", nodes: a, space: "nbsp" }), (0, tt.BX)(I.View, { className: "flex-align-items-center", id: "AACD", onClick: s, children: [(0, tt.tZ)(I.View, { className: "btn", children: o }), (0, tt.tZ)(I.Text, { className: "iconfont ifont-more" })] })] });
            }),
            Ri = w.default.memo(function (e) {
              var t = e.orderNumber,
                n = void 0 === t ? "" : t;
              if (!n) return null;
              var r = O.Z.highLightText(
                "原车票请及时退票, 超时无法退款",
                "请及时退票",
                "#FF5959",
                "#FF5959"
              );
              return (0, tt.BX)(I.View, {
                className: "smart-rs-rt-banner flex-align-items-center",
                children: [
                  (0, tt.tZ)(I.Image, {
                    className: "icon",
                    src: "https://images3.c-ctrip.com/ztrip/train_zhu/icon_Ticket_tui_zx.png",
                  }),
                  (0, tt.tZ)(gr.ZtRichText, {
                    className: "content",
                    nodes: r,
                    space: "nbsp",
                  }),
                  (0, tt.BX)(I.View, {
                    className: "flex-align-items-center",
                    id: "AACG",
                    onClick: function () {
                      x().navigateTo({
                        url: "".concat(
                          _e.ZP.getTrainDetailUrl(n),
                          "&autoPopRefundDialog=true"
                        ),
                      });
                    },
                    children: [
                      (0, tt.tZ)(I.View, {
                        className: "btn",
                        children: "查看",
                      }),
                      (0, tt.tZ)(I.Text, { className: "iconfont ifont-more" }),
                    ],
                  }),
                ],
              });
            }),
            Di = w.default.memo(function (e) {
              var t = e.message;
              return (0,
              tt.tZ)(I.View, { className: "train-order-marquee-tip", children: (0, tt.tZ)(br.Z, { message: t, id: "train-order-marquee-tip" }) });
            }),
            Pi = (0, _.$j)(function (e) {
              var t = e.octopusModel;
              return (0, R.Z)({}, t);
            })(function (e) {
              var t,
                n,
                r = e.notices,
                a =
                  null ===
                    (t = Ve.ZP.parseOctopusNotice(null == r ? void 0 : r[0])) ||
                  void 0 === t
                    ? void 0
                    : t._jsonInfo;
              if (!a) return null;
              var o = (function () {
                  var e = (0, p.Z)(
                    (0, m.Z)().mark(function e() {
                      return (0, m.Z)().wrap(function (e) {
                        for (;;)
                          switch ((e.prev = e.next)) {
                            case 0:
                              if (
                                (null == r ? void 0 : r[0].noticeCode) !==
                                i.notLoginNotice
                              ) {
                                e.next = 6;
                                break;
                              }
                              return (
                                (e.next = 3),
                                ge.navigateToAsync({
                                  url: "/pages/12306/login/login",
                                })
                              );
                            case 3:
                              return (
                                ge.getDispatch().my12306Model.refresh(),
                                ge
                                  .getDispatch()
                                  .octopusModel.setOctopus({ notices: [] }),
                                e.abrupt("return")
                              );
                            case 6:
                              if (
                                (null == r ? void 0 : r[0].noticeCode) !==
                                i.StudentQualificationFailNotice
                              ) {
                                e.next = 8;
                                break;
                              }
                              return e.abrupt("return", (0, De.Zs)());
                            case 8:
                              if (!a.jumpUrl) {
                                e.next = 11;
                                break;
                              }
                              return (
                                li.Z.twebview({ data: { url: a.jumpUrl } }),
                                e.abrupt("return")
                              );
                            case 11:
                              (a.title || a.subTitle) &&
                                ge.showCommonDialog({
                                  title:
                                    a.subTitle && a.title ? a.title : "公告",
                                  content: a.subTitle || a.title,
                                });
                            case 12:
                            case "end":
                              return e.stop();
                          }
                      }, e);
                    })
                  );
                  return function () {
                    return e.apply(this, arguments);
                  };
                })(),
                c = function (e) {
                  return "<div style='overflow: hidden;white-space: nowrap;text-overflow: ellipsis'>".concat(
                    e,
                    "</div>"
                  );
                };
              return (0,
              tt.tZ)(I.Block, { children: a.buttonName && a.jumpUrl ? (0, tt.BX)(I.View, { className: "trainOrder-v2-notice common-notice-with-btn flex flex-center white-padding-wrap", children: [(0, tt.BX)(I.View, { className: "content flex-1", children: [(0, tt.tZ)(I.View, { className: "title", children: (0, tt.tZ)(gr.ZtRichText, { nodes: a.title }) }), (0, tt.tZ)(I.View, { className: "sub-title", children: (null === (n = a.subTitle) || void 0 === n ? void 0 : n.length) > 300 ? (0, tt.tZ)(Di, { message: a.subTitle }) : (0, tt.tZ)(I.View, { className: "message-wrap", children: (0, tt.tZ)(gr.ZtRichText, { nodes: a.subTitle }) }) })] }), (0, tt.tZ)(I.Button, { className: "btn", id: "AJFz", onClick: o, children: a.buttonName })] }) : a.title && a.subTitle ? (0, tt.BX)(I.View, { className: "trainOrder-v2-notice common-notice flex flex-center", id: "AJFy", onClick: o, children: [a.title && (0, tt.tZ)(I.View, { className: "title", style: "overflow:hidden;paddingRight:5rpx", children: (0, tt.tZ)(gr.ZtRichText, { nodes: c(a.title) }) }), (0, tt.tZ)(I.View, { className: "message flex-1", style: "overflow:hidden", children: (0, tt.tZ)(gr.ZtRichText, { nodes: c(a.subTitle) }) }), (0, tt.tZ)(I.Text, { className: "iconfont2 ifont2-arr iconfont arr" })] }) : (0, tt.BX)(I.View, { className: "trainOrder-v2-notice common-notice flex flex-center", id: "AJFy", onClick: o, children: [(a.title || a.subTitle) && (0, tt.tZ)(I.View, { className: "title flex-1", style: "overflow:hidden", children: (0, tt.tZ)(gr.ZtRichText, { nodes: c(a.title || a.subTitle) }) }), (0, tt.tZ)(I.Text, { className: "iconfont2 ifont2-arr iconfont arr" })] }) });
            }),
            Ai = (0, _.$j)(function (e) {
              var t;
              return {
                refundInfo:
                  null === (t = e.orderModel.orderInfo) || void 0 === t
                    ? void 0
                    : t.refundInfo,
              };
            })(function () {
              var e =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                t = e.refundInfo,
                n = function () {
                  li.Z.twebview({
                    data: { url: t.refundLink, needLogin: !0, isNavigate: !0 },
                  });
                };
              return t
                ? (0, tt.BX)(I.View, {
                    className:
                      "white-padding-wrap refund-detail flex flex-center",
                    children: [
                      (0, tt.tZ)(I.View, {
                        className: "wrap-title flex-1",
                        children: "退款详情",
                      }),
                      (0, tt.BX)(I.View, {
                        className: "wrap-desc",
                        id: "AJGB",
                        onClick: n,
                        children: [
                          "查看退款进度",
                          (0, tt.tZ)(I.Text, {
                            className: "iconfont2 ifont2-arr arr",
                          }),
                        ],
                      }),
                    ],
                  })
                : null;
            }),
            Bi = function (e) {
              var t = e.bannerInfo;
              return !t || (1 === t.firstStatus && 1 === t.secondStatus)
                ? (0, tt.tZ)(tt.HY, {})
                : (0, tt.tZ)(I.View, {
                    className: "trainDetail-compose-banner",
                    children: (0, tt.tZ)(wa, { tripInfo: t }),
                  });
            },
            Oi = w.default.memo(function (e) {
              var t = e.peaceRefundInfo;
              if (!t) return (0, tt.tZ)(tt.HY, {});
              var n = "";
              switch (t.type) {
                case ae:
                  n =
                    "https://images3.c-ctrip.com/ztrip/train_zhu/tag_AnXinTui_ZNGQ.png";
              }
              return (0, tt.BX)(I.View, {
                className: "smart-rspr-banner flex-align-items-center",
                id: "AJGt",
                onClick: function () {
                  return Yn({
                    toast: {
                      toastCode: r.smartRSPeaceRefundToast,
                      data: t.srRules,
                    },
                  });
                },
                children: [
                  (0, tt.tZ)(I.Image, { className: "l-img", src: n }),
                  (0, tt.tZ)(I.View, {
                    className: "rspr-note flex-1",
                    children: t.note,
                  }),
                  (0, tt.tZ)(I.View, { className: "iconfont2 ifont2-arr" }),
                ],
              });
            }),
            Fi = function (e) {
              var t = e.data,
                n = e.onApplyClaim,
                r = void 0 === n ? function () {} : n;
              if (!t) return null;
              var a = (0, w.useState)(!0),
                i = (0, Ce.Z)(a, 2),
                o = i[0],
                c = i[1],
                s = t.time,
                l = t.hasTimeOut,
                u = t.refundInfos,
                d = void 0 === u ? [] : u;
              return (0, tt.BX)(I.View, {
                className: "trainDetail-multi-route-refund order-white",
                children: [
                  (0, tt.BX)(I.View, {
                    className: "header",
                    children: [
                      (0, tt.BX)(I.View, {
                        className: "left",
                        children: [
                          (0, tt.tZ)(I.View, {
                            className: "title",
                            children: "退票关怀金",
                          }),
                          (0, tt.tZ)(I.View, {
                            className: "title-desc",
                            children: s,
                          }),
                        ],
                      }),
                      l
                        ? (0, tt.tZ)(I.View, {
                            className: "right",
                            children: "超时已失效",
                          })
                        : (0, tt.BX)(I.View, {
                            className: "right",
                            id: "AJGe",
                            onClick: c.bind(void 0, !o),
                            children: [
                              o ? "收起" : "展开详情",
                              (0, tt.tZ)(I.Text, {
                                className: "iconfont2 ".concat(
                                  o
                                    ? "ifont2-shouqi_linea_12"
                                    : "ifont2-zhankai_linea_12"
                                ),
                              }),
                            ],
                          }),
                    ],
                  }),
                  o &&
                    (0, tt.tZ)(I.View, {
                      className: "content",
                      children: d.map(function (e, t) {
                        var n = e.canUse,
                          a = e.refundPrice,
                          i = e.passengerId;
                        return (0,
                        tt.BX)(I.View, { className: "content-li", children: [(0, tt.BX)(I.View, { className: "left", children: ["为您承担退票手续费 ", (0, tt.BX)(I.Text, { className: "price", children: ["￥", a] })] }), (0, tt.tZ)(I.View, { className: "right", children: n ? (0, tt.tZ)(I.View, { className: "apply-btn", id: "AJGf", onClick: r.bind(void 0, { passengerId: i }), children: "申请" }) : (0, tt.tZ)(I.View, { className: "apply-disable", children: "已申请" }) })] }, t);
                      }),
                    }),
                ],
              });
            },
            Mi = function (e) {
              var t = e.data,
                n = (function () {
                  var e = (0, p.Z)(
                    (0, m.Z)().mark(function e(t) {
                      var n, r;
                      return (0, m.Z)().wrap(
                        function (e) {
                          for (;;)
                            switch ((e.prev = e.next)) {
                              case 0:
                                return (
                                  (n = t.passengerId),
                                  (0, A.showLoading)("加载中..."),
                                  (e.prev = 2),
                                  (e.next = 5),
                                  (0, U.v3)({
                                    passengerId: n,
                                    claimType: 6,
                                    orderNumber: ge.getPage().oid,
                                  })
                                );
                              case 5:
                                if (
                                  ((r = e.sent),
                                  (0, A.hideLoading)(),
                                  1 === r.resultCode)
                                ) {
                                  e.next = 10;
                                  break;
                                }
                                return (
                                  (0, A.showToast)(
                                    r.resultMessage || "申请失败，请稍后重试~"
                                  ),
                                  e.abrupt("return")
                                );
                              case 10:
                                (0, A.showToast)(
                                  r.resultMessage || "申请成功~"
                                ),
                                  Kn(),
                                  (e.next = 17);
                                break;
                              case 14:
                                (e.prev = 14),
                                  (e.t0 = e.catch(2)),
                                  (0, A.hideLoading)();
                              case 17:
                              case "end":
                                return e.stop();
                            }
                        },
                        e,
                        null,
                        [[2, 14]]
                      );
                    })
                  );
                  return function (t) {
                    return e.apply(this, arguments);
                  };
                })();
              return (0, tt.tZ)(Fi, { data: t, onApplyClaim: n });
            },
            Ei = (0, _.$j)(function (e) {
              return e.octopusModel;
            })(function (e) {
              return (
                (0, Ii.Z)(e),
                (0, tt.BX)(I.Block, {
                  children: [
                    (0, tt.tZ)(Pi, {}),
                    (0, tt.tZ)(hr, {
                      Area: function (e) {
                        return (0, tt.tZ)(Vi, {
                          title: null == e ? void 0 : e.remindTitle,
                          rightBtnTxt: "去查看",
                          id: "AJGA",
                          onClick: function () {
                            return ge.navigateTo({
                              url: "/pages/trainsmart/smartRSTicket/index?oid=".concat(
                                null == e ? void 0 : e.rescheduleOrderNumber
                              ),
                            });
                          },
                        });
                      },
                      readFrom: "area",
                      codeName: a.smartRescheduleRemindArea,
                    }),
                    (0, tt.tZ)(Ai, {}),
                    (0, tt.tZ)(hr, {
                      Area: function (e) {
                        return (0, tt.tZ)(Oi, { peaceRefundInfo: e });
                      },
                      codeName: a.smartSafeRefundOrderDetailArea,
                    }),
                    (0, tt.tZ)(hr, {
                      Area: function (e) {
                        return (0, tt.tZ)(Ri, { orderNumber: e.orderNumber });
                      },
                      readFrom: "toast",
                      codeName: r.smartRescheduleStraightToast,
                    }),
                    (0, tt.tZ)(hr, {
                      Area: function (e) {
                        return (0, tt.tZ)(Bi, { bannerInfo: e });
                      },
                      codeName: a.smartMultiRouteArea,
                    }),
                    (0, tt.tZ)(hr, {
                      Area: function (e) {
                        return 0 === e.type
                          ? (0, tt.tZ)(Mi, { data: e })
                          : null;
                      },
                      codeName: a.multiRouteRefundArea,
                    }),
                  ],
                })
              );
            });
          function Li(e) {
            var t = e.data;
            if (!t) return null;
            var n = t.link,
              r = t.icon,
              a = t.bannerTitle,
              i = t.bannerButtonName,
              o = a,
              c = t.describeBanner,
              s = i || "去领取",
              l =
                r ||
                "https://images3.c-ctrip.com/ztrip/zhixingios/z_22/05/img_order_banner_icon.webp";
            return (0, tt.BX)(I.View, {
              className: "train-detail-MarketBigAmountGifts-banner with-bg",
              children: [
                (function (e) {
                  var t =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : "scaleToFill";
                  return (0, tt.tZ)(I.Image, {
                    src: e,
                    webp: !0,
                    mode: t,
                    className: "bg-image-comp",
                  });
                })(
                  "https://images3.c-ctrip.com/ztrip/zhixingios/z_22/05/img_order_banner_coupon.webp"
                ),
                l &&
                  (0, tt.tZ)(I.Image, {
                    src: l,
                    webp: !0,
                    mode: "aspectFit",
                    className: "icon",
                  }),
                (0, tt.BX)(I.View, {
                  className: "info-content",
                  children: [
                    (0, tt.tZ)(I.View, {
                      className: "top-content",
                      children: (0, tt.tZ)(gr.ZtRichText, {
                        nodes: o,
                        space: "nbsp",
                      }),
                    }),
                    (0, tt.tZ)(I.View, { className: "desc", children: c }),
                  ],
                }),
                (0, tt.tZ)(I.View, {
                  className: "btn",
                  id: "AJAd",
                  onClick: function () {
                    O.Z.commonNavigator(n);
                  },
                  children: s,
                }),
              ],
            });
          }
          var Xi,
            zi = n(477),
            Ui = n(69510),
            ji = (0, _.$j)(function (e) {
              return { orderStatusInfo: e.orderModel.orderStatusInfo };
            })(
              w.default.memo(function (e) {
                var t = e.orderStatusInfo,
                  n = (0, w.useState)([]),
                  r = (0, Ce.Z)(n, 2),
                  a = r[0],
                  i = r[1],
                  o = (function () {
                    var e = (0, p.Z)(
                      (0, m.Z)().mark(function e() {
                        var n, r, a, o;
                        return (0, m.Z)().wrap(
                          function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  if (((e.prev = 0), S.default.isWechat)) {
                                    e.next = 3;
                                    break;
                                  }
                                  return e.abrupt("return");
                                case 3:
                                  if (100 === t.code || 203 === t.code) {
                                    e.next = 5;
                                    break;
                                  }
                                  return e.abrupt("return");
                                case 5:
                                  return (
                                    (e.next = 7),
                                    O.Z.getSubscribe(zi.Z.TMPIDS_V2)
                                  );
                                case 7:
                                  if (
                                    ((n = e.sent),
                                    (r = n.mainSwitch),
                                    (a = n.unKnownList),
                                    console.log("TMPIDS_LONG ininin", r, a),
                                    r && O.Z.notEmptyArray(a) && a.length)
                                  ) {
                                    e.next = 19;
                                    break;
                                  }
                                  return (
                                    (e.next = 14), O.Z.getSubscribe(zi.Z.TMPIDS)
                                  );
                                case 14:
                                  (o = e.sent),
                                    console.log("TMPIDS ininin", o),
                                    o.mainSwitch &&
                                    O.Z.notEmptyArray(o.unKnownList) &&
                                    o.unKnownList.length
                                      ? i([])
                                      : i(o.unKnownList),
                                    (e.next = 20);
                                  break;
                                case 19:
                                  i(a);
                                case 20:
                                  e.next = 25;
                                  break;
                                case 22:
                                  (e.prev = 22),
                                    (e.t0 = e.catch(0)),
                                    console.log(e.t0);
                                case 25:
                                case "end":
                                  return e.stop();
                              }
                          },
                          e,
                          null,
                          [[0, 22]]
                        );
                      })
                    );
                    return function () {
                      return e.apply(this, arguments);
                    };
                  })();
                return (
                  (0, w.useEffect)(
                    function () {
                      t && o();
                    },
                    [t]
                  ),
                  t && (null == a ? void 0 : a.length) > 0
                    ? (0, tt.tZ)(Ui.Z, {
                        isuiv2: !0,
                        isTieyou: S.default.isTieyou,
                        buttonName: "去开启",
                        subTitle: "第一时间获取出票/行程/低价活动最新消息",
                        title: "开启微信公众号通知",
                        tmplIds: a,
                        confirm: o,
                        ubtTrace: ge.ubtTrace,
                      })
                    : null
                );
              })
            ),
            Gi = function () {
              return (0, tt.BX)(I.Block, {
                children: [
                  (0, tt.tZ)(hr, {
                    Area: function (e) {
                      return 0 !== e.type ? (0, tt.tZ)(Mi, { data: e }) : null;
                    },
                    codeName: a.multiRouteRefundArea,
                  }),
                  (0, tt.tZ)(hr, {
                    Area: function (e) {
                      return (0, tt.tZ)(Li, { data: e });
                    },
                    codeName: a.wxBigCouponArea,
                  }),
                  (0, tt.tZ)(ji, {}),
                ],
              });
            },
            Hi = n(94190),
            Wi = n(41969),
            Ji = n.n(Wi),
            Ki = (0, _.$j)(
              function (e) {
                var t = e.orderModel,
                  n = e.ticketCollectionModel,
                  r = e.my12306Model;
                return {
                  orderTicketList: t.orderTicketList || [],
                  isShowTipsDotInStationServer:
                    n.isShowTipsDotInStationServer || !1,
                  userName12306: r.userName12306 || "",
                };
              },
              function (e) {
                return {
                  onSetIsShowTipsDotInStationServer: function (t) {
                    return e.ticketCollectionModel.setIsShowTipsDotInStationServer(
                      t
                    );
                  },
                };
              }
            )(
              w.default.memo(function (e) {
                var t = e.orderTicketList,
                  n = e.isShowTipsDotInStationServer,
                  r = e.onSetIsShowTipsDotInStationServer,
                  i = e.userName12306,
                  o = (0, w.useRef)({}),
                  c = t.filter(function (e) {
                    return !e._isUselessOrder;
                  }),
                  s = [
                    te.studentQualification,
                    te.stationScreen,
                    te.trnTimeCheck,
                    te.childAdder,
                    te.trainTicketHolder,
                    te.ticketUpgrade,
                    te.dynamicTrainRoute,
                    te.recallLostItem,
                    te.priorityPassenger,
                    te.trainStatus,
                    te.ticketingInstructions,
                    te.transferInquiry,
                    te.outageInquiry,
                    te.informationForChildren,
                    te.informationForStudent,
                    te.officialPoint,
                    te.QAExpert,
                  ];
                if (null == c || !c.length) return null;
                var l = function (e) {
                    var t = Ji().enc.Utf8.parse("-!@QWaszx#^GDFUN"),
                      n = Ji().enc.Utf8.parse("09,.34ajoydfuEEi");
                    return Ji()
                      .AES.encrypt(e, t, {
                        iv: n,
                        mode: Ji().mode.CBC,
                        padding: Ji().pad.Pkcs7,
                      })
                      .toString();
                  },
                  u = (function () {
                    var e = (0, p.Z)(
                      (0, m.Z)().mark(function e(t) {
                        var n, r, a;
                        return (0, m.Z)().wrap(function (e) {
                          for (;;)
                            switch ((e.prev = e.next)) {
                              case 0:
                                if ((n = i)) {
                                  e.next = 5;
                                  break;
                                }
                                return (
                                  (e.next = 4),
                                  ge.navigateToAsync({
                                    url: "/pages/12306/login/login",
                                    ignoreError: !0,
                                  })
                                );
                              case 4:
                                n =
                                  null === (r = Hi.WG.getAttr("bind12306")) ||
                                  void 0 === r
                                    ? void 0
                                    : r.userName12306;
                              case 5:
                                (n = l(n)),
                                  (n = encodeURIComponent(
                                    encodeURIComponent(n)
                                  )),
                                  (a = "https://"
                                    .concat(
                                      S.default.h5domain,
                                      "/webapp/train/activity/static/common/thirdLogin?redirectUrl="
                                    )
                                    .concat(
                                      encodeURIComponent(
                                        ""
                                          .concat(t, "&userName=")
                                          .concat(n, "&isHideNavBar=YES")
                                      )
                                    )),
                                  O.Z.commonNavigator(a);
                              case 9:
                              case "end":
                                return e.stop();
                            }
                        }, e);
                      })
                    );
                    return function (t) {
                      return e.apply(this, arguments);
                    };
                  })(),
                  d = (function () {
                    var e = (0, p.Z)(
                      (0, m.Z)().mark(function e() {
                        var t, n, r;
                        return (0, m.Z)().wrap(function (e) {
                          for (;;)
                            switch ((e.prev = e.next)) {
                              case 0:
                                if ((t = i)) {
                                  e.next = 5;
                                  break;
                                }
                                return (
                                  (e.next = 4),
                                  ge.navigateToAsync({
                                    url: "/pages/12306/login/login",
                                    ignoreError: !0,
                                  })
                                );
                              case 4:
                                t =
                                  null === (n = Hi.WG.getAttr("bind12306")) ||
                                  void 0 === n
                                    ? void 0
                                    : n.userName12306;
                              case 5:
                                (r = "https://"
                                  .concat(
                                    S.default.h5domain,
                                    "/webapp/train/activity/static/common/thirdLogin?redirectUrl="
                                  )
                                  .concat(
                                    encodeURIComponent(
                                      "https://"
                                        .concat(
                                          S.default.h5domain,
                                          "/trnCustomerServiceWebapp/train/importantCustomer?userName="
                                        )
                                        .concat(t, "&partner=")
                                        .concat(
                                          S.default.isTieyou
                                            ? "TieYou"
                                            : "ZhiXing",
                                          "&isHideNavBar=YES&platform=weChat"
                                        )
                                    )
                                  )),
                                  O.Z.commonNavigator(r);
                              case 7:
                              case "end":
                                return e.stop();
                            }
                        }, e);
                      })
                    );
                    return function () {
                      return e.apply(this, arguments);
                    };
                  })(),
                  f = O.Z.throttle(function (e, t) {
                    switch (
                      (ge.ubtTrace("TZWBuyOrderDetail_serviceEntry_click", {
                        PageId: ge.getPage().pageId,
                        orderId: ge.getPage().oid,
                        CardType: t.title,
                      }),
                      e)
                    ) {
                      case te.studentQualification:
                        return (0, De.Zs)();
                      case te.stationScreen:
                        return (function () {
                          var e =
                              arguments.length > 0 && void 0 !== arguments[0]
                                ? arguments[0]
                                : {},
                            t = e.fromStation,
                            n = void 0 === t ? "" : t,
                            r = e.trainNo,
                            a = void 0 === r ? "" : r,
                            i = n;
                          if (!i) {
                            var o,
                              s = JSON.parse(JSON.stringify(c));
                            i =
                              (null ===
                                (o = (s = (s = s.sort(function (e, t) {
                                  return e.fromDate > t.fromDate;
                                })).sort(function (e, t) {
                                  return e.fromTime > t.fromTime;
                                }))[0]) || void 0 === o
                                ? void 0
                                : o.fromStation) || "";
                          }
                          var l = "/pages/trainminor/daping/daping?stationName="
                            .concat(i, "&trainNo=")
                            .concat(a, "&screenFlag=0");
                          ge.navigateTo({ url: l });
                        })();
                      case te.childAdder:
                        return Pe();
                      case te.trainTicketHolder:
                        return void ge.navigateTo({
                          url: "/pages/usercenter/shareCollection/shareCollection?fromSource=AppletsOrderDetail",
                          success: function () {
                            setTimeout(function () {
                              r(!1);
                            }, 1e3);
                          },
                        });
                      case te.ticketUpgrade:
                      case te.dynamicTrainRoute:
                      case te.ticketingInstructions:
                      case te.informationForChildren:
                      case te.informationForStudent:
                      case te.officialPoint:
                        return O.Z.commonNavigator(t.jumpUrl);
                      case te.recallLostItem:
                        return u(t.jumpUrl);
                      case te.priorityPassenger:
                        return d();
                      case te.trainStatus:
                      case te.outageInquiry:
                      case te.transferInquiry:
                      case te.trnTimeCheck:
                        return (function (e) {
                          li.Z.twebview({
                            data: { title: "查询首页", url: e },
                          });
                        })(t.jumpUrl);
                      default:
                        if (null != t && t.jumpUrl)
                          return O.Z.commonNavigator(t.jumpUrl);
                        (0, A.showToast)("敬请期待 OvO");
                    }
                  }, 1e3),
                  h = function () {
                    O.Z.commonNavigator(
                      "https://pages.suanya.com/spa/train/traintools.html?ishidenavbar=yes&isImmersiveMode=YES&source=2"
                    );
                  };
                return (0, tt.tZ)(hr, {
                  noAreaCanShow: !0,
                  Area: function (e) {
                    var t = (e || []).filter(function (e) {
                      var t = e.type;
                      return s.includes(t);
                    });
                    return t.length <= 0
                      ? null
                      : (0, tt.BX)(I.View, {
                          className:
                            "train-order-station-service-module white-padding-wrap",
                          children: [
                            (0, tt.BX)(I.View, {
                              className: "wrap-title flex",
                              children: [
                                (0, tt.tZ)(I.View, { children: "行程服务" }),
                                (0, tt.BX)(I.View, {
                                  className: "more flex-center",
                                  onClick: h,
                                  children: [
                                    "更多",
                                    (0, tt.tZ)(I.Text, {
                                      className: "iconfont2 ifont2-arr",
                                    }),
                                  ],
                                }),
                              ],
                            }),
                            (0, tt.tZ)(I.View, {
                              className: "cont flex ".concat(
                                t.length > 4 ? "multi-lines" : "single-line"
                              ),
                              children: t.map(function (e, t) {
                                return (
                                  o.current &&
                                    !o.current[e.type] &&
                                    (ge.ubtTrace(
                                      "TZWBuyOrderDetail_serviceEntry_exposure",
                                      {
                                        PageId: ge.getPage().pageId,
                                        orderId: ge.getPage().oid,
                                        CardType: e.title,
                                      }
                                    ),
                                    (o.current[e.type] = !0)),
                                  (0, tt.BX)(
                                    I.View,
                                    {
                                      className:
                                        "item flex flex-column flex-center ".concat(
                                          t > 4 ? "mt40" : ""
                                        ),
                                      onClick: f.bind(void 0, e.type, e),
                                      children: [
                                        (0, tt.BX)(I.View, {
                                          className: "img-box",
                                          children: [
                                            (0, tt.tZ)(I.Image, {
                                              webp: !0,
                                              src: e.newIcon || e.icon || "",
                                              className: "icon-store",
                                            }),
                                            e.type === te.trainTicketHolder &&
                                              n &&
                                              (0, tt.tZ)(I.View, {
                                                className: "amount",
                                                children: "1",
                                              }),
                                            e.tag &&
                                              (e.type === te.childAdder ||
                                                e.type === te.officialPoint) &&
                                              (0, tt.tZ)(I.View, {
                                                className: "tag trigons bottom",
                                                children: e.tag,
                                              }),
                                          ],
                                        }),
                                        (0, tt.tZ)(I.Icon, {
                                          className: "icon-dot",
                                        }),
                                        (0, tt.tZ)(I.View, {
                                          children: e.title,
                                        }),
                                      ],
                                    },
                                    t
                                  )
                                );
                              }),
                            }),
                          ],
                        });
                  },
                  codeName: a.TravelServiceArea,
                });
              })
            ),
            qi = n(17368),
            Yi = w.default.memo(function (e) {
              var t = e.data,
                n = void 0 === t ? null : t;
              if (!n) return (0, tt.tZ)(I.View, {});
              var a = function () {
                  Yn({
                    toast: {
                      toastCode: r.smartApplyServiceFeeRefundToast,
                      _jsonInfo: n.hrsfRule,
                    },
                  });
                },
                i = (function () {
                  var e = (0, p.Z)(
                    (0, m.Z)().mark(function e() {
                      var t;
                      return (0, m.Z)().wrap(
                        function (e) {
                          for (;;)
                            switch ((e.prev = e.next)) {
                              case 0:
                                return (
                                  (0, A.showLoading)("加载中..."),
                                  (e.prev = 1),
                                  (e.next = 4),
                                  (0, U.wm)({
                                    orderNumber: ge.getPage().oid,
                                    appendId: n.appendId,
                                  })
                                );
                              case 4:
                                if (
                                  ((t = e.sent),
                                  (0, A.hideLoading)(),
                                  1 === t.resultCode)
                                ) {
                                  e.next = 9;
                                  break;
                                }
                                return (
                                  (0, A.showToast)(
                                    t.resultMessage || "申请失败，请稍后重试~"
                                  ),
                                  e.abrupt("return")
                                );
                              case 9:
                                (0, A.showToast)(
                                  t.resultMessage || "申请成功~"
                                ),
                                  Kn(),
                                  (e.next = 16);
                                break;
                              case 13:
                                (e.prev = 13),
                                  (e.t0 = e.catch(1)),
                                  (0, A.hideLoading)();
                              case 16:
                              case "end":
                                return e.stop();
                            }
                        },
                        e,
                        null,
                        [[1, 13]]
                      );
                    })
                  );
                  return function () {
                    return e.apply(this, arguments);
                  };
                })();
              return (0, tt.BX)(I.View, {
                className: "tsmart-asfr-banner flex-align-items-center",
                children: [
                  (0, tt.tZ)(I.Image, {
                    className: "l-icon",
                    src: "https://images3.c-ctrip.com/ztrip/train_zhu/icon_ZNGQ_redbag_28.png",
                  }),
                  (0, tt.BX)(I.View, {
                    className: "m-box flex-1",
                    children: [
                      (0, tt.BX)(I.View, {
                        className: "tit-box flex-align-items-center",
                        children: [
                          (0, tt.tZ)(I.View, {
                            className: "tit",
                            children: n.title,
                          }),
                          (0, tt.tZ)(qi.Z, {
                            mode: "img",
                            iconUrl:
                              "https://images3.c-ctrip.com/ztrip/train_zhu/icon_ty_info_16.png",
                            customizeStyle: {
                              icon: "width: "
                                .concat(x().pxTransform(32), ";height: ")
                                .concat(x().pxTransform(32), ";"),
                            },
                            onClickHandle: a,
                          }),
                        ],
                      }),
                      (0, tt.tZ)(I.View, {
                        className: "desc",
                        children: n.subTitle,
                      }),
                    ],
                  }),
                  (0, tt.tZ)(I.View, {
                    className: "btn ".concat(2 === n.state ? "disabled" : ""),
                    id: "AJGq",
                    onClick: function () {
                      switch (n.state) {
                        case 0:
                          a();
                          break;
                        case 1:
                          i();
                      }
                    },
                    children: (function (e) {
                      var t = "查看";
                      switch (e) {
                        case 0:
                          t = "查看";
                          break;
                        case 1:
                          t = "申请";
                          break;
                        case 2:
                          t = "已发放";
                      }
                      return t;
                    })(n.state),
                  }),
                ],
              });
            }),
            Qi = function (e) {
              var t = e.info,
                n = e.isScrolling;
              if (
                ((0, w.useEffect)(function () {
                  ge.ubtTrace("TZWBuyOrderDetail_DiversionIcon_exposure", {
                    PageId: ge.getPage().pageId,
                    OrderNumber: ge.getPage().oid,
                  });
                }, []),
                !t)
              )
                return null;
              var r = t.imgUrl,
                a = t.jumpUrl;
              return (0, tt.tZ)(I.View, {
                className: "tdv2-DiversionIcon ".concat(n ? "fold-in" : ""),
                onClick: function () {
                  ge.ubtTrace("TZWBuyOrderDetail_DiversionIcon_click", {
                    PageId: ge.getPage().pageId,
                    OrderNumber: ge.getPage().oid,
                  }),
                    O.Z.commonNavigator(a);
                },
                children: (0, tt.tZ)(I.Image, {
                  className: "icon-img",
                  src: r,
                }),
              });
            },
            $i =
              (0, N.h)(!1, { usePageWrapper: !0 })(
                (Xi = (function (e) {
                  (0, T.Z)(n, e);
                  var t = (0, Z.Z)(n);
                  function n(e) {
                    var r;
                    return (
                      (0, h.Z)(this, n),
                      ((r = t.call(this, e)).store = ge.create(
                        (0, v.Z)(r)
                      ).store),
                      (r.pageTitle = "订单详情"),
                      (r.pageRootClassName = "train-orderdetail-v2"),
                      (r.pageId = S.default.isTieyou
                        ? "10650060641"
                        : "10650060639"),
                      (r.state = { initDataSuccess: !1, isScrolling: !1 }),
                      r
                    );
                  }
                  return (
                    (0, g.Z)(n, [
                      {
                        key: "componentDidMount",
                        value: function () {
                          var e = this;
                          this.setPageData(),
                            this.addRefreshListener(),
                            Kn().then(function () {
                              var t = ge.getState().orderModel.isSelfTicket;
                              e.ubtTrace("TZWBuyOrderDetail_exposure", {
                                PageId: e.pageId,
                                OrderNumber: e.oid,
                                Type: t ? 1 : 0,
                                fromSource: e.fromPage,
                              });
                            });
                        },
                      },
                      {
                        key: "componentWillUnmount",
                        value: function () {
                          this.removeRefreshListener(), (this._isUnmout = !0);
                        },
                      },
                      {
                        key: "setPageData",
                        value: function () {
                          var e = this.$instance.router.params || {},
                            t = e.oid,
                            n = e.operateType,
                            r = e.fromPage;
                          (this.oid = t),
                            (this.operateType = n),
                            (this.fromPage = r || "noSource");
                        },
                      },
                      {
                        key: "onBack",
                        value: function () {
                          (0, b.getCurrentPages)().length >= 2
                            ? this.navigateBack()
                            : x().reLaunch({ url: "/pages/home/index" });
                        },
                      },
                      {
                        key: "onPullDownRefresh",
                        value: (function () {
                          var e = (0, p.Z)(
                            (0, m.Z)().mark(function e() {
                              return (0, m.Z)().wrap(
                                function (e) {
                                  for (;;)
                                    switch ((e.prev = e.next)) {
                                      case 0:
                                        if (
                                          ((e.t0 = !this.isFreezePullDown),
                                          !e.t0)
                                        ) {
                                          e.next = 4;
                                          break;
                                        }
                                        return (e.next = 4), Kn();
                                      case 4:
                                        x().stopPullDownRefresh();
                                      case 5:
                                      case "end":
                                        return e.stop();
                                    }
                                },
                                e,
                                this
                              );
                            })
                          );
                          return function () {
                            return e.apply(this, arguments);
                          };
                        })(),
                      },
                      {
                        key: "addRefreshListener",
                        value: function () {
                          b.eventCenter.on(y.n.RESCHEDULE_SUBMIT, Kn);
                        },
                      },
                      {
                        key: "removeRefreshListener",
                        value: function () {
                          b.eventCenter.off(y.n.RESCHEDULE_SUBMIT, Kn);
                        },
                      },
                      {
                        key: "freezePullDown",
                        value: function () {
                          this.isFreezePullDown = !0;
                        },
                      },
                      {
                        key: "unfreezePullDown",
                        value: function () {
                          this.isFreezePullDown = !1;
                        },
                      },
                      {
                        key: "onShareAppMessage",
                        value: function (e) {
                          return (function (e) {
                            var t,
                              n =
                                null == e ||
                                null === (t = e.target) ||
                                void 0 === t
                                  ? void 0
                                  : t.id;
                            return "refundShare" === n
                              ? $n()
                              : "resignShare" === n
                              ? er()
                              : void 0;
                          })(e);
                        },
                      },
                      {
                        key: "onPageScroll",
                        value: function () {
                          var e = this;
                          this.isScrolling
                            ? (clearTimeout(this.scrollTimer),
                              (this.scrollTimer = setTimeout(function () {
                                (e.isScrolling = !1),
                                  e.setState({ isScrolling: !1 });
                              }, 300)))
                            : ((this.isScrolling = !0),
                              this.setState({ isScrolling: !0 }),
                              (this.scrollTimer = setTimeout(function () {
                                (e.isScrolling = !1),
                                  e.setState({ isScrolling: !1 });
                              }, 300)));
                        },
                      },
                      {
                        key: "onUserCaptureScreen",
                        value: function () {
                          if (
                            (function () {
                              var e,
                                t = ge.getState().orderModel.orderInfo,
                                n = ge.getState().orderModel.orginalOrder,
                                r = ge.getState().orderModel.orginalOrderRoute2,
                                a = ge.getState().orderModel.rescheduleOrders,
                                i =
                                  (null ===
                                    (e = ge.getState().orderModel.orderInfo) ||
                                  void 0 === e
                                    ? void 0
                                    : e.payFlag) || 0,
                                o = ge.getState().orderModel.orderTicketList,
                                c = [].concat(
                                  (0, Re.Z)(
                                    (null == n ? void 0 : n.ticketInfoList) ||
                                      []
                                  ),
                                  (0, Re.Z)(
                                    (null == r ? void 0 : r.ticketInfoList) ||
                                      []
                                  )
                                ),
                                s = hn(c),
                                l = gn(c, a),
                                u = vn(a, i),
                                d = pn(c) || s || l || u,
                                f = o.find(function (e) {
                                  return !e._isUselessOrder;
                                });
                              return !d && f && !t.payFlag;
                            })()
                          )
                            return Un(1);
                        },
                      },
                      {
                        key: "render",
                        value: function () {
                          var e = this,
                            t = this.state,
                            n = t.initDataSuccess,
                            r = t.isScrolling;
                          return (0, tt.BX)(_.zt, {
                            store: this.store,
                            children: [
                              (0, tt.tZ)(ur, {}),
                              (0, tt.tZ)(Ei, {}),
                              (0, tt.tZ)(Fr, {}),
                              (0, tt.tZ)($a, {}),
                              (0, tt.tZ)(hr, {
                                Area: function (e) {
                                  return (
                                    ge.ubtTrace("s_trn_z_trace_10650060639", {
                                      exposureType: "normal",
                                      bizKey:
                                        "z_mini_43003_urgentreport_rengong_show",
                                      orderid: ge.getPage().oid,
                                    }),
                                    (0, tt.tZ)(C.Z, {
                                      show: !!e,
                                      productInfo: e,
                                      confirm: function () {
                                        return tn(e);
                                      },
                                    })
                                  );
                                },
                                codeName: a.delayTicket2EleArea,
                              }),
                              (0, tt.tZ)(hr, {
                                Area: function (e) {
                                  return (0, tt.tZ)(Yi, { data: e });
                                },
                                codeName: a.smartApplyServiceFeeRefundArea,
                              }),
                              (0, tt.tZ)(hr, {
                                Area: function (e) {
                                  return (0, tt.tZ)(Qi, {
                                    info: e,
                                    isScrolling: r,
                                  });
                                },
                                readFrom: "area",
                                codeName: a.WechatRedPaper,
                              }),
                              (0, tt.tZ)(Ki, {}),
                              (0, tt.tZ)(ai, {}),
                              (0, tt.tZ)(Gi, {}),
                              (0, tt.tZ)(_i, {}),
                              n && (0, tt.tZ)(k.Z, {}),
                              (0, tt.tZ)(ni, {}),
                              (0, tt.tZ)(ri, {}),
                              (0, tt.tZ)(I.Block, {
                                children: (0, tt.tZ)(Ya, {
                                  onRef: function (t) {
                                    e.$CommonToast = t;
                                  },
                                }),
                              }),
                              (0, tt.tZ)(V.Z, {
                                ref: function (t) {
                                  return (e.$PointPayLayer = t);
                                },
                              }),
                            ],
                          });
                        },
                      },
                    ]),
                    n
                  );
                })(w.default.Component))
              ) || Xi;
          ($i.enableShareAppMessage = !0),
            Page(
              (0, f.createPageConfig)(
                $i,
                "pages/trainDetail/order/order",
                { root: { cn: [] } },
                {
                  navigationBarTitleText: "订单详情",
                  navigationBarBackgroundColor: "#0066E6",
                  backgroundColorTop: "#F5F5F5",
                  backgroundColorBottom: "#F5F5F5",
                  enablePullDownRefresh: !0,
                  navigationStyle: "custom",
                } || {}
              )
            );
        },
      },
      function (e) {
        e.O(
          0,
          [
            93611, 3322, 36332, 95854, 8014, 81198, 35203, 4978, 31162, 77,
            61094, 30120, 26450, 8905, 52593, 34335, 37513, 74731, 10560, 32690,
            11748, 83067, 74171, 60579, 50127, 77585, 31472, 85379, 43412, 5207,
            36250, 71341, 80391, 72407, 53533, 31882, 22703, 56906, 35408,
            24903, 52306, 89576, 17604, 57822, 5421, 72660, 92387, 53647, 40459,
            24696, 45944, 55490, 39618, 43883, 50914, 17115, 69666, 22904,
            83196, 17463, 36, 59777, 87799, 47613, 88564, 46495, 86837, 71295,
            80673, 96422, 88540, 37354, 75092, 22772, 88930, 29487, 71838,
            26968, 22341, 95601, 90186, 4991, 56737, 19559, 11216, 68592,
          ],
          function () {
            return (function (t) {
              return e((e.s = t));
            })(45322);
          }
        ),
          e.O();
      },
    ]);
})();
